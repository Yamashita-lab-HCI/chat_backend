INFO 2024-08-21 11:31:36,130 autoreload 64258 8726777664 Watching for file changes with StatReloader
INFO 2024-08-21 11:31:40,074 cli 64267 8726777664 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-21 11:31:40,074 server 64267 8726777664 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-21 11:31:40,074 server 64267 8726777664 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-21 11:31:40,075 server 64267 8726777664 Listening on TCP address 127.0.0.1:8001
INFO 2024-08-21 11:31:47,883 basehttp 64258 6162591744 "GET / HTTP/1.1" 200 1008
INFO 2024-08-21 11:31:47,936 basehttp 64258 6162591744 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-21 11:31:47,947 basehttp 64258 6179418112 "GET /static/css/app.css HTTP/1.1" 200 2545
INFO 2024-08-21 11:31:47,947 basehttp 64258 6196244480 "GET /static/js/app.js HTTP/1.1" 200 33148
INFO 2024-08-21 11:31:47,974 basehttp 64258 6162591744 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4998455
INFO 2024-08-21 11:31:48,191 basehttp 64258 6162591744 "GET /api/check_login_status/ HTTP/1.1" 200 21
INFO 2024-08-21 11:31:48,210 basehttp 64258 6162591744 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-21 11:31:55,494 basehttp 64258 6162591744 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-08-21 11:31:55,634 basehttp 64258 6162591744 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-08-21 11:31:55,728 basehttp 64258 6162591744 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-08-21 11:31:55,818 basehttp 64258 6162591744 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-08-21 11:31:55,961 basehttp 64258 6162591744 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-08-21 11:31:59,354 basehttp 64258 6162591744 "POST /api/register/ HTTP/1.1" 201 64
INFO 2024-08-21 11:32:06,287 basehttp 64258 6162591744 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-21 11:32:42,295 basehttp 64258 6162591744 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-21 11:32:42,301 basehttp 64258 6179418112 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-21 11:32:42,319 log 64258 6196244480 Not Found: /api/get_icon_color/
WARNING 2024-08-21 11:32:42,319 basehttp 64258 6196244480 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-21 11:32:42,352 basehttp 64258 6196244480 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-21 11:32:42,357 basehttp 64258 6162591744 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-21 11:32:42,356 basehttp 64258 6179418112 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-21 11:32:42,359 basehttp 64258 6213070848 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-21 11:32:42,519 basehttp 64258 6213070848 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-21 11:32:42,522 basehttp 64258 6162591744 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-21 11:32:42,551 basehttp 64258 6162591744 "GET /api/room/ HTTP/1.1" 200 2
INFO 2024-08-21 11:32:42,572 basehttp 64258 6162591744 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-21 11:32:42,579 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57058] to WebSocket
INFO 2024-08-21 11:32:42,590 basehttp 64258 6162591744 "POST /api/create_default_room/ HTTP/1.1" 201 69
DEBUG 2024-08-21 11:32:42,592 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57058] open and established
DEBUG 2024-08-21 11:32:42,592 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57058] accepted by application
DEBUG 2024-08-21 11:32:42,593 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57058]
WARNING 2024-08-21 11:32:42,594 log 64258 6162591744 Not Found: /api/messages/
WARNING 2024-08-21 11:32:42,594 basehttp 64258 6162591744 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-21 11:32:42,598 log 64258 6162591744 Not Found: /api/messages/
WARNING 2024-08-21 11:32:42,598 basehttp 64258 6162591744 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-21 11:32:42,605 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57059] to WebSocket
INFO 2024-08-21 11:32:42,607 consumers 64267 8726777664 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-21 11:32:42,607 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57059] open and established
DEBUG 2024-08-21 11:32:42,607 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57059] accepted by application
INFO 2024-08-21 11:32:42,607 consumers 64267 8726777664 WebSocket connected: room=0, user=keita
ERROR 2024-08-21 11:32:43,134 server 64267 8726777664 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-21 11:32:43,155 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57059]
INFO 2024-08-21 11:32:48,393 basehttp 64258 6162591744 "POST /api/create-room/ HTTP/1.1" 201 61
DEBUG 2024-08-21 11:32:48,402 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57066] to WebSocket
INFO 2024-08-21 11:32:48,407 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:32:48,408 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57066] open and established
DEBUG 2024-08-21 11:32:48,408 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57066] accepted by application
INFO 2024-08-21 11:32:48,408 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:32:48,411 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57066]
INFO 2024-08-21 11:32:48,422 basehttp 64258 6162591744 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-21 11:32:48,423 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57067] to WebSocket
INFO 2024-08-21 11:32:48,425 basehttp 64258 6213070848 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-21 11:32:48,426 basehttp 64258 6179418112 "GET /api/messages/?room_id=2 HTTP/1.1" 200 2
INFO 2024-08-21 11:32:48,427 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:32:48,427 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57067] open and established
DEBUG 2024-08-21 11:32:48,427 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57067] accepted by application
INFO 2024-08-21 11:32:48,427 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:32:48,429 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57067]
INFO 2024-08-21 11:32:48,439 basehttp 64258 6179418112 "GET /api/messages/?room_id=2 HTTP/1.1" 200 2
INFO 2024-08-21 11:32:48,439 basehttp 64258 6213070848 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-21 11:32:48,440 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57068] to WebSocket
INFO 2024-08-21 11:32:48,442 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:32:48,442 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57068] open and established
DEBUG 2024-08-21 11:32:48,442 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57068] accepted by application
INFO 2024-08-21 11:32:48,442 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
INFO 2024-08-21 11:32:48,443 basehttp 64258 6213070848 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-21 11:32:48,444 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57068]
DEBUG 2024-08-21 11:32:48,455 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57069] to WebSocket
INFO 2024-08-21 11:32:48,457 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:32:48,457 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57069] open and established
DEBUG 2024-08-21 11:32:48,457 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57069] accepted by application
INFO 2024-08-21 11:32:48,457 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:32:48,458 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57069]
DEBUG 2024-08-21 11:32:48,469 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57070] to WebSocket
INFO 2024-08-21 11:32:48,470 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:32:48,471 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57070] open and established
DEBUG 2024-08-21 11:32:48,471 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57070] accepted by application
INFO 2024-08-21 11:32:48,471 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:32:48,472 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57070]
DEBUG 2024-08-21 11:32:48,484 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57071] to WebSocket
INFO 2024-08-21 11:32:48,485 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:32:48,485 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57071] open and established
DEBUG 2024-08-21 11:32:48,486 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57071] accepted by application
INFO 2024-08-21 11:32:48,486 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:32:48,487 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57071]
DEBUG 2024-08-21 11:32:48,500 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 57072] to WebSocket
INFO 2024-08-21 11:32:48,505 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:32:48,505 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57072] open and established
DEBUG 2024-08-21 11:32:48,505 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 57072] accepted by application
INFO 2024-08-21 11:32:48,505 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:32:48,507 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57072]
DEBUG 2024-08-21 11:32:50,563 ws_protocol 64267 8726777664 WebSocket incoming frame on ['127.0.0.1', 57072]
DEBUG 2024-08-21 11:32:50,574 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57066]
DEBUG 2024-08-21 11:32:50,575 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57067]
DEBUG 2024-08-21 11:32:50,575 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57068]
DEBUG 2024-08-21 11:32:50,575 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57069]
DEBUG 2024-08-21 11:32:50,576 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57070]
DEBUG 2024-08-21 11:32:50,576 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57071]
DEBUG 2024-08-21 11:32:50,576 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57072]
INFO 2024-08-21 11:32:50,588 basehttp 64258 6213070848 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-21 11:32:57,324 ws_protocol 64267 8726777664 WebSocket incoming frame on ['127.0.0.1', 57072]
DEBUG 2024-08-21 11:32:57,332 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57066]
DEBUG 2024-08-21 11:32:57,332 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57067]
DEBUG 2024-08-21 11:32:57,333 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57068]
DEBUG 2024-08-21 11:32:57,333 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57069]
DEBUG 2024-08-21 11:32:57,333 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57070]
DEBUG 2024-08-21 11:32:57,333 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57071]
DEBUG 2024-08-21 11:32:57,334 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57072]
WARNING 2024-08-21 11:33:25,699 log 64258 6179418112 Not Found: /api/get_icon_color/
WARNING 2024-08-21 11:33:25,706 basehttp 64258 6179418112 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-21 11:33:25,707 basehttp 64258 6213070848 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-21 11:33:29,034 basehttp 64258 6179418112 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-21 11:33:36,311 basehttp 64258 6179418112 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-21 11:33:36,311 basehttp 64258 6213070848 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-21 11:33:36,706 basehttp 64258 6179418112 "GET /static/js/app.js.map HTTP/1.1" 200 102867
INFO 2024-08-21 11:33:36,753 basehttp 64258 6179418112 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873438
INFO 2024-08-21 11:34:07,533 basehttp 64258 6179418112 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-21 11:34:13,380 basehttp 64258 6179418112 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-21 11:34:21,570 basehttp 64258 6179418112 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-21 11:34:31,457 basehttp 64258 6179418112 "GET /static/js/app.js.map HTTP/1.1" 200 102867
INFO 2024-08-21 11:34:31,490 basehttp 64258 6213070848 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873438
DEBUG 2024-08-21 11:36:01,491 ws_protocol 64267 8726777664 WebSocket incoming frame on ['127.0.0.1', 57072]
DEBUG 2024-08-21 11:36:01,502 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57066]
DEBUG 2024-08-21 11:36:01,502 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57067]
DEBUG 2024-08-21 11:36:01,503 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57068]
DEBUG 2024-08-21 11:36:01,503 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57069]
DEBUG 2024-08-21 11:36:01,503 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57070]
DEBUG 2024-08-21 11:36:01,504 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57071]
DEBUG 2024-08-21 11:36:01,504 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57072]
WARNING 2024-08-21 11:36:01,523 log 64258 6213070848 Not Found: /api/get_icon_color/
WARNING 2024-08-21 11:36:01,523 basehttp 64258 6213070848 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-21 11:36:08,279 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57072]
INFO 2024-08-21 11:36:08,282 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-21 11:36:08,298 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 58263] to WebSocket
INFO 2024-08-21 11:36:08,304 basehttp 64258 6213070848 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-21 11:36:08,304 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58263] open and established
DEBUG 2024-08-21 11:36:08,305 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58263] accepted by application
INFO 2024-08-21 11:36:08,306 basehttp 64258 6179418112 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-21 11:36:08,307 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58263]
DEBUG 2024-08-21 11:36:09,523 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 58269] to WebSocket
DEBUG 2024-08-21 11:36:09,525 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 58263]
INFO 2024-08-21 11:36:09,527 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:36:09,528 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58269] open and established
DEBUG 2024-08-21 11:36:09,528 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58269] accepted by application
INFO 2024-08-21 11:36:09,528 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:36:09,533 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58269]
INFO 2024-08-21 11:36:09,546 basehttp 64258 6213070848 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-21 11:36:09,548 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 58270] to WebSocket
INFO 2024-08-21 11:36:09,549 basehttp 64258 6179418112 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-21 11:36:09,550 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:36:09,551 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58270] open and established
DEBUG 2024-08-21 11:36:09,551 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58270] accepted by application
INFO 2024-08-21 11:36:09,551 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
INFO 2024-08-21 11:36:09,551 basehttp 64258 6162591744 "GET /api/messages/?room_id=2 HTTP/1.1" 200 417
DEBUG 2024-08-21 11:36:09,553 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58270]
DEBUG 2024-08-21 11:36:09,563 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 58271] to WebSocket
INFO 2024-08-21 11:36:09,564 basehttp 64258 6162591744 "GET /api/messages/?room_id=2 HTTP/1.1" 200 417
INFO 2024-08-21 11:36:09,565 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:36:09,565 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58271] open and established
DEBUG 2024-08-21 11:36:09,565 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58271] accepted by application
INFO 2024-08-21 11:36:09,565 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:36:09,567 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58271]
INFO 2024-08-21 11:36:09,569 basehttp 64258 6162591744 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-21 11:36:09,570 basehttp 64258 6179418112 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-21 11:36:09,573 basehttp 64258 6179418112 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-21 11:36:09,574 basehttp 64258 6162591744 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-21 11:36:09,578 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 58272] to WebSocket
INFO 2024-08-21 11:36:09,580 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:36:09,580 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58272] open and established
DEBUG 2024-08-21 11:36:09,580 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58272] accepted by application
INFO 2024-08-21 11:36:09,580 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:36:09,582 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58272]
DEBUG 2024-08-21 11:36:09,592 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 58273] to WebSocket
INFO 2024-08-21 11:36:09,594 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:36:09,595 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58273] open and established
DEBUG 2024-08-21 11:36:09,595 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58273] accepted by application
INFO 2024-08-21 11:36:09,595 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:36:09,596 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58273]
DEBUG 2024-08-21 11:36:09,610 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 58274] to WebSocket
INFO 2024-08-21 11:36:09,613 consumers 64267 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-21 11:36:09,614 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58274] open and established
DEBUG 2024-08-21 11:36:09,614 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 58274] accepted by application
INFO 2024-08-21 11:36:09,614 consumers 64267 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-21 11:36:09,616 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58274]
DEBUG 2024-08-21 11:36:12,044 ws_protocol 64267 8726777664 WebSocket incoming frame on ['127.0.0.1', 58274]
DEBUG 2024-08-21 11:36:12,056 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57066]
DEBUG 2024-08-21 11:36:12,057 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57067]
DEBUG 2024-08-21 11:36:12,057 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57068]
DEBUG 2024-08-21 11:36:12,057 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57069]
DEBUG 2024-08-21 11:36:12,058 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57070]
DEBUG 2024-08-21 11:36:12,058 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57071]
DEBUG 2024-08-21 11:36:12,058 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58269]
DEBUG 2024-08-21 11:36:12,058 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58270]
DEBUG 2024-08-21 11:36:12,058 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58271]
DEBUG 2024-08-21 11:36:12,059 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58272]
DEBUG 2024-08-21 11:36:12,059 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58273]
DEBUG 2024-08-21 11:36:12,059 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58274]
INFO 2024-08-21 11:36:17,294 basehttp 64258 6179418112 "POST /api/record/ HTTP/1.1" 201 21
WARNING 2024-08-21 11:36:17,297 log 64258 6162591744 Not Found: /api/get_icon_color/
WARNING 2024-08-21 11:36:17,298 basehttp 64258 6162591744 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-21 12:13:36,183 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 58274]
DEBUG 2024-08-21 12:13:36,184 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 58273]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 58272]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 58271]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 58270]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 58269]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57069]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57068]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57067]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57066]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57058]
DEBUG 2024-08-21 12:13:36,185 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57071]
DEBUG 2024-08-21 12:13:36,186 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 57070]
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-21 12:13:36,187 consumers 64267 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
DEBUG 2024-08-21 12:13:39,754 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 52507] to WebSocket
DEBUG 2024-08-21 12:13:39,764 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 52507] open and established
DEBUG 2024-08-21 12:13:39,764 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 52507] accepted by application
DEBUG 2024-08-21 12:13:39,765 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 52507]
DEBUG 2024-08-22 06:47:50,078 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 52507]
DEBUG 2024-08-22 06:47:53,722 http_protocol 64267 8726777664 Upgraded connection ['127.0.0.1', 54204] to WebSocket
DEBUG 2024-08-22 06:47:53,730 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 54204] open and established
DEBUG 2024-08-22 06:47:53,731 ws_protocol 64267 8726777664 WebSocket ['127.0.0.1', 54204] accepted by application
DEBUG 2024-08-22 06:47:53,735 ws_protocol 64267 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 54204]
INFO 2024-08-22 08:20:10,321 autoreload 64258 8726777664 /Users/keis/dev/chat_backend/chat_backend/models.py changed, reloading.
INFO 2024-08-22 08:20:10,710 autoreload 68382 8726777664 Watching for file changes with StatReloader
INFO 2024-08-22 08:22:16,269 server 64267 8726777664 Killed 1 pending application instances
DEBUG 2024-08-22 08:22:16,272 ws_protocol 64267 8726777664 WebSocket closed for ['127.0.0.1', 54204]
INFO 2024-08-22 08:22:44,411 autoreload 68825 8726777664 Watching for file changes with StatReloader
INFO 2024-08-22 08:22:47,927 cli 68837 8726777664 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-22 08:22:47,927 server 68837 8726777664 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-22 08:22:47,927 server 68837 8726777664 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-22 08:22:47,928 server 68837 8726777664 Listening on TCP address 127.0.0.1:8001
INFO 2024-08-22 08:22:52,922 basehttp 68825 6164180992 "GET / HTTP/1.1" 200 1008
INFO 2024-08-22 08:22:52,966 basehttp 68825 6164180992 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-22 08:22:52,985 basehttp 68825 6181007360 "GET /static/css/app.css HTTP/1.1" 200 2545
INFO 2024-08-22 08:22:52,994 basehttp 68825 6197833728 "GET /static/js/app.js HTTP/1.1" 200 33055
INFO 2024-08-22 08:22:53,013 basehttp 68825 6164180992 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4998455
INFO 2024-08-22 08:22:53,226 basehttp 68825 6164180992 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-22 08:22:53,245 basehttp 68825 6164180992 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-22 08:22:53,269 basehttp 68825 6164180992 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-22 08:22:54,043 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57156] to WebSocket
DEBUG 2024-08-22 08:22:54,058 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57156] open and established
DEBUG 2024-08-22 08:22:54,058 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57156] accepted by application
DEBUG 2024-08-22 08:22:54,060 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57156]
INFO 2024-08-22 08:22:55,246 basehttp 68825 6164180992 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-22 08:23:00,333 basehttp 68825 6164180992 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-22 08:23:01,948 basehttp 68825 6164180992 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-22 08:23:01,950 basehttp 68825 6197833728 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-22 08:23:01,961 log 68825 6181007360 Not Found: /api/get_icon_color/
WARNING 2024-08-22 08:23:01,961 basehttp 68825 6181007360 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-22 08:23:01,982 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57156]
INFO 2024-08-22 08:23:01,996 basehttp 68825 6181007360 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-22 08:23:01,997 basehttp 68825 6164180992 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-22 08:23:01,998 basehttp 68825 6197833728 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-22 08:23:01,999 basehttp 68825 6214660096 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-22 08:23:02,149 basehttp 68825 6214660096 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-22 08:23:02,157 basehttp 68825 6197833728 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-22 08:23:02,179 basehttp 68825 6197833728 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-22 08:23:02,202 basehttp 68825 6197833728 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-22 08:23:02,208 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57173] to WebSocket
INFO 2024-08-22 08:23:02,218 basehttp 68825 6197833728 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-22 08:23:02,219 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57173] open and established
DEBUG 2024-08-22 08:23:02,220 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57173] accepted by application
DEBUG 2024-08-22 08:23:02,221 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57173]
WARNING 2024-08-22 08:23:02,222 log 68825 6197833728 Not Found: /api/messages/
WARNING 2024-08-22 08:23:02,222 basehttp 68825 6197833728 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-22 08:23:02,226 log 68825 6197833728 Not Found: /api/messages/
WARNING 2024-08-22 08:23:02,226 basehttp 68825 6197833728 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-22 08:23:02,234 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57174] to WebSocket
INFO 2024-08-22 08:23:02,238 consumers 68837 8726777664 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-22 08:23:02,238 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57174] open and established
DEBUG 2024-08-22 08:23:02,238 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57174] accepted by application
INFO 2024-08-22 08:23:02,239 consumers 68837 8726777664 WebSocket connected: room=0, user=keita
ERROR 2024-08-22 08:23:02,942 server 68837 8726777664 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-22 08:23:02,970 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57174]
DEBUG 2024-08-22 08:23:03,051 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57175] to WebSocket
INFO 2024-08-22 08:23:03,057 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:23:03,057 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57175] open and established
DEBUG 2024-08-22 08:23:03,057 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57175] accepted by application
INFO 2024-08-22 08:23:03,058 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:23:03,067 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57175]
INFO 2024-08-22 08:23:03,068 basehttp 68825 6197833728 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-22 08:23:03,069 basehttp 68825 6214660096 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-22 08:23:03,070 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57176] to WebSocket
INFO 2024-08-22 08:23:03,072 basehttp 68825 6164180992 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
INFO 2024-08-22 08:23:03,072 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:23:03,073 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57176] open and established
DEBUG 2024-08-22 08:23:03,073 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57176] accepted by application
INFO 2024-08-22 08:23:03,073 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:23:03,074 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57176]
DEBUG 2024-08-22 08:23:03,084 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57177] to WebSocket
INFO 2024-08-22 08:23:03,087 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:23:03,087 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57177] open and established
DEBUG 2024-08-22 08:23:03,087 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57177] accepted by application
INFO 2024-08-22 08:23:03,087 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:23:03,090 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57177]
INFO 2024-08-22 08:23:03,092 basehttp 68825 6164180992 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
INFO 2024-08-22 08:23:03,097 basehttp 68825 6164180992 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-22 08:23:03,097 basehttp 68825 6214660096 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-22 08:23:03,101 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57178] to WebSocket
INFO 2024-08-22 08:23:03,104 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:23:03,104 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57178] open and established
DEBUG 2024-08-22 08:23:03,104 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57178] accepted by application
INFO 2024-08-22 08:23:03,104 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:23:03,106 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57178]
INFO 2024-08-22 08:23:03,107 basehttp 68825 6214660096 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-22 08:23:03,108 basehttp 68825 6164180992 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-22 08:23:03,117 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57179] to WebSocket
INFO 2024-08-22 08:23:03,119 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:23:03,119 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57179] open and established
DEBUG 2024-08-22 08:23:03,119 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57179] accepted by application
INFO 2024-08-22 08:23:03,119 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:23:03,120 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57179]
DEBUG 2024-08-22 08:23:03,133 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57180] to WebSocket
INFO 2024-08-22 08:23:03,138 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:23:03,138 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57180] open and established
DEBUG 2024-08-22 08:23:03,138 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57180] accepted by application
INFO 2024-08-22 08:23:03,138 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:23:03,140 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57180]
DEBUG 2024-08-22 08:23:03,153 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57181] to WebSocket
INFO 2024-08-22 08:23:03,156 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:23:03,157 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57181] open and established
DEBUG 2024-08-22 08:23:03,157 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57181] accepted by application
INFO 2024-08-22 08:23:03,157 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:23:03,159 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57181]
INFO 2024-08-22 08:23:09,400 basehttp 68825 6164180992 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-22 08:23:12,988 basehttp 68825 6164180992 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-22 08:23:30,292 basehttp 68825 6164180992 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-22 08:30:07,787 basehttp 68825 6164180992 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-22 08:30:07,803 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57181]
INFO 2024-08-22 08:30:07,831 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-22 08:30:07,831 basehttp 68825 6164180992 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-22 08:30:34,422 basehttp 68825 6164180992 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-22 08:30:35,653 basehttp 68825 6164180992 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-22 08:30:35,667 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57493] to WebSocket
DEBUG 2024-08-22 08:30:35,674 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57493]
DEBUG 2024-08-22 08:30:35,674 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57179]
DEBUG 2024-08-22 08:30:35,674 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57175]
DEBUG 2024-08-22 08:30:35,674 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57178]
DEBUG 2024-08-22 08:30:35,674 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57173]
DEBUG 2024-08-22 08:30:35,674 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57180]
DEBUG 2024-08-22 08:30:35,675 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57177]
DEBUG 2024-08-22 08:30:35,675 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57176]
INFO 2024-08-22 08:30:35,675 basehttp 68825 6197833728 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-22 08:30:35,675 basehttp 68825 6197833728 - Broken pipe from ('127.0.0.1', 57495)
WARNING 2024-08-22 08:30:35,676 log 68825 6181007360 Not Found: /api/get_icon_color/
WARNING 2024-08-22 08:30:35,676 basehttp 68825 6181007360 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-22 08:30:35,678 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:35,678 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:35,678 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:35,678 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:35,678 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:35,678 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:35,683 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
INFO 2024-08-22 08:30:35,683 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
INFO 2024-08-22 08:30:35,685 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-22 08:30:35,687 basehttp 68825 6164180992 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-22 08:30:35,688 basehttp 68825 6181007360 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-22 08:30:35,695 basehttp 68825 6181007360 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-22 08:30:35,697 basehttp 68825 6181007360 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-22 08:30:35,850 basehttp 68825 6181007360 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-22 08:30:35,860 basehttp 68825 6164180992 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-22 08:30:35,880 basehttp 68825 6164180992 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-22 08:30:35,910 basehttp 68825 6164180992 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-22 08:30:35,910 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57501] to WebSocket
DEBUG 2024-08-22 08:30:35,919 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57501] open and established
DEBUG 2024-08-22 08:30:35,920 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57501] accepted by application
INFO 2024-08-22 08:30:35,929 basehttp 68825 6164180992 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-22 08:30:35,930 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57501]
DEBUG 2024-08-22 08:30:35,933 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57502] to WebSocket
WARNING 2024-08-22 08:30:35,934 log 68825 6164180992 Not Found: /api/messages/
WARNING 2024-08-22 08:30:35,935 basehttp 68825 6164180992 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-22 08:30:35,936 consumers 68837 8726777664 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-22 08:30:35,936 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57502] open and established
DEBUG 2024-08-22 08:30:35,936 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57502] accepted by application
INFO 2024-08-22 08:30:35,936 consumers 68837 8726777664 WebSocket connected: room=0, user=keita
WARNING 2024-08-22 08:30:35,939 log 68825 6164180992 Not Found: /api/messages/
WARNING 2024-08-22 08:30:35,939 basehttp 68825 6164180992 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-22 08:30:36,559 server 68837 8726777664 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-22 08:30:36,575 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57502]
DEBUG 2024-08-22 08:30:36,622 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57503] to WebSocket
INFO 2024-08-22 08:30:36,626 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:36,626 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57503] open and established
DEBUG 2024-08-22 08:30:36,626 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57503] accepted by application
INFO 2024-08-22 08:30:36,626 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:36,629 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57503]
INFO 2024-08-22 08:30:36,646 basehttp 68825 6181007360 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-22 08:30:36,647 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57505] to WebSocket
INFO 2024-08-22 08:30:36,647 basehttp 68825 6197833728 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
INFO 2024-08-22 08:30:36,648 basehttp 68825 6164180992 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-22 08:30:36,649 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:36,649 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57505] open and established
DEBUG 2024-08-22 08:30:36,649 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57505] accepted by application
INFO 2024-08-22 08:30:36,649 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
INFO 2024-08-22 08:30:36,651 basehttp 68825 6197833728 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-22 08:30:36,651 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57505]
INFO 2024-08-22 08:30:36,655 basehttp 68825 6197833728 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-22 08:30:36,656 basehttp 68825 6164180992 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-22 08:30:36,658 basehttp 68825 6197833728 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-22 08:30:36,659 basehttp 68825 6181007360 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-22 08:30:36,661 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57506] to WebSocket
INFO 2024-08-22 08:30:36,663 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:36,663 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57506] open and established
DEBUG 2024-08-22 08:30:36,663 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57506] accepted by application
INFO 2024-08-22 08:30:36,663 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:36,664 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57506]
DEBUG 2024-08-22 08:30:36,676 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57507] to WebSocket
INFO 2024-08-22 08:30:36,677 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:36,678 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57507] open and established
DEBUG 2024-08-22 08:30:36,678 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57507] accepted by application
INFO 2024-08-22 08:30:36,678 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:36,679 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57507]
DEBUG 2024-08-22 08:30:36,689 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57508] to WebSocket
INFO 2024-08-22 08:30:36,691 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:36,691 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57508] open and established
DEBUG 2024-08-22 08:30:36,691 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57508] accepted by application
INFO 2024-08-22 08:30:36,691 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:36,692 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57508]
DEBUG 2024-08-22 08:30:36,705 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57509] to WebSocket
INFO 2024-08-22 08:30:36,706 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:36,707 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57509] open and established
DEBUG 2024-08-22 08:30:36,707 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57509] accepted by application
INFO 2024-08-22 08:30:36,707 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:36,711 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57509]
DEBUG 2024-08-22 08:30:36,721 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57511] to WebSocket
INFO 2024-08-22 08:30:36,722 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:36,722 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57511] open and established
DEBUG 2024-08-22 08:30:36,723 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57511] accepted by application
INFO 2024-08-22 08:30:36,723 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:36,724 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57511]
INFO 2024-08-22 08:30:46,941 basehttp 68825 6181007360 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-22 08:30:46,945 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57511]
INFO 2024-08-22 08:30:46,947 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-22 08:30:52,273 basehttp 68825 6181007360 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-22 08:30:53,391 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57512] to WebSocket
INFO 2024-08-22 08:30:53,401 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:53,401 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57512] open and established
DEBUG 2024-08-22 08:30:53,401 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57512] accepted by application
INFO 2024-08-22 08:30:53,402 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
INFO 2024-08-22 08:30:53,402 basehttp 68825 6181007360 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-22 08:30:53,411 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57507]
DEBUG 2024-08-22 08:30:53,411 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57509]
DEBUG 2024-08-22 08:30:53,411 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57503]
DEBUG 2024-08-22 08:30:53,412 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57505]
DEBUG 2024-08-22 08:30:53,412 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57501]
INFO 2024-08-22 08:30:53,411 basehttp 68825 6164180992 - Broken pipe from ('127.0.0.1', 57490)
DEBUG 2024-08-22 08:30:53,413 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57508]
DEBUG 2024-08-22 08:30:53,413 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57506]
DEBUG 2024-08-22 08:30:53,414 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57512]
INFO 2024-08-22 08:30:53,414 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:53,414 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:53,414 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:53,414 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:53,415 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:53,415 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-22 08:30:53,415 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1001
WARNING 2024-08-22 08:30:53,416 log 68825 6197833728 Not Found: /api/get_icon_color/
WARNING 2024-08-22 08:30:53,416 basehttp 68825 6197833728 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-22 08:30:53,574 basehttp 68825 6181007360 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-22 08:30:53,576 basehttp 68825 6164180992 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-22 08:30:53,604 basehttp 68825 6164180992 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-22 08:30:53,627 basehttp 68825 6164180992 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-22 08:30:53,635 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57514] to WebSocket
INFO 2024-08-22 08:30:53,644 basehttp 68825 6164180992 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-22 08:30:53,645 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57514] open and established
DEBUG 2024-08-22 08:30:53,646 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57514] accepted by application
DEBUG 2024-08-22 08:30:53,646 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57514]
WARNING 2024-08-22 08:30:53,648 log 68825 6164180992 Not Found: /api/messages/
WARNING 2024-08-22 08:30:53,648 basehttp 68825 6164180992 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-22 08:30:53,651 log 68825 6164180992 Not Found: /api/messages/
WARNING 2024-08-22 08:30:53,651 basehttp 68825 6164180992 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-22 08:30:53,660 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57515] to WebSocket
INFO 2024-08-22 08:30:53,667 consumers 68837 8726777664 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-22 08:30:53,667 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57515] open and established
DEBUG 2024-08-22 08:30:53,667 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57515] accepted by application
INFO 2024-08-22 08:30:53,667 consumers 68837 8726777664 WebSocket connected: room=0, user=keita
ERROR 2024-08-22 08:30:54,599 server 68837 8726777664 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-22 08:30:54,610 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57515]
DEBUG 2024-08-22 08:30:55,336 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57517] to WebSocket
INFO 2024-08-22 08:30:55,340 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:55,340 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57517] open and established
DEBUG 2024-08-22 08:30:55,340 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57517] accepted by application
INFO 2024-08-22 08:30:55,340 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:55,343 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57517]
DEBUG 2024-08-22 08:30:55,355 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57519] to WebSocket
INFO 2024-08-22 08:30:55,356 basehttp 68825 6197833728 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
INFO 2024-08-22 08:30:55,356 basehttp 68825 6181007360 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-22 08:30:55,357 basehttp 68825 6164180992 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-22 08:30:55,358 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:55,358 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57519] open and established
DEBUG 2024-08-22 08:30:55,358 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57519] accepted by application
INFO 2024-08-22 08:30:55,358 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:55,360 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57519]
INFO 2024-08-22 08:30:55,366 basehttp 68825 6181007360 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-22 08:30:55,367 basehttp 68825 6164180992 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-22 08:30:55,367 basehttp 68825 6197833728 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-22 08:30:55,372 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57520] to WebSocket
INFO 2024-08-22 08:30:55,373 basehttp 68825 6197833728 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-22 08:30:55,374 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:55,374 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57520] open and established
DEBUG 2024-08-22 08:30:55,374 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57520] accepted by application
INFO 2024-08-22 08:30:55,374 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:55,375 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57520]
DEBUG 2024-08-22 08:30:55,387 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57521] to WebSocket
INFO 2024-08-22 08:30:55,389 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:55,389 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57521] open and established
DEBUG 2024-08-22 08:30:55,389 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57521] accepted by application
INFO 2024-08-22 08:30:55,389 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:55,391 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57521]
DEBUG 2024-08-22 08:30:55,404 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57522] to WebSocket
INFO 2024-08-22 08:30:55,410 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:55,410 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57522] open and established
DEBUG 2024-08-22 08:30:55,410 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57522] accepted by application
INFO 2024-08-22 08:30:55,410 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:55,412 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57522]
DEBUG 2024-08-22 08:30:55,426 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57523] to WebSocket
INFO 2024-08-22 08:30:55,432 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:55,432 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57523] open and established
DEBUG 2024-08-22 08:30:55,432 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57523] accepted by application
INFO 2024-08-22 08:30:55,432 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:55,433 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57523]
DEBUG 2024-08-22 08:30:55,446 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57524] to WebSocket
INFO 2024-08-22 08:30:55,448 consumers 68837 8726777664 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-22 08:30:55,448 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57524] open and established
DEBUG 2024-08-22 08:30:55,448 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57524] accepted by application
INFO 2024-08-22 08:30:55,448 consumers 68837 8726777664 WebSocket connected: room=2, user=keita
DEBUG 2024-08-22 08:30:55,449 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57524]
DEBUG 2024-08-22 08:31:09,134 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57524]
INFO 2024-08-22 08:31:09,135 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-22 08:31:09,148 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57527] to WebSocket
INFO 2024-08-22 08:31:09,155 consumers 68837 8726777664 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-22 08:31:09,155 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57527] open and established
DEBUG 2024-08-22 08:31:09,155 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57527] accepted by application
INFO 2024-08-22 08:31:09,155 consumers 68837 8726777664 WebSocket connected: room=1, user=keita
DEBUG 2024-08-22 08:31:09,156 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57527]
INFO 2024-08-22 08:31:09,157 basehttp 68825 6197833728 "GET /api/messages/?room_id=1 HTTP/1.1" 200 2
INFO 2024-08-22 08:31:09,163 basehttp 68825 6197833728 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-22 08:31:09,169 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57528] to WebSocket
INFO 2024-08-22 08:31:09,171 consumers 68837 8726777664 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-22 08:31:09,171 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57528] open and established
DEBUG 2024-08-22 08:31:09,171 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57528] accepted by application
INFO 2024-08-22 08:31:09,171 consumers 68837 8726777664 WebSocket connected: room=1, user=keita
DEBUG 2024-08-22 08:31:09,172 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57528]
DEBUG 2024-08-22 08:31:09,187 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57529] to WebSocket
INFO 2024-08-22 08:31:09,189 consumers 68837 8726777664 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-22 08:31:09,189 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57529] open and established
DEBUG 2024-08-22 08:31:09,189 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57529] accepted by application
INFO 2024-08-22 08:31:09,189 consumers 68837 8726777664 WebSocket connected: room=1, user=keita
DEBUG 2024-08-22 08:31:09,190 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57529]
DEBUG 2024-08-22 08:31:09,203 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 57530] to WebSocket
INFO 2024-08-22 08:31:09,205 consumers 68837 8726777664 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-22 08:31:09,205 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57530] open and established
DEBUG 2024-08-22 08:31:09,205 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 57530] accepted by application
INFO 2024-08-22 08:31:09,205 consumers 68837 8726777664 WebSocket connected: room=1, user=keita
DEBUG 2024-08-22 08:31:09,206 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57530]
DEBUG 2024-08-22 08:31:21,154 ws_protocol 68837 8726777664 WebSocket incoming frame on ['127.0.0.1', 57530]
DEBUG 2024-08-22 08:31:21,161 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57527]
DEBUG 2024-08-22 08:31:21,162 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57528]
DEBUG 2024-08-22 08:31:21,162 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57529]
DEBUG 2024-08-22 08:31:21,162 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57530]
DEBUG 2024-08-22 08:31:27,557 ws_protocol 68837 8726777664 WebSocket incoming frame on ['127.0.0.1', 57530]
DEBUG 2024-08-22 08:31:27,575 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57527]
DEBUG 2024-08-22 08:31:27,576 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57528]
DEBUG 2024-08-22 08:31:27,576 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57529]
DEBUG 2024-08-22 08:31:27,576 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 57530]
INFO 2024-08-22 08:31:37,988 basehttp 68825 6197833728 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-22 08:31:40,724 basehttp 68825 6197833728 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-22 08:31:44,585 basehttp 68825 6197833728 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-22 08:31:48,676 basehttp 68825 6197833728 "POST /api/record/ HTTP/1.1" 201 21
DEBUG 2024-08-22 08:33:03,587 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57530]
DEBUG 2024-08-22 08:33:03,589 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57529]
DEBUG 2024-08-22 08:33:03,589 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57527]
DEBUG 2024-08-22 08:33:03,589 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57523]
DEBUG 2024-08-22 08:33:03,589 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57522]
DEBUG 2024-08-22 08:33:03,589 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57521]
DEBUG 2024-08-22 08:33:03,589 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57520]
DEBUG 2024-08-22 08:33:03,589 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57519]
DEBUG 2024-08-22 08:33:03,589 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57514]
DEBUG 2024-08-22 08:33:03,594 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57517]
DEBUG 2024-08-22 08:33:03,595 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 57528]
INFO 2024-08-22 08:33:03,596 consumers 68837 8726777664 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-22 08:33:03,597 consumers 68837 8726777664 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-22 08:33:03,597 consumers 68837 8726777664 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-22 08:33:03,598 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-22 08:33:03,598 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-22 08:33:03,598 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-22 08:33:03,598 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-22 08:33:03,598 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-22 08:33:03,598 consumers 68837 8726777664 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-22 08:33:03,598 consumers 68837 8726777664 WebSocket disconnected: room=1, user=keita, code=1006
DEBUG 2024-08-22 08:33:07,582 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 58314] to WebSocket
DEBUG 2024-08-22 08:33:07,603 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 58314] open and established
DEBUG 2024-08-22 08:33:07,614 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 58314] accepted by application
DEBUG 2024-08-22 08:33:07,616 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 58314]
DEBUG 2024-08-22 13:32:51,724 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 58314]
DEBUG 2024-08-22 13:32:55,340 http_protocol 68837 8726777664 Upgraded connection ['127.0.0.1', 62848] to WebSocket
DEBUG 2024-08-22 13:32:55,359 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 62848] open and established
DEBUG 2024-08-22 13:32:55,359 ws_protocol 68837 8726777664 WebSocket ['127.0.0.1', 62848] accepted by application
DEBUG 2024-08-22 13:32:55,362 ws_protocol 68837 8726777664 Sent WebSocket packet to client for ['127.0.0.1', 62848]
DEBUG 2024-08-23 08:47:26,125 ws_protocol 68837 8726777664 WebSocket closed for ['127.0.0.1', 62848]
INFO 2024-08-23 08:56:38,265 basehttp 68825 6164180992 "GET / HTTP/1.1" 200 1008
INFO 2024-08-23 08:56:38,323 basehttp 68825 6164180992 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-23 08:56:38,341 basehttp 68825 6181007360 "GET /static/css/app.css HTTP/1.1" 200 2545
INFO 2024-08-23 08:56:38,349 basehttp 68825 6197833728 "GET /static/js/app.js HTTP/1.1" 200 33159
INFO 2024-08-23 08:56:38,370 basehttp 68825 6164180992 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4998455
INFO 2024-08-23 08:56:38,556 basehttp 68825 6197833728 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-23 08:56:38,567 basehttp 68825 6164180992 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-23 08:56:38,615 basehttp 68825 6164180992 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-24 09:44:34,283 basehttp 68825 6164180992 "GET / HTTP/1.1" 200 1008
INFO 2024-08-24 09:44:34,312 basehttp 68825 6164180992 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-24 09:44:34,345 basehttp 68825 6181007360 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-24 09:44:34,345 basehttp 68825 6197833728 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-24 09:44:34,373 basehttp 68825 6164180992 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4998455
INFO 2024-08-24 09:44:34,607 basehttp 68825 6197833728 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-24 09:44:34,608 basehttp 68825 6164180992 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-24 09:44:34,631 basehttp 68825 6164180992 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-26 07:22:35,602 cli 27958 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-26 07:22:35,602 server 27958 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-26 07:22:35,602 server 27958 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-26 07:22:35,603 server 27958 8540262208 Listening on TCP address 127.0.0.1:8001
INFO 2024-08-26 07:22:44,678 autoreload 27973 8540262208 Watching for file changes with StatReloader
INFO 2024-08-26 07:22:47,954 basehttp 27973 6162608128 "GET / HTTP/1.1" 200 1008
INFO 2024-08-26 07:22:47,998 basehttp 27973 6162608128 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-26 07:22:48,013 basehttp 27973 6162608128 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-26 07:22:48,017 basehttp 27973 6196260864 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-26 07:22:48,039 basehttp 27973 6179434496 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4998455
INFO 2024-08-26 07:22:48,207 basehttp 27973 6179434496 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-26 07:22:48,218 basehttp 27973 6179434496 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-26 07:22:48,241 basehttp 27973 6179434496 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-26 07:22:48,794 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57234] to WebSocket
INFO 2024-08-26 07:22:48,804 basehttp 27973 6179434496 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-26 07:22:48,812 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57234] open and established
DEBUG 2024-08-26 07:22:48,812 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57234] accepted by application
DEBUG 2024-08-26 07:22:48,816 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57234]
INFO 2024-08-26 07:22:52,703 basehttp 27973 6179434496 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-26 07:22:52,704 basehttp 27973 6196260864 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-26 07:22:52,742 basehttp 27973 6179434496 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-26 07:22:52,744 basehttp 27973 6162608128 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-26 07:22:52,747 basehttp 27973 6196260864 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
DEBUG 2024-08-26 07:22:52,748 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57236] to WebSocket
INFO 2024-08-26 07:22:52,757 consumers 27958 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-08-26 07:22:52,757 basehttp 27973 6196260864 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-26 07:22:52,757 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57236] open and established
DEBUG 2024-08-26 07:22:52,758 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57236] accepted by application
INFO 2024-08-26 07:22:52,758 consumers 27958 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-26 07:22:52,759 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57236]
DEBUG 2024-08-26 07:22:52,773 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57237] to WebSocket
INFO 2024-08-26 07:22:52,778 consumers 27958 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-26 07:22:52,778 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57237] open and established
DEBUG 2024-08-26 07:22:52,778 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57237] accepted by application
INFO 2024-08-26 07:22:52,778 consumers 27958 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-26 07:22:52,779 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57237]
DEBUG 2024-08-26 07:22:52,792 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57238] to WebSocket
INFO 2024-08-26 07:22:52,796 consumers 27958 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-26 07:22:52,797 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57238] open and established
DEBUG 2024-08-26 07:22:52,797 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57238] accepted by application
INFO 2024-08-26 07:22:52,797 consumers 27958 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-26 07:22:52,798 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57238]
DEBUG 2024-08-26 07:22:54,128 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57238]
INFO 2024-08-26 07:22:54,129 consumers 27958 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-26 07:22:54,145 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57239] to WebSocket
INFO 2024-08-26 07:22:54,154 consumers 27958 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-26 07:22:54,156 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57239] open and established
DEBUG 2024-08-26 07:22:54,156 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57239] accepted by application
INFO 2024-08-26 07:22:54,156 consumers 27958 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-26 07:22:54,159 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57239]
INFO 2024-08-26 07:22:54,160 basehttp 27973 6196260864 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-26 07:22:54,176 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57240] to WebSocket
INFO 2024-08-26 07:22:54,178 basehttp 27973 6196260864 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-26 07:22:54,180 consumers 27958 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-26 07:22:54,180 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57240] open and established
DEBUG 2024-08-26 07:22:54,180 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57240] accepted by application
INFO 2024-08-26 07:22:54,180 consumers 27958 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-26 07:22:54,181 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57240]
DEBUG 2024-08-26 07:22:54,196 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57241] to WebSocket
INFO 2024-08-26 07:22:54,202 consumers 27958 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-26 07:22:54,203 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57241] open and established
DEBUG 2024-08-26 07:22:54,203 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57241] accepted by application
INFO 2024-08-26 07:22:54,203 consumers 27958 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-26 07:22:54,206 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57241]
DEBUG 2024-08-26 07:22:54,218 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57242] to WebSocket
INFO 2024-08-26 07:22:54,222 consumers 27958 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-26 07:22:54,222 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57242] open and established
DEBUG 2024-08-26 07:22:54,222 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57242] accepted by application
INFO 2024-08-26 07:22:54,222 consumers 27958 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-26 07:22:54,224 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57242]
DEBUG 2024-08-26 07:22:56,199 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57242]
INFO 2024-08-26 07:22:56,203 consumers 27958 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-26 07:22:56,234 basehttp 27973 6196260864 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-26 07:22:56,235 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57243] to WebSocket
DEBUG 2024-08-26 07:22:56,247 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57239]
DEBUG 2024-08-26 07:22:56,247 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57237]
DEBUG 2024-08-26 07:22:56,247 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57234]
DEBUG 2024-08-26 07:22:56,247 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57240]
INFO 2024-08-26 07:22:56,247 basehttp 27973 6179434496 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-26 07:22:56,248 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57241]
DEBUG 2024-08-26 07:22:56,248 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57236]
INFO 2024-08-26 07:22:56,249 consumers 27958 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-26 07:22:56,249 basehttp 27973 6162608128 - Broken pipe from ('127.0.0.1', 57229)
INFO 2024-08-26 07:22:56,249 consumers 27958 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-26 07:22:56,250 consumers 27958 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-26 07:22:56,250 consumers 27958 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-26 07:22:56,250 consumers 27958 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
DEBUG 2024-08-26 07:22:56,251 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57243]
INFO 2024-08-26 07:22:56,255 consumers 27958 8540262208 WebSocket connection attempt: room=2, user=keita
INFO 2024-08-26 07:22:56,256 consumers 27958 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-26 07:22:56,257 consumers 27958 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-26 07:22:56,396 basehttp 27973 6179434496 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-26 07:22:56,402 basehttp 27973 6196260864 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-26 07:22:56,419 basehttp 27973 6196260864 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-26 07:22:56,439 basehttp 27973 6196260864 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-26 07:22:56,443 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57245] to WebSocket
INFO 2024-08-26 07:22:56,454 basehttp 27973 6196260864 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-26 07:22:56,454 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57245] open and established
DEBUG 2024-08-26 07:22:56,454 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57245] accepted by application
DEBUG 2024-08-26 07:22:56,455 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57245]
WARNING 2024-08-26 07:22:56,458 log 27973 6196260864 Not Found: /api/messages/
WARNING 2024-08-26 07:22:56,458 basehttp 27973 6196260864 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-26 07:22:56,461 log 27973 6196260864 Not Found: /api/messages/
WARNING 2024-08-26 07:22:56,462 basehttp 27973 6196260864 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-26 07:22:56,469 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57246] to WebSocket
INFO 2024-08-26 07:22:56,470 consumers 27958 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-26 07:22:56,470 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57246] open and established
DEBUG 2024-08-26 07:22:56,470 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57246] accepted by application
INFO 2024-08-26 07:22:56,470 consumers 27958 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-26 07:22:56,622 server 27958 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-26 07:22:56,637 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57246]
INFO 2024-08-26 07:22:57,397 basehttp 27973 6196260864 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-26 07:23:03,000 basehttp 27973 6196260864 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-26 07:23:04,223 basehttp 27973 6196260864 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-26 07:23:04,229 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57245]
INFO 2024-08-26 07:23:04,245 basehttp 27973 6196260864 - Broken pipe from ('127.0.0.1', 57231)
WARNING 2024-08-26 07:23:04,257 log 27973 6179434496 Not Found: /api/get_icon_color/
WARNING 2024-08-26 07:23:04,264 basehttp 27973 6179434496 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-26 07:23:04,264 basehttp 27973 6179434496 - Broken pipe from ('127.0.0.1', 57230)
INFO 2024-08-26 07:23:04,321 basehttp 27973 6162608128 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-26 07:23:04,328 basehttp 27973 6179434496 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-26 07:23:04,341 basehttp 27973 6179434496 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-26 07:23:04,363 basehttp 27973 6179434496 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-26 07:23:04,368 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57253] to WebSocket
DEBUG 2024-08-26 07:23:04,370 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57253] open and established
DEBUG 2024-08-26 07:23:04,371 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57253] accepted by application
DEBUG 2024-08-26 07:23:04,371 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57253]
INFO 2024-08-26 07:23:04,372 basehttp 27973 6179434496 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-26 07:23:04,383 log 27973 6179434496 Not Found: /api/messages/
WARNING 2024-08-26 07:23:04,383 basehttp 27973 6179434496 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-26 07:23:04,383 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 57254] to WebSocket
INFO 2024-08-26 07:23:04,385 consumers 27958 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-26 07:23:04,385 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57254] open and established
DEBUG 2024-08-26 07:23:04,385 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 57254] accepted by application
INFO 2024-08-26 07:23:04,385 consumers 27958 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-26 07:23:04,386 log 27973 6179434496 Not Found: /api/messages/
WARNING 2024-08-26 07:23:04,386 basehttp 27973 6179434496 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-26 07:23:04,645 server 27958 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-26 07:23:04,654 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57254]
DEBUG 2024-08-26 08:10:45,412 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 57253]
DEBUG 2024-08-26 08:10:49,053 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 58141] to WebSocket
DEBUG 2024-08-26 08:10:49,070 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 58141] open and established
DEBUG 2024-08-26 08:10:49,070 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 58141] accepted by application
DEBUG 2024-08-26 08:10:49,071 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 58141]
DEBUG 2024-08-26 09:34:51,130 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 58141]
DEBUG 2024-08-26 09:34:54,361 http_protocol 27958 8540262208 Upgraded connection ['127.0.0.1', 59238] to WebSocket
DEBUG 2024-08-26 09:34:54,389 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 59238] open and established
DEBUG 2024-08-26 09:34:54,389 ws_protocol 27958 8540262208 WebSocket ['127.0.0.1', 59238] accepted by application
DEBUG 2024-08-26 09:34:54,391 ws_protocol 27958 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59238]
DEBUG 2024-08-26 11:22:12,324 ws_protocol 27958 8540262208 WebSocket closed for ['127.0.0.1', 59238]
INFO 2024-08-28 07:40:27,310 cli 78402 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 07:40:27,310 server 78402 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 07:40:27,310 server 78402 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 07:40:27,311 server 78402 8540262208 Listening on TCP address 127.0.0.1:8001
INFO 2024-08-28 07:40:29,945 autoreload 78415 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 07:40:32,805 basehttp 78415 6129217536 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 07:40:32,905 basehttp 78415 6162870272 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 07:40:32,913 basehttp 78415 6129217536 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 07:40:32,917 basehttp 78415 6162870272 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 07:40:32,940 basehttp 78415 6146043904 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4998455
INFO 2024-08-28 07:40:33,157 basehttp 78415 6146043904 "GET /api/check_login_status/ HTTP/1.1" 200 21
INFO 2024-08-28 07:40:33,174 basehttp 78415 6146043904 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-28 07:40:38,573 basehttp 78415 6129217536 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 07:40:40,936 basehttp 78415 6129217536 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 07:40:40,953 basehttp 78415 6162870272 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 07:40:40,959 log 78415 6146043904 Not Found: /api/get_icon_color/
WARNING 2024-08-28 07:40:40,959 basehttp 78415 6146043904 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-28 07:40:41,135 basehttp 78415 6146043904 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 07:40:41,144 basehttp 78415 6162870272 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:40:41,157 basehttp 78415 6162870272 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 07:40:41,186 basehttp 78415 6162870272 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 07:40:41,214 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50124] to WebSocket
INFO 2024-08-28 07:40:41,219 basehttp 78415 6162870272 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-28 07:40:41,225 basehttp 78415 6146043904 "GET /static/chat.svg HTTP/1.1" 304 0
WARNING 2024-08-28 07:40:41,226 log 78415 6162870272 Not Found: /api/messages/
WARNING 2024-08-28 07:40:41,227 basehttp 78415 6162870272 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 07:40:41,231 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50124] open and established
DEBUG 2024-08-28 07:40:41,231 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50124] accepted by application
DEBUG 2024-08-28 07:40:41,233 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50124]
WARNING 2024-08-28 07:40:41,236 log 78415 6162870272 Not Found: /api/messages/
WARNING 2024-08-28 07:40:41,236 basehttp 78415 6162870272 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 07:40:41,244 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50125] to WebSocket
INFO 2024-08-28 07:40:41,246 consumers 78402 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 07:40:41,246 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50125] open and established
DEBUG 2024-08-28 07:40:41,246 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50125] accepted by application
INFO 2024-08-28 07:40:41,246 consumers 78402 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 07:40:41,326 server 78402 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 07:40:41,339 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50125]
INFO 2024-08-28 07:56:48,556 basehttp 78415 6129217536 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 07:56:53,215 basehttp 78415 6129217536 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 07:56:53,983 basehttp 78415 6129217536 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 07:56:53,994 basehttp 78415 6162870272 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 07:56:53,997 log 78415 6146043904 Not Found: /api/get_icon_color/
WARNING 2024-08-28 07:56:53,997 basehttp 78415 6146043904 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 07:56:54,010 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50124]
INFO 2024-08-28 07:56:54,177 basehttp 78415 6146043904 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 07:56:54,186 basehttp 78415 6146043904 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:56:54,203 basehttp 78415 6146043904 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 07:56:54,236 basehttp 78415 6146043904 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 07:56:54,242 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50571] to WebSocket
DEBUG 2024-08-28 07:56:54,255 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50571] open and established
DEBUG 2024-08-28 07:56:54,255 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50571] accepted by application
DEBUG 2024-08-28 07:56:54,257 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50571]
INFO 2024-08-28 07:56:54,285 basehttp 78415 6146043904 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 07:56:54,294 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50572] to WebSocket
WARNING 2024-08-28 07:56:54,301 log 78415 6146043904 Not Found: /api/messages/
INFO 2024-08-28 07:56:54,301 consumers 78402 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 07:56:54,301 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50572] open and established
WARNING 2024-08-28 07:56:54,301 basehttp 78415 6146043904 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 07:56:54,301 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50572] accepted by application
INFO 2024-08-28 07:56:54,301 consumers 78402 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 07:56:54,305 log 78415 6146043904 Not Found: /api/messages/
WARNING 2024-08-28 07:56:54,306 basehttp 78415 6146043904 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 07:56:54,639 server 78402 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 07:56:54,656 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50572]
INFO 2024-08-28 07:57:00,836 basehttp 78415 6146043904 "GET /static/js/app.js.map HTTP/1.1" 200 106400
INFO 2024-08-28 07:57:00,875 basehttp 78415 6129217536 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
DEBUG 2024-08-28 07:57:13,637 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50627] to WebSocket
INFO 2024-08-28 07:57:13,645 consumers 78402 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:57:13,645 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50627] open and established
DEBUG 2024-08-28 07:57:13,645 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50627] accepted by application
INFO 2024-08-28 07:57:13,645 consumers 78402 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:57:13,649 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50627]
DEBUG 2024-08-28 07:57:13,660 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50628] to WebSocket
INFO 2024-08-28 07:57:13,664 consumers 78402 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:57:13,665 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50628] open and established
DEBUG 2024-08-28 07:57:13,665 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50628] accepted by application
INFO 2024-08-28 07:57:13,665 consumers 78402 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 07:57:13,667 basehttp 78415 6129217536 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 07:57:13,667 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50628]
INFO 2024-08-28 07:57:13,669 basehttp 78415 6146043904 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:57:13,670 basehttp 78415 6162870272 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 07:57:13,678 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50632] to WebSocket
INFO 2024-08-28 07:57:13,680 consumers 78402 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:57:13,680 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50632] open and established
DEBUG 2024-08-28 07:57:13,680 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50632] accepted by application
INFO 2024-08-28 07:57:13,680 consumers 78402 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:57:13,682 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50632]
INFO 2024-08-28 07:57:13,688 basehttp 78415 6162870272 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 07:57:13,694 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50633] to WebSocket
INFO 2024-08-28 07:57:13,693 basehttp 78415 6162870272 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 07:57:13,694 basehttp 78415 6146043904 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:57:13,696 basehttp 78415 6129217536 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 07:57:13,696 consumers 78402 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:57:13,697 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50633] open and established
DEBUG 2024-08-28 07:57:13,697 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50633] accepted by application
INFO 2024-08-28 07:57:13,697 consumers 78402 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 07:57:13,697 basehttp 78415 6162870272 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 07:57:13,698 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50633]
DEBUG 2024-08-28 07:57:13,708 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50634] to WebSocket
INFO 2024-08-28 07:57:13,710 consumers 78402 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:57:13,710 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50634] open and established
DEBUG 2024-08-28 07:57:13,710 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50634] accepted by application
INFO 2024-08-28 07:57:13,710 consumers 78402 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:57:13,711 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50634]
DEBUG 2024-08-28 07:57:13,723 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50635] to WebSocket
INFO 2024-08-28 07:57:13,725 consumers 78402 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:57:13,725 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50635] open and established
DEBUG 2024-08-28 07:57:13,725 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50635] accepted by application
INFO 2024-08-28 07:57:13,725 consumers 78402 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:57:13,726 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50635]
DEBUG 2024-08-28 07:57:13,741 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50636] to WebSocket
INFO 2024-08-28 07:57:13,745 consumers 78402 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:57:13,745 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50636] open and established
DEBUG 2024-08-28 07:57:13,746 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50636] accepted by application
INFO 2024-08-28 07:57:13,746 consumers 78402 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:57:13,748 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50636]
DEBUG 2024-08-28 07:57:15,031 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50636]
INFO 2024-08-28 07:57:15,031 consumers 78402 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-28 07:57:15,051 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50637] to WebSocket
INFO 2024-08-28 07:57:15,057 consumers 78402 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:57:15,058 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50637] open and established
DEBUG 2024-08-28 07:57:15,058 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50637] accepted by application
INFO 2024-08-28 07:57:15,058 consumers 78402 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:57:15,060 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50637]
INFO 2024-08-28 07:57:15,062 basehttp 78415 6129217536 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
DEBUG 2024-08-28 07:57:15,074 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50639] to WebSocket
INFO 2024-08-28 07:57:15,074 basehttp 78415 6129217536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:57:15,076 consumers 78402 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:57:15,076 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50639] open and established
DEBUG 2024-08-28 07:57:15,076 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50639] accepted by application
INFO 2024-08-28 07:57:15,076 consumers 78402 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:57:15,078 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50639]
DEBUG 2024-08-28 07:57:15,091 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50640] to WebSocket
INFO 2024-08-28 07:57:15,096 consumers 78402 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:57:15,096 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50640] open and established
DEBUG 2024-08-28 07:57:15,096 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50640] accepted by application
INFO 2024-08-28 07:57:15,096 consumers 78402 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:57:15,098 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50640]
DEBUG 2024-08-28 07:57:15,111 http_protocol 78402 8540262208 Upgraded connection ['127.0.0.1', 50641] to WebSocket
INFO 2024-08-28 07:57:15,114 consumers 78402 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:57:15,114 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50641] open and established
DEBUG 2024-08-28 07:57:15,114 ws_protocol 78402 8540262208 WebSocket ['127.0.0.1', 50641] accepted by application
INFO 2024-08-28 07:57:15,114 consumers 78402 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:57:15,116 ws_protocol 78402 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50641]
INFO 2024-08-28 07:57:16,443 basehttp 78415 6129217536 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-28 07:57:16,448 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50641]
INFO 2024-08-28 07:57:16,450 consumers 78402 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-28 07:57:21,829 server 78402 8540262208 Killed 10 pending application instances
DEBUG 2024-08-28 07:57:21,831 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50640]
DEBUG 2024-08-28 07:57:21,832 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50633]
DEBUG 2024-08-28 07:57:21,832 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50634]
DEBUG 2024-08-28 07:57:21,832 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50571]
DEBUG 2024-08-28 07:57:21,832 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50632]
DEBUG 2024-08-28 07:57:21,832 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50635]
DEBUG 2024-08-28 07:57:21,833 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50627]
DEBUG 2024-08-28 07:57:21,833 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50639]
DEBUG 2024-08-28 07:57:21,833 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50637]
DEBUG 2024-08-28 07:57:21,833 ws_protocol 78402 8540262208 WebSocket closed for ['127.0.0.1', 50628]
INFO 2024-08-28 07:57:34,953 autoreload 79313 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 07:57:38,356 cli 79322 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 07:57:38,356 server 79322 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 07:57:38,356 server 79322 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 07:57:38,357 server 79322 8540262208 Listening on TCP address 127.0.0.1:8001
DEBUG 2024-08-28 07:57:40,553 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50649] to WebSocket
DEBUG 2024-08-28 07:57:40,566 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50649] open and established
DEBUG 2024-08-28 07:57:40,566 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50649] accepted by application
DEBUG 2024-08-28 07:57:40,578 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50649]
INFO 2024-08-28 07:57:41,301 basehttp 79313 6128037888 "GET / HTTP/1.1" 200 1008
DEBUG 2024-08-28 07:57:41,486 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50649]
INFO 2024-08-28 07:57:41,530 basehttp 79313 6128037888 "GET /api/check_login_status/ HTTP/1.1" 200 21
INFO 2024-08-28 07:57:48,081 basehttp 79313 6128037888 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 07:57:48,949 basehttp 79313 6128037888 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 07:57:48,960 basehttp 79313 6161690624 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 07:57:48,967 log 79313 6144864256 Not Found: /api/get_icon_color/
WARNING 2024-08-28 07:57:48,967 basehttp 79313 6144864256 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-28 07:57:49,091 basehttp 79313 6144864256 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 07:57:49,094 basehttp 79313 6161690624 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:57:49,115 basehttp 79313 6161690624 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 07:57:49,140 basehttp 79313 6161690624 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 07:57:49,152 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50661] to WebSocket
INFO 2024-08-28 07:57:49,156 basehttp 79313 6161690624 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 07:57:49,157 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50661] open and established
DEBUG 2024-08-28 07:57:49,158 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50661] accepted by application
DEBUG 2024-08-28 07:57:49,160 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50661]
WARNING 2024-08-28 07:57:49,172 log 79313 6161690624 Not Found: /api/messages/
WARNING 2024-08-28 07:57:49,172 basehttp 79313 6161690624 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 07:57:49,172 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50662] to WebSocket
INFO 2024-08-28 07:57:49,175 consumers 79322 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 07:57:49,176 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50662] open and established
DEBUG 2024-08-28 07:57:49,176 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50662] accepted by application
INFO 2024-08-28 07:57:49,176 consumers 79322 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 07:57:49,178 log 79313 6161690624 Not Found: /api/messages/
WARNING 2024-08-28 07:57:49,179 basehttp 79313 6161690624 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 07:57:49,371 server 79322 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 07:57:49,389 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50662]
INFO 2024-08-28 07:57:55,349 basehttp 79313 6128037888 "GET /static/js/app.js.map HTTP/1.1" 200 106400
INFO 2024-08-28 07:57:55,386 basehttp 79313 6144864256 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
DEBUG 2024-08-28 07:58:28,106 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50811] to WebSocket
INFO 2024-08-28 07:58:28,129 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:58:28,134 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50811] open and established
DEBUG 2024-08-28 07:58:28,134 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50811] accepted by application
INFO 2024-08-28 07:58:28,135 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:58:28,150 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50815] to WebSocket
DEBUG 2024-08-28 07:58:28,151 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50811]
INFO 2024-08-28 07:58:28,156 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:58:28,157 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50815] open and established
DEBUG 2024-08-28 07:58:28,157 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50815] accepted by application
INFO 2024-08-28 07:58:28,157 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:58:28,162 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50815]
INFO 2024-08-28 07:58:28,163 basehttp 79313 6128037888 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 07:58:28,176 basehttp 79313 6144864256 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 07:58:28,176 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50816] to WebSocket
INFO 2024-08-28 07:58:28,182 basehttp 79313 6161690624 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
INFO 2024-08-28 07:58:28,186 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:58:28,187 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50816] open and established
INFO 2024-08-28 07:58:28,187 basehttp 79313 6144864256 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 07:58:28,187 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50816] accepted by application
INFO 2024-08-28 07:58:28,188 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:58:28,197 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50816]
DEBUG 2024-08-28 07:58:28,200 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50818] to WebSocket
INFO 2024-08-28 07:58:28,204 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:58:28,204 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50818] open and established
DEBUG 2024-08-28 07:58:28,205 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50818] accepted by application
INFO 2024-08-28 07:58:28,205 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 07:58:28,209 basehttp 79313 6128037888 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 07:58:28,210 basehttp 79313 6144864256 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 07:58:28,210 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50818]
INFO 2024-08-28 07:58:28,212 basehttp 79313 6178516992 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:58:28,212 basehttp 79313 6161690624 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 07:58:28,217 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50819] to WebSocket
INFO 2024-08-28 07:58:28,219 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:58:28,219 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50819] open and established
DEBUG 2024-08-28 07:58:28,220 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50819] accepted by application
INFO 2024-08-28 07:58:28,220 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:58:28,221 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50819]
DEBUG 2024-08-28 07:58:28,234 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50820] to WebSocket
INFO 2024-08-28 07:58:28,236 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:58:28,236 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50820] open and established
DEBUG 2024-08-28 07:58:28,236 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50820] accepted by application
INFO 2024-08-28 07:58:28,236 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:58:28,238 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50820]
DEBUG 2024-08-28 07:58:28,249 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50821] to WebSocket
INFO 2024-08-28 07:58:28,251 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:58:28,251 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50821] open and established
DEBUG 2024-08-28 07:58:28,251 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50821] accepted by application
INFO 2024-08-28 07:58:28,251 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:58:28,252 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50821]
DEBUG 2024-08-28 07:59:09,167 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50821]
DEBUG 2024-08-28 07:59:09,177 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50961] to WebSocket
INFO 2024-08-28 07:59:09,178 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-28 07:59:09,192 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:59:09,193 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50961] open and established
DEBUG 2024-08-28 07:59:09,193 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50961] accepted by application
INFO 2024-08-28 07:59:09,193 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:59:09,197 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50961]
DEBUG 2024-08-28 07:59:09,209 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50962] to WebSocket
INFO 2024-08-28 07:59:09,212 consumers 79322 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 07:59:09,212 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50962] open and established
DEBUG 2024-08-28 07:59:09,213 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50962] accepted by application
INFO 2024-08-28 07:59:09,213 consumers 79322 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 07:59:09,215 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50962]
DEBUG 2024-08-28 07:59:10,067 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50963] to WebSocket
INFO 2024-08-28 07:59:10,071 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:10,071 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50963] open and established
DEBUG 2024-08-28 07:59:10,071 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50963] accepted by application
INFO 2024-08-28 07:59:10,071 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:10,075 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50963]
INFO 2024-08-28 07:59:10,085 basehttp 79313 6128037888 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
DEBUG 2024-08-28 07:59:10,086 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50965] to WebSocket
INFO 2024-08-28 07:59:10,089 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:10,089 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50965] open and established
DEBUG 2024-08-28 07:59:10,089 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50965] accepted by application
INFO 2024-08-28 07:59:10,089 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:10,090 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50965]
INFO 2024-08-28 07:59:10,093 basehttp 79313 6128037888 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 07:59:10,103 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50966] to WebSocket
INFO 2024-08-28 07:59:10,105 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:10,105 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50966] open and established
DEBUG 2024-08-28 07:59:10,105 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50966] accepted by application
INFO 2024-08-28 07:59:10,105 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:10,106 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50966]
DEBUG 2024-08-28 07:59:10,117 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50967] to WebSocket
INFO 2024-08-28 07:59:10,119 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:10,119 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50967] open and established
DEBUG 2024-08-28 07:59:10,119 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50967] accepted by application
INFO 2024-08-28 07:59:10,119 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:10,120 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50967]
DEBUG 2024-08-28 07:59:14,171 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50967]
INFO 2024-08-28 07:59:14,172 consumers 79322 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-28 07:59:14,201 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50968] to WebSocket
INFO 2024-08-28 07:59:14,205 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:14,206 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50968] open and established
DEBUG 2024-08-28 07:59:14,206 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50968] accepted by application
INFO 2024-08-28 07:59:14,206 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:14,213 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50968]
INFO 2024-08-28 07:59:14,219 basehttp 79313 6128037888 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 07:59:14,222 basehttp 79313 6144864256 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 07:59:14,223 basehttp 79313 6161690624 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 07:59:14,249 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50819]
DEBUG 2024-08-28 07:59:14,250 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50961]
DEBUG 2024-08-28 07:59:14,250 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50963]
DEBUG 2024-08-28 07:59:14,250 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50661]
DEBUG 2024-08-28 07:59:14,251 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50811]
DEBUG 2024-08-28 07:59:14,251 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50966]
DEBUG 2024-08-28 07:59:14,252 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50815]
DEBUG 2024-08-28 07:59:14,252 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50820]
DEBUG 2024-08-28 07:59:14,252 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50968]
DEBUG 2024-08-28 07:59:14,252 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50962]
DEBUG 2024-08-28 07:59:14,253 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50816]
DEBUG 2024-08-28 07:59:14,253 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50818]
DEBUG 2024-08-28 07:59:14,253 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50965]
INFO 2024-08-28 07:59:14,253 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 07:59:14,254 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 07:59:14,254 consumers 79322 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 07:59:14,254 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 07:59:14,254 consumers 79322 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 07:59:14,254 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 07:59:14,254 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 07:59:14,255 consumers 79322 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 07:59:14,255 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 07:59:14,255 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 07:59:14,259 consumers 79322 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 07:59:14,259 consumers 79322 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 07:59:14,403 basehttp 79313 6161690624 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 07:59:14,408 basehttp 79313 6144864256 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:59:14,431 basehttp 79313 6144864256 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 07:59:14,499 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50974] to WebSocket
INFO 2024-08-28 07:59:14,499 basehttp 79313 6144864256 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 07:59:14,512 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50974] open and established
DEBUG 2024-08-28 07:59:14,512 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50974] accepted by application
DEBUG 2024-08-28 07:59:14,516 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50974]
INFO 2024-08-28 07:59:14,516 basehttp 79313 6144864256 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-28 07:59:14,523 log 79313 6144864256 Not Found: /api/messages/
WARNING 2024-08-28 07:59:14,524 basehttp 79313 6144864256 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 07:59:14,525 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50975] to WebSocket
INFO 2024-08-28 07:59:14,527 consumers 79322 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 07:59:14,527 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50975] open and established
DEBUG 2024-08-28 07:59:14,527 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50975] accepted by application
INFO 2024-08-28 07:59:14,527 consumers 79322 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 07:59:14,528 log 79313 6144864256 Not Found: /api/messages/
WARNING 2024-08-28 07:59:14,528 basehttp 79313 6144864256 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 07:59:15,478 server 79322 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 07:59:15,488 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50975]
DEBUG 2024-08-28 07:59:15,957 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50976] to WebSocket
INFO 2024-08-28 07:59:15,961 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:15,961 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50976] open and established
DEBUG 2024-08-28 07:59:15,961 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50976] accepted by application
INFO 2024-08-28 07:59:15,961 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:15,965 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50976]
INFO 2024-08-28 07:59:15,981 basehttp 79313 6128037888 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 07:59:15,981 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50980] to WebSocket
INFO 2024-08-28 07:59:15,983 basehttp 79313 6144864256 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 07:59:15,983 basehttp 79313 6161690624 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 07:59:15,985 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:15,985 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50980] open and established
DEBUG 2024-08-28 07:59:15,985 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50980] accepted by application
INFO 2024-08-28 07:59:15,985 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:15,992 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50980]
INFO 2024-08-28 07:59:15,996 basehttp 79313 6161690624 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 07:59:15,997 basehttp 79313 6144864256 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 07:59:15,997 basehttp 79313 6128037888 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 07:59:15,998 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50981] to WebSocket
INFO 2024-08-28 07:59:16,000 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:16,000 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50981] open and established
DEBUG 2024-08-28 07:59:16,000 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50981] accepted by application
INFO 2024-08-28 07:59:16,000 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-28 07:59:16,000 basehttp 79313 6128037888 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 07:59:16,001 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50981]
INFO 2024-08-28 07:59:16,001 basehttp 79313 6144864256 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 07:59:16,013 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50982] to WebSocket
INFO 2024-08-28 07:59:16,015 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:16,015 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50982] open and established
DEBUG 2024-08-28 07:59:16,015 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50982] accepted by application
INFO 2024-08-28 07:59:16,015 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:16,016 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50982]
DEBUG 2024-08-28 07:59:16,028 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50983] to WebSocket
INFO 2024-08-28 07:59:16,030 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:16,030 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50983] open and established
DEBUG 2024-08-28 07:59:16,030 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50983] accepted by application
INFO 2024-08-28 07:59:16,030 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:16,033 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50983]
DEBUG 2024-08-28 07:59:16,043 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50984] to WebSocket
INFO 2024-08-28 07:59:16,044 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:16,044 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50984] open and established
DEBUG 2024-08-28 07:59:16,044 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50984] accepted by application
INFO 2024-08-28 07:59:16,044 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:16,047 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50984]
DEBUG 2024-08-28 07:59:16,059 http_protocol 79322 8540262208 Upgraded connection ['127.0.0.1', 50985] to WebSocket
INFO 2024-08-28 07:59:16,063 consumers 79322 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 07:59:16,063 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50985] open and established
DEBUG 2024-08-28 07:59:16,063 ws_protocol 79322 8540262208 WebSocket ['127.0.0.1', 50985] accepted by application
INFO 2024-08-28 07:59:16,063 consumers 79322 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 07:59:16,066 ws_protocol 79322 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50985]
INFO 2024-08-28 08:06:24,231 server 79322 8540262208 Killed 8 pending application instances
DEBUG 2024-08-28 08:06:24,237 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50982]
DEBUG 2024-08-28 08:06:24,238 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50974]
DEBUG 2024-08-28 08:06:24,238 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50976]
DEBUG 2024-08-28 08:06:24,239 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50980]
DEBUG 2024-08-28 08:06:24,239 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50981]
DEBUG 2024-08-28 08:06:24,239 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50985]
DEBUG 2024-08-28 08:06:24,240 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50983]
DEBUG 2024-08-28 08:06:24,240 ws_protocol 79322 8540262208 WebSocket closed for ['127.0.0.1', 50984]
INFO 2024-08-28 08:07:55,308 cli 79916 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:07:55,308 server 79916 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 08:07:55,308 server 79916 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:07:55,309 server 79916 8540262208 Listening on TCP address 127.0.0.1:8001
DEBUG 2024-08-28 08:07:57,324 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51365] to WebSocket
DEBUG 2024-08-28 08:07:57,338 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51365] open and established
DEBUG 2024-08-28 08:07:57,338 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51365] accepted by application
DEBUG 2024-08-28 08:07:57,339 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51365]
INFO 2024-08-28 08:08:01,851 autoreload 79979 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-28 08:08:03,833 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51365]
INFO 2024-08-28 08:08:05,467 basehttp 79979 6204534784 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 08:08:05,697 basehttp 79979 6204534784 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:08:05,731 basehttp 79979 6204534784 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 08:08:06,037 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51378] to WebSocket
DEBUG 2024-08-28 08:08:06,054 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51378] open and established
DEBUG 2024-08-28 08:08:06,054 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51378] accepted by application
DEBUG 2024-08-28 08:08:06,056 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51378]
INFO 2024-08-28 08:08:07,875 basehttp 79979 6221361152 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 08:08:07,876 basehttp 79979 6204534784 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:08:07,895 basehttp 79979 6204534784 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 08:08:07,896 basehttp 79979 6221361152 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:08:07,897 basehttp 79979 6238187520 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 08:08:07,899 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51383] to WebSocket
INFO 2024-08-28 08:08:07,900 basehttp 79979 6221361152 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:08:07,901 basehttp 79979 6238187520 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:08:07,902 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:07,902 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51383] open and established
DEBUG 2024-08-28 08:08:07,902 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51383] accepted by application
INFO 2024-08-28 08:08:07,902 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:07,904 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51383]
DEBUG 2024-08-28 08:08:07,916 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51384] to WebSocket
INFO 2024-08-28 08:08:07,918 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:07,918 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51384] open and established
DEBUG 2024-08-28 08:08:07,918 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51384] accepted by application
INFO 2024-08-28 08:08:07,918 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:07,919 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51384]
DEBUG 2024-08-28 08:08:07,930 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51385] to WebSocket
INFO 2024-08-28 08:08:07,932 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:07,932 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51385] open and established
DEBUG 2024-08-28 08:08:07,932 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51385] accepted by application
INFO 2024-08-28 08:08:07,932 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:07,933 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51385]
DEBUG 2024-08-28 08:08:08,964 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51385]
INFO 2024-08-28 08:08:08,965 consumers 79916 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-28 08:08:08,980 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51386] to WebSocket
INFO 2024-08-28 08:08:08,987 consumers 79916 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:08:08,988 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51386] open and established
DEBUG 2024-08-28 08:08:08,988 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51386] accepted by application
INFO 2024-08-28 08:08:08,988 consumers 79916 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:08:08,993 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51386]
INFO 2024-08-28 08:08:08,994 basehttp 79979 6238187520 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 08:08:09,009 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51387] to WebSocket
INFO 2024-08-28 08:08:09,010 basehttp 79979 6238187520 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:08:09,012 consumers 79916 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:08:09,012 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51387] open and established
DEBUG 2024-08-28 08:08:09,012 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51387] accepted by application
INFO 2024-08-28 08:08:09,012 consumers 79916 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:08:09,013 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51387]
DEBUG 2024-08-28 08:08:09,024 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51388] to WebSocket
INFO 2024-08-28 08:08:09,027 consumers 79916 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:08:09,027 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51388] open and established
DEBUG 2024-08-28 08:08:09,027 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51388] accepted by application
INFO 2024-08-28 08:08:09,027 consumers 79916 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:08:09,028 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51388]
DEBUG 2024-08-28 08:08:09,041 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51389] to WebSocket
INFO 2024-08-28 08:08:09,042 consumers 79916 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:08:09,042 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51389] open and established
DEBUG 2024-08-28 08:08:09,042 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51389] accepted by application
INFO 2024-08-28 08:08:09,042 consumers 79916 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:08:09,044 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51389]
INFO 2024-08-28 08:08:09,451 basehttp 79979 6238187520 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-28 08:08:09,458 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51389]
INFO 2024-08-28 08:08:09,460 consumers 79916 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-28 08:08:14,916 basehttp 79979 6204534784 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-28 08:08:15,847 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51392] to WebSocket
INFO 2024-08-28 08:08:15,852 consumers 79916 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:08:15,852 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51392] open and established
DEBUG 2024-08-28 08:08:15,852 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51392] accepted by application
INFO 2024-08-28 08:08:15,852 consumers 79916 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 08:08:15,869 basehttp 79979 6204534784 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-28 08:08:15,869 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51392]
DEBUG 2024-08-28 08:08:15,876 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51387]
DEBUG 2024-08-28 08:08:15,877 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51378]
DEBUG 2024-08-28 08:08:15,877 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51388]
DEBUG 2024-08-28 08:08:15,877 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51383]
DEBUG 2024-08-28 08:08:15,878 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51392]
DEBUG 2024-08-28 08:08:15,878 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51386]
DEBUG 2024-08-28 08:08:15,878 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51384]
INFO 2024-08-28 08:08:15,878 consumers 79916 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 08:08:15,878 consumers 79916 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 08:08:15,878 consumers 79916 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 08:08:15,878 consumers 79916 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 08:08:15,878 basehttp 79979 6238187520 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:08:15,879 consumers 79916 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 08:08:15,879 consumers 79916 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
WARNING 2024-08-28 08:08:15,888 log 79979 6221361152 Not Found: /api/get_icon_color/
WARNING 2024-08-28 08:08:15,888 basehttp 79979 6221361152 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-28 08:08:15,888 basehttp 79979 6221361152 - Broken pipe from ('127.0.0.1', 51393)
INFO 2024-08-28 08:08:16,009 basehttp 79979 6238187520 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:08:16,021 basehttp 79979 6204534784 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:08:16,042 basehttp 79979 6204534784 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 08:08:16,072 basehttp 79979 6204534784 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:08:16,075 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51399] to WebSocket
INFO 2024-08-28 08:08:16,087 basehttp 79979 6204534784 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 08:08:16,089 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51399] open and established
DEBUG 2024-08-28 08:08:16,089 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51399] accepted by application
DEBUG 2024-08-28 08:08:16,090 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51399]
WARNING 2024-08-28 08:08:16,091 log 79979 6204534784 Not Found: /api/messages/
WARNING 2024-08-28 08:08:16,091 basehttp 79979 6204534784 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-28 08:08:16,094 log 79979 6204534784 Not Found: /api/messages/
WARNING 2024-08-28 08:08:16,094 basehttp 79979 6204534784 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 08:08:16,103 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51400] to WebSocket
INFO 2024-08-28 08:08:16,107 consumers 79916 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 08:08:16,108 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51400] open and established
DEBUG 2024-08-28 08:08:16,108 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51400] accepted by application
INFO 2024-08-28 08:08:16,108 consumers 79916 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 08:08:16,331 server 79916 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 08:08:16,355 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51400]
DEBUG 2024-08-28 08:08:17,603 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51401] to WebSocket
INFO 2024-08-28 08:08:17,607 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:17,607 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51401] open and established
DEBUG 2024-08-28 08:08:17,607 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51401] accepted by application
INFO 2024-08-28 08:08:17,607 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:17,610 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51401]
DEBUG 2024-08-28 08:08:17,627 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51403] to WebSocket
INFO 2024-08-28 08:08:17,628 basehttp 79979 6204534784 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:08:17,629 basehttp 79979 6238187520 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:08:17,630 basehttp 79979 6221361152 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 08:08:17,630 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:17,631 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51403] open and established
DEBUG 2024-08-28 08:08:17,631 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51403] accepted by application
INFO 2024-08-28 08:08:17,631 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:17,639 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51403]
INFO 2024-08-28 08:08:17,642 basehttp 79979 6238187520 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 08:08:17,642 basehttp 79979 6221361152 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:08:17,642 basehttp 79979 6204534784 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 08:08:17,643 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51404] to WebSocket
INFO 2024-08-28 08:08:17,645 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:17,645 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51404] open and established
DEBUG 2024-08-28 08:08:17,645 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51404] accepted by application
INFO 2024-08-28 08:08:17,645 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-28 08:08:17,646 basehttp 79979 6204534784 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:08:17,647 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51404]
INFO 2024-08-28 08:08:17,647 basehttp 79979 6221361152 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 08:08:17,658 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51405] to WebSocket
INFO 2024-08-28 08:08:17,660 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:17,660 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51405] open and established
DEBUG 2024-08-28 08:08:17,660 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51405] accepted by application
INFO 2024-08-28 08:08:17,660 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:17,662 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51405]
DEBUG 2024-08-28 08:08:17,674 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51406] to WebSocket
INFO 2024-08-28 08:08:17,676 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:17,676 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51406] open and established
DEBUG 2024-08-28 08:08:17,676 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51406] accepted by application
INFO 2024-08-28 08:08:17,676 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:17,677 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51406]
DEBUG 2024-08-28 08:08:17,689 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51407] to WebSocket
INFO 2024-08-28 08:08:17,691 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:17,691 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51407] open and established
DEBUG 2024-08-28 08:08:17,691 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51407] accepted by application
INFO 2024-08-28 08:08:17,691 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:17,693 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51407]
DEBUG 2024-08-28 08:08:17,703 http_protocol 79916 8540262208 Upgraded connection ['127.0.0.1', 51408] to WebSocket
INFO 2024-08-28 08:08:17,705 consumers 79916 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:08:17,705 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51408] open and established
DEBUG 2024-08-28 08:08:17,705 ws_protocol 79916 8540262208 WebSocket ['127.0.0.1', 51408] accepted by application
INFO 2024-08-28 08:08:17,705 consumers 79916 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:08:17,707 ws_protocol 79916 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51408]
INFO 2024-08-28 08:08:47,384 basehttp 79979 6204534784 "GET /static/js/app.js.map HTTP/1.1" 200 106471
INFO 2024-08-28 08:08:47,430 basehttp 79979 6221361152 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 08:22:35,089 server 79916 8540262208 Killed 8 pending application instances
DEBUG 2024-08-28 08:22:35,093 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51401]
DEBUG 2024-08-28 08:22:35,094 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51408]
DEBUG 2024-08-28 08:22:35,094 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51406]
DEBUG 2024-08-28 08:22:35,094 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51405]
DEBUG 2024-08-28 08:22:35,095 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51407]
DEBUG 2024-08-28 08:22:35,095 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51403]
DEBUG 2024-08-28 08:22:35,095 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51404]
DEBUG 2024-08-28 08:22:35,095 ws_protocol 79916 8540262208 WebSocket closed for ['127.0.0.1', 51399]
INFO 2024-08-28 08:22:36,939 cli 80705 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:22:36,939 server 80705 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 08:22:36,939 server 80705 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:22:36,940 server 80705 8540262208 Listening on TCP address 127.0.0.1:8001
DEBUG 2024-08-28 08:22:38,550 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55519] to WebSocket
DEBUG 2024-08-28 08:22:38,555 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55519] open and established
DEBUG 2024-08-28 08:22:38,555 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55519] accepted by application
DEBUG 2024-08-28 08:22:38,556 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55519]
INFO 2024-08-28 08:22:40,292 autoreload 80716 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 08:22:52,010 basehttp 80716 6199455744 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 08:22:52,054 basehttp 80716 6199455744 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
DEBUG 2024-08-28 08:22:54,836 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55519]
INFO 2024-08-28 08:23:05,000 basehttp 80716 6199455744 "GET /login HTTP/1.1" 200 1008
INFO 2024-08-28 08:23:05,067 basehttp 80716 6216282112 "GET /static/css/app.css HTTP/1.1" 200 2779
INFO 2024-08-28 08:23:05,071 basehttp 80716 6199455744 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 08:23:05,100 basehttp 80716 6199455744 "GET /static/js/app.js HTTP/1.1" 200 35658
INFO 2024-08-28 08:23:05,140 basehttp 80716 6216282112 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 08:23:05,418 basehttp 80716 6216282112 "GET /api/check_login_status/ HTTP/1.1" 200 21
INFO 2024-08-28 08:23:05,432 basehttp 80716 6216282112 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 08:23:05,455 basehttp 80716 6199455744 "GET /static/js/app.js.map HTTP/1.1" 200 106805
INFO 2024-08-28 08:23:05,510 basehttp 80716 6216282112 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 08:23:10,220 basehttp 80716 6199455744 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 08:23:11,208 basehttp 80716 6199455744 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 08:23:11,219 basehttp 80716 6233108480 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 08:23:11,228 log 80716 6216282112 Not Found: /api/get_icon_color/
WARNING 2024-08-28 08:23:11,228 basehttp 80716 6216282112 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-28 08:23:11,265 basehttp 80716 6233108480 "GET /static/css/app.css HTTP/1.1" 200 2779
INFO 2024-08-28 08:23:11,267 basehttp 80716 6216282112 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 08:23:11,305 basehttp 80716 6216282112 "GET /static/js/app.js HTTP/1.1" 200 35658
INFO 2024-08-28 08:23:11,335 basehttp 80716 6216282112 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 08:23:11,623 basehttp 80716 6216282112 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:23:11,634 basehttp 80716 6233108480 "GET /static/js/app.js.map HTTP/1.1" 200 106805
INFO 2024-08-28 08:23:11,634 basehttp 80716 6249934848 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:23:11,659 basehttp 80716 6249934848 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 08:23:11,676 basehttp 80716 6199455744 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 08:23:11,716 basehttp 80716 6199455744 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:23:11,723 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55726] to WebSocket
DEBUG 2024-08-28 08:23:11,727 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55726] open and established
DEBUG 2024-08-28 08:23:11,727 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55726] accepted by application
DEBUG 2024-08-28 08:23:11,728 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55726]
INFO 2024-08-28 08:23:11,798 basehttp 80716 6199455744 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 08:23:11,810 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55727] to WebSocket
INFO 2024-08-28 08:23:11,813 basehttp 80716 6199455744 "GET /static/chat.svg HTTP/1.1" 200 405
WARNING 2024-08-28 08:23:11,815 log 80716 6249934848 Not Found: /api/messages/
WARNING 2024-08-28 08:23:11,816 basehttp 80716 6249934848 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 08:23:11,816 consumers 80705 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 08:23:11,816 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55727] open and established
DEBUG 2024-08-28 08:23:11,817 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55727] accepted by application
INFO 2024-08-28 08:23:11,817 consumers 80705 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 08:23:11,827 log 80716 6249934848 Not Found: /api/messages/
WARNING 2024-08-28 08:23:11,828 basehttp 80716 6249934848 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 08:23:11,982 server 80705 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 08:23:11,993 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55727]
DEBUG 2024-08-28 08:23:18,618 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55759] to WebSocket
INFO 2024-08-28 08:23:18,632 consumers 80705 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:23:18,632 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55759] open and established
DEBUG 2024-08-28 08:23:18,632 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55759] accepted by application
INFO 2024-08-28 08:23:18,632 consumers 80705 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:23:18,636 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55759]
DEBUG 2024-08-28 08:23:18,650 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55760] to WebSocket
INFO 2024-08-28 08:23:18,655 consumers 80705 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:23:18,655 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55760] open and established
DEBUG 2024-08-28 08:23:18,655 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55760] accepted by application
INFO 2024-08-28 08:23:18,655 consumers 80705 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:23:18,657 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55760]
INFO 2024-08-28 08:23:18,657 basehttp 80716 6199455744 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:23:18,658 basehttp 80716 6216282112 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:23:18,661 basehttp 80716 6233108480 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
DEBUG 2024-08-28 08:23:18,668 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55764] to WebSocket
INFO 2024-08-28 08:23:18,670 consumers 80705 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:23:18,670 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55764] open and established
INFO 2024-08-28 08:23:18,670 basehttp 80716 6233108480 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
DEBUG 2024-08-28 08:23:18,671 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55764] accepted by application
INFO 2024-08-28 08:23:18,671 consumers 80705 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:23:18,673 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55764]
INFO 2024-08-28 08:23:18,675 basehttp 80716 6233108480 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:23:18,677 basehttp 80716 6216282112 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:23:18,680 basehttp 80716 6199455744 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:23:18,681 basehttp 80716 6233108480 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 08:23:18,682 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55765] to WebSocket
INFO 2024-08-28 08:23:18,685 consumers 80705 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:23:18,685 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55765] open and established
DEBUG 2024-08-28 08:23:18,685 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55765] accepted by application
INFO 2024-08-28 08:23:18,685 consumers 80705 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:23:18,686 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55765]
DEBUG 2024-08-28 08:23:18,697 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55766] to WebSocket
INFO 2024-08-28 08:23:18,699 consumers 80705 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:23:18,699 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55766] open and established
DEBUG 2024-08-28 08:23:18,699 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55766] accepted by application
INFO 2024-08-28 08:23:18,699 consumers 80705 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:23:18,700 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55766]
DEBUG 2024-08-28 08:23:18,712 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55767] to WebSocket
INFO 2024-08-28 08:23:18,714 consumers 80705 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:23:18,714 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55767] open and established
DEBUG 2024-08-28 08:23:18,714 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55767] accepted by application
INFO 2024-08-28 08:23:18,714 consumers 80705 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:23:18,716 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55767]
DEBUG 2024-08-28 08:23:18,726 http_protocol 80705 8540262208 Upgraded connection ['127.0.0.1', 55768] to WebSocket
INFO 2024-08-28 08:23:18,728 consumers 80705 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:23:18,728 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55768] open and established
DEBUG 2024-08-28 08:23:18,728 ws_protocol 80705 8540262208 WebSocket ['127.0.0.1', 55768] accepted by application
INFO 2024-08-28 08:23:18,728 consumers 80705 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:23:18,729 ws_protocol 80705 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55768]
INFO 2024-08-28 08:29:21,271 server 80705 8540262208 Killed 8 pending application instances
DEBUG 2024-08-28 08:29:21,276 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55760]
DEBUG 2024-08-28 08:29:21,276 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55766]
DEBUG 2024-08-28 08:29:21,277 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55759]
DEBUG 2024-08-28 08:29:21,277 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55767]
DEBUG 2024-08-28 08:29:21,277 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55764]
DEBUG 2024-08-28 08:29:21,277 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55765]
DEBUG 2024-08-28 08:29:21,277 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55726]
DEBUG 2024-08-28 08:29:21,278 ws_protocol 80705 8540262208 WebSocket closed for ['127.0.0.1', 55768]
INFO 2024-08-28 08:30:24,398 cli 81180 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:30:24,399 server 81180 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 08:30:24,399 server 81180 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:30:24,399 server 81180 8540262208 Listening on TCP address 127.0.0.1:8001
DEBUG 2024-08-28 08:30:30,306 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 55997] to WebSocket
DEBUG 2024-08-28 08:30:30,312 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 55997] open and established
DEBUG 2024-08-28 08:30:30,312 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 55997] accepted by application
DEBUG 2024-08-28 08:30:30,313 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55997]
INFO 2024-08-28 08:30:30,867 autoreload 81242 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 08:30:35,892 basehttp 81242 6157185024 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 08:30:35,951 basehttp 81242 6157185024 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 08:30:35,977 basehttp 81242 6157185024 "GET /static/css/app.css HTTP/1.1" 200 2779
INFO 2024-08-28 08:30:35,983 basehttp 81242 6174011392 "GET /static/js/app.js HTTP/1.1" 200 38533
INFO 2024-08-28 08:30:36,008 basehttp 81242 6190837760 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
DEBUG 2024-08-28 08:30:36,050 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 55997]
INFO 2024-08-28 08:30:36,229 basehttp 81242 6157185024 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:30:36,246 basehttp 81242 6157185024 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 08:30:36,285 basehttp 81242 6157185024 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 08:30:36,329 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56011] to WebSocket
DEBUG 2024-08-28 08:30:36,332 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56011] open and established
DEBUG 2024-08-28 08:30:36,332 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56011] accepted by application
DEBUG 2024-08-28 08:30:36,334 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56011]
INFO 2024-08-28 08:30:37,373 basehttp 81242 6157185024 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 08:30:42,414 basehttp 81242 6157185024 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 08:30:43,477 basehttp 81242 6157185024 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 08:30:43,488 basehttp 81242 6157185024 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 08:30:43,504 log 81242 6174011392 Not Found: /api/get_icon_color/
WARNING 2024-08-28 08:30:43,504 basehttp 81242 6174011392 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 08:30:43,519 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56011]
INFO 2024-08-28 08:30:43,529 basehttp 81242 6174011392 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 08:30:43,532 basehttp 81242 6190837760 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 08:30:43,535 basehttp 81242 6157185024 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 08:30:43,536 basehttp 81242 6190837760 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 08:30:43,689 basehttp 81242 6190837760 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:30:43,699 basehttp 81242 6157185024 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:30:43,718 basehttp 81242 6157185024 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 08:30:43,745 basehttp 81242 6157185024 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:30:43,748 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56019] to WebSocket
DEBUG 2024-08-28 08:30:43,757 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56019] open and established
DEBUG 2024-08-28 08:30:43,757 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56019] accepted by application
DEBUG 2024-08-28 08:30:43,759 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56019]
INFO 2024-08-28 08:30:43,759 basehttp 81242 6157185024 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-28 08:30:43,762 basehttp 81242 6190837760 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-28 08:30:43,766 log 81242 6190837760 Not Found: /api/messages/
WARNING 2024-08-28 08:30:43,766 basehttp 81242 6190837760 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 08:30:43,768 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56020] to WebSocket
WARNING 2024-08-28 08:30:43,769 log 81242 6190837760 Not Found: /api/messages/
WARNING 2024-08-28 08:30:43,769 basehttp 81242 6190837760 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 08:30:43,770 consumers 81180 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 08:30:43,771 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56020] open and established
DEBUG 2024-08-28 08:30:43,771 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56020] accepted by application
INFO 2024-08-28 08:30:43,771 consumers 81180 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 08:30:44,420 server 81180 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 08:30:44,445 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56020]
DEBUG 2024-08-28 08:30:45,450 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56021] to WebSocket
INFO 2024-08-28 08:30:45,455 consumers 81180 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:30:45,456 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56021] open and established
DEBUG 2024-08-28 08:30:45,456 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56021] accepted by application
INFO 2024-08-28 08:30:45,456 consumers 81180 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:30:45,459 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56021]
INFO 2024-08-28 08:30:45,469 basehttp 81242 6157185024 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:30:45,472 basehttp 81242 6190837760 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:30:45,473 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56022] to WebSocket
INFO 2024-08-28 08:30:45,477 consumers 81180 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-08-28 08:30:45,477 basehttp 81242 6174011392 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
DEBUG 2024-08-28 08:30:45,477 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56022] open and established
DEBUG 2024-08-28 08:30:45,477 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56022] accepted by application
INFO 2024-08-28 08:30:45,477 consumers 81180 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:30:45,479 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56022]
INFO 2024-08-28 08:30:45,483 basehttp 81242 6174011392 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 08:30:45,487 basehttp 81242 6174011392 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:30:45,488 basehttp 81242 6190837760 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 08:30:45,489 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56023] to WebSocket
INFO 2024-08-28 08:30:45,497 consumers 81180 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:30:45,498 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56023] open and established
DEBUG 2024-08-28 08:30:45,498 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56023] accepted by application
INFO 2024-08-28 08:30:45,498 consumers 81180 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-28 08:30:45,498 basehttp 81242 6190837760 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:30:45,499 basehttp 81242 6174011392 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 08:30:45,500 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56023]
DEBUG 2024-08-28 08:30:45,511 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56024] to WebSocket
INFO 2024-08-28 08:30:45,513 consumers 81180 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:30:45,513 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56024] open and established
DEBUG 2024-08-28 08:30:45,513 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56024] accepted by application
INFO 2024-08-28 08:30:45,513 consumers 81180 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:30:45,515 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56024]
DEBUG 2024-08-28 08:30:45,527 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56025] to WebSocket
INFO 2024-08-28 08:30:45,528 consumers 81180 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:30:45,529 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56025] open and established
DEBUG 2024-08-28 08:30:45,529 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56025] accepted by application
INFO 2024-08-28 08:30:45,529 consumers 81180 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:30:45,530 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56025]
DEBUG 2024-08-28 08:30:45,542 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56026] to WebSocket
INFO 2024-08-28 08:30:45,543 consumers 81180 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:30:45,543 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56026] open and established
DEBUG 2024-08-28 08:30:45,544 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56026] accepted by application
INFO 2024-08-28 08:30:45,544 consumers 81180 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:30:45,545 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56026]
DEBUG 2024-08-28 08:30:45,557 http_protocol 81180 8540262208 Upgraded connection ['127.0.0.1', 56027] to WebSocket
INFO 2024-08-28 08:30:45,559 consumers 81180 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:30:45,559 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56027] open and established
DEBUG 2024-08-28 08:30:45,559 ws_protocol 81180 8540262208 WebSocket ['127.0.0.1', 56027] accepted by application
INFO 2024-08-28 08:30:45,559 consumers 81180 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:30:45,560 ws_protocol 81180 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56027]
INFO 2024-08-28 08:34:15,860 server 81180 8540262208 Killed 8 pending application instances
DEBUG 2024-08-28 08:34:15,872 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56024]
DEBUG 2024-08-28 08:34:15,872 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56019]
DEBUG 2024-08-28 08:34:15,872 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56021]
DEBUG 2024-08-28 08:34:15,872 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56023]
DEBUG 2024-08-28 08:34:15,873 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56025]
DEBUG 2024-08-28 08:34:15,873 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56026]
DEBUG 2024-08-28 08:34:15,873 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56027]
DEBUG 2024-08-28 08:34:15,873 ws_protocol 81180 8540262208 WebSocket closed for ['127.0.0.1', 56022]
INFO 2024-08-28 08:35:33,302 cli 81654 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:35:33,303 server 81654 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 08:35:33,303 server 81654 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:35:33,303 server 81654 8540262208 Listening on TCP address 127.0.0.1:8001
DEBUG 2024-08-28 08:35:34,987 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56101] to WebSocket
DEBUG 2024-08-28 08:35:35,001 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56101] open and established
DEBUG 2024-08-28 08:35:35,001 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56101] accepted by application
DEBUG 2024-08-28 08:35:35,002 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56101]
INFO 2024-08-28 08:35:40,863 autoreload 81716 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-28 08:35:44,808 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56101]
INFO 2024-08-28 08:35:46,196 basehttp 81716 6157807616 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 08:35:46,267 basehttp 81716 6157807616 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 08:35:46,284 basehttp 81716 6157807616 "GET /static/css/app.css HTTP/1.1" 200 2779
INFO 2024-08-28 08:35:46,293 basehttp 81716 6191460352 "GET /static/js/app.js HTTP/1.1" 200 36998
INFO 2024-08-28 08:35:46,311 basehttp 81716 6174633984 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 08:35:46,525 basehttp 81716 6174633984 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:35:46,542 basehttp 81716 6174633984 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 08:35:46,569 basehttp 81716 6174633984 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 08:35:46,761 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56114] to WebSocket
DEBUG 2024-08-28 08:35:46,766 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56114] open and established
DEBUG 2024-08-28 08:35:46,766 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56114] accepted by application
DEBUG 2024-08-28 08:35:46,768 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56114]
INFO 2024-08-28 08:35:49,078 basehttp 81716 6174633984 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 08:35:52,284 basehttp 81716 6157807616 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 08:35:53,954 basehttp 81716 6157807616 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 08:35:53,967 basehttp 81716 6157807616 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 08:35:53,975 log 81716 6174633984 Not Found: /api/get_icon_color/
WARNING 2024-08-28 08:35:53,975 basehttp 81716 6174633984 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 08:35:53,990 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56114]
INFO 2024-08-28 08:35:54,003 basehttp 81716 6174633984 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 08:35:54,008 basehttp 81716 6157807616 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 08:35:54,009 basehttp 81716 6191460352 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 08:35:54,010 basehttp 81716 6208286720 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 08:35:54,158 basehttp 81716 6208286720 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:35:54,168 basehttp 81716 6191460352 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:35:54,192 basehttp 81716 6191460352 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 08:35:54,215 basehttp 81716 6191460352 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:35:54,222 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56129] to WebSocket
INFO 2024-08-28 08:35:54,230 basehttp 81716 6208286720 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-28 08:35:54,231 basehttp 81716 6191460352 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-28 08:35:54,231 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56129] open and established
DEBUG 2024-08-28 08:35:54,232 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56129] accepted by application
DEBUG 2024-08-28 08:35:54,233 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56129]
WARNING 2024-08-28 08:35:54,234 log 81716 6191460352 Not Found: /api/messages/
WARNING 2024-08-28 08:35:54,234 basehttp 81716 6191460352 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-28 08:35:54,238 log 81716 6191460352 Not Found: /api/messages/
WARNING 2024-08-28 08:35:54,238 basehttp 81716 6191460352 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 08:35:54,245 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56130] to WebSocket
INFO 2024-08-28 08:35:54,247 consumers 81654 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 08:35:54,247 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56130] open and established
DEBUG 2024-08-28 08:35:54,247 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56130] accepted by application
INFO 2024-08-28 08:35:54,247 consumers 81654 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 08:35:54,330 server 81654 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 08:35:54,347 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56130]
DEBUG 2024-08-28 08:35:55,400 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56131] to WebSocket
INFO 2024-08-28 08:35:55,409 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:35:55,409 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56131] open and established
DEBUG 2024-08-28 08:35:55,409 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56131] accepted by application
INFO 2024-08-28 08:35:55,409 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:35:55,426 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56132] to WebSocket
DEBUG 2024-08-28 08:35:55,427 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56131]
INFO 2024-08-28 08:35:55,427 basehttp 81716 6191460352 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:35:55,429 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:35:55,429 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56132] open and established
DEBUG 2024-08-28 08:35:55,430 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56132] accepted by application
INFO 2024-08-28 08:35:55,430 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-28 08:35:55,430 basehttp 81716 6208286720 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:35:55,431 basehttp 81716 6157807616 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
DEBUG 2024-08-28 08:35:55,431 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56132]
INFO 2024-08-28 08:35:55,434 basehttp 81716 6157807616 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 08:35:55,439 basehttp 81716 6208286720 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:35:55,439 basehttp 81716 6157807616 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:35:55,441 basehttp 81716 6191460352 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:35:55,442 basehttp 81716 6157807616 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:35:55,443 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56133] to WebSocket
INFO 2024-08-28 08:35:55,445 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:35:55,445 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56133] open and established
DEBUG 2024-08-28 08:35:55,445 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56133] accepted by application
INFO 2024-08-28 08:35:55,445 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:35:55,446 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56133]
DEBUG 2024-08-28 08:35:55,458 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56134] to WebSocket
INFO 2024-08-28 08:35:55,460 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:35:55,460 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56134] open and established
DEBUG 2024-08-28 08:35:55,460 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56134] accepted by application
INFO 2024-08-28 08:35:55,460 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:35:55,461 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56134]
DEBUG 2024-08-28 08:35:55,473 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56135] to WebSocket
INFO 2024-08-28 08:35:55,479 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:35:55,481 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56135] open and established
DEBUG 2024-08-28 08:35:55,481 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56135] accepted by application
INFO 2024-08-28 08:35:55,481 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:35:55,483 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56135]
DEBUG 2024-08-28 08:35:55,495 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56136] to WebSocket
INFO 2024-08-28 08:35:55,499 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:35:55,499 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56136] open and established
DEBUG 2024-08-28 08:35:55,499 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56136] accepted by application
INFO 2024-08-28 08:35:55,499 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:35:55,501 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56136]
DEBUG 2024-08-28 08:35:55,515 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56137] to WebSocket
INFO 2024-08-28 08:35:55,519 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:35:55,520 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56137] open and established
DEBUG 2024-08-28 08:35:55,520 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56137] accepted by application
INFO 2024-08-28 08:35:55,520 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:35:55,521 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56137]
INFO 2024-08-28 08:35:58,269 basehttp 81716 6157807616 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-28 08:35:58,272 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56137]
INFO 2024-08-28 08:35:58,274 consumers 81654 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-28 08:35:58,303 basehttp 81716 6157807616 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-28 08:36:03,313 basehttp 81716 6157807616 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-28 08:36:04,208 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56144] to WebSocket
INFO 2024-08-28 08:36:04,210 basehttp 81716 6157807616 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 08:36:04,217 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:36:04,217 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56144] open and established
DEBUG 2024-08-28 08:36:04,217 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56144] accepted by application
INFO 2024-08-28 08:36:04,217 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:36:04,221 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56144]
DEBUG 2024-08-28 08:36:04,225 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56134]
DEBUG 2024-08-28 08:36:04,226 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56136]
DEBUG 2024-08-28 08:36:04,227 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56135]
DEBUG 2024-08-28 08:36:04,227 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56132]
DEBUG 2024-08-28 08:36:04,228 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56131]
WARNING 2024-08-28 08:36:04,228 log 81716 6174633984 Not Found: /api/get_icon_color/
DEBUG 2024-08-28 08:36:04,228 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56129]
DEBUG 2024-08-28 08:36:04,228 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56133]
INFO 2024-08-28 08:36:04,228 consumers 81654 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
DEBUG 2024-08-28 08:36:04,229 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56144]
INFO 2024-08-28 08:36:04,229 consumers 81654 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 08:36:04,229 consumers 81654 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 08:36:04,229 consumers 81654 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 08:36:04,229 consumers 81654 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 08:36:04,229 consumers 81654 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 08:36:04,229 consumers 81654 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 08:36:04,229 basehttp 81716 6174633984 - Broken pipe from ('127.0.0.1', 56145)
INFO 2024-08-28 08:36:04,230 basehttp 81716 6157807616 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:36:04,230 basehttp 81716 6157807616 - Broken pipe from ('127.0.0.1', 56142)
INFO 2024-08-28 08:36:04,256 basehttp 81716 6157807616 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 08:36:04,259 basehttp 81716 6157807616 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 08:36:04,260 basehttp 81716 6174633984 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 08:36:04,260 basehttp 81716 6191460352 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 08:36:04,364 basehttp 81716 6191460352 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:36:04,372 basehttp 81716 6174633984 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:36:04,393 basehttp 81716 6174633984 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 08:36:04,420 basehttp 81716 6174633984 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:36:04,432 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56153] to WebSocket
INFO 2024-08-28 08:36:04,433 basehttp 81716 6191460352 "GET /static/chat.svg HTTP/1.1" 304 0
INFO 2024-08-28 08:36:04,435 basehttp 81716 6174633984 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 08:36:04,437 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56153] open and established
DEBUG 2024-08-28 08:36:04,440 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56153] accepted by application
DEBUG 2024-08-28 08:36:04,444 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56153]
WARNING 2024-08-28 08:36:04,445 log 81716 6174633984 Not Found: /api/messages/
WARNING 2024-08-28 08:36:04,445 basehttp 81716 6174633984 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-28 08:36:04,450 log 81716 6174633984 Not Found: /api/messages/
WARNING 2024-08-28 08:36:04,450 basehttp 81716 6174633984 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 08:36:04,455 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56154] to WebSocket
INFO 2024-08-28 08:36:04,456 consumers 81654 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 08:36:04,457 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56154] open and established
DEBUG 2024-08-28 08:36:04,457 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56154] accepted by application
INFO 2024-08-28 08:36:04,457 consumers 81654 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 08:36:05,375 server 81654 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 08:36:05,387 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56154]
DEBUG 2024-08-28 08:36:05,521 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56155] to WebSocket
INFO 2024-08-28 08:36:05,526 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:36:05,526 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56155] open and established
DEBUG 2024-08-28 08:36:05,526 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56155] accepted by application
INFO 2024-08-28 08:36:05,526 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:36:05,529 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56155]
INFO 2024-08-28 08:36:05,541 basehttp 81716 6174633984 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 08:36:05,545 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56156] to WebSocket
INFO 2024-08-28 08:36:05,549 basehttp 81716 6157807616 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 08:36:05,551 basehttp 81716 6191460352 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:36:05,552 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:36:05,552 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56156] open and established
DEBUG 2024-08-28 08:36:05,552 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56156] accepted by application
INFO 2024-08-28 08:36:05,552 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:36:05,554 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56156]
INFO 2024-08-28 08:36:05,557 basehttp 81716 6191460352 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:36:05,558 basehttp 81716 6157807616 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:36:05,559 basehttp 81716 6174633984 "GET /api/messages/?room_id=1 HTTP/1.1" 200 366
INFO 2024-08-28 08:36:05,564 basehttp 81716 6174633984 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 08:36:05,565 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56157] to WebSocket
INFO 2024-08-28 08:36:05,567 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:36:05,567 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56157] open and established
DEBUG 2024-08-28 08:36:05,567 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56157] accepted by application
INFO 2024-08-28 08:36:05,567 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:36:05,568 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56157]
DEBUG 2024-08-28 08:36:05,580 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56158] to WebSocket
INFO 2024-08-28 08:36:05,582 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:36:05,582 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56158] open and established
DEBUG 2024-08-28 08:36:05,582 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56158] accepted by application
INFO 2024-08-28 08:36:05,582 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:36:05,583 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56158]
DEBUG 2024-08-28 08:36:05,596 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56159] to WebSocket
INFO 2024-08-28 08:36:05,598 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:36:05,598 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56159] open and established
DEBUG 2024-08-28 08:36:05,598 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56159] accepted by application
INFO 2024-08-28 08:36:05,598 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:36:05,599 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56159]
DEBUG 2024-08-28 08:36:05,612 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56160] to WebSocket
INFO 2024-08-28 08:36:05,615 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:36:05,615 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56160] open and established
DEBUG 2024-08-28 08:36:05,615 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56160] accepted by application
INFO 2024-08-28 08:36:05,615 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:36:05,616 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56160]
DEBUG 2024-08-28 08:36:05,629 http_protocol 81654 8540262208 Upgraded connection ['127.0.0.1', 56161] to WebSocket
INFO 2024-08-28 08:36:05,633 consumers 81654 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 08:36:05,633 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56161] open and established
DEBUG 2024-08-28 08:36:05,633 ws_protocol 81654 8540262208 WebSocket ['127.0.0.1', 56161] accepted by application
INFO 2024-08-28 08:36:05,633 consumers 81654 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 08:36:05,635 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56161]
DEBUG 2024-08-28 08:36:15,378 ws_protocol 81654 8540262208 WebSocket incoming frame on ['127.0.0.1', 56161]
DEBUG 2024-08-28 08:36:15,386 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56155]
DEBUG 2024-08-28 08:36:15,386 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56156]
DEBUG 2024-08-28 08:36:15,386 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56157]
DEBUG 2024-08-28 08:36:15,387 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56158]
DEBUG 2024-08-28 08:36:15,387 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56159]
DEBUG 2024-08-28 08:36:15,387 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56160]
DEBUG 2024-08-28 08:36:15,387 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56161]
DEBUG 2024-08-28 08:36:17,544 ws_protocol 81654 8540262208 WebSocket incoming frame on ['127.0.0.1', 56161]
DEBUG 2024-08-28 08:36:17,557 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56155]
DEBUG 2024-08-28 08:36:17,557 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56156]
DEBUG 2024-08-28 08:36:17,558 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56157]
DEBUG 2024-08-28 08:36:17,558 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56158]
DEBUG 2024-08-28 08:36:17,558 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56159]
DEBUG 2024-08-28 08:36:17,558 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56160]
DEBUG 2024-08-28 08:36:17,558 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56161]
DEBUG 2024-08-28 08:36:19,394 ws_protocol 81654 8540262208 WebSocket incoming frame on ['127.0.0.1', 56161]
DEBUG 2024-08-28 08:36:19,403 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56155]
DEBUG 2024-08-28 08:36:19,403 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56156]
DEBUG 2024-08-28 08:36:19,403 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56157]
DEBUG 2024-08-28 08:36:19,403 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56158]
DEBUG 2024-08-28 08:36:19,403 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56159]
DEBUG 2024-08-28 08:36:19,404 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56160]
DEBUG 2024-08-28 08:36:19,404 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56161]
DEBUG 2024-08-28 08:36:22,351 ws_protocol 81654 8540262208 WebSocket incoming frame on ['127.0.0.1', 56161]
DEBUG 2024-08-28 08:36:22,357 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56155]
DEBUG 2024-08-28 08:36:22,358 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56156]
DEBUG 2024-08-28 08:36:22,358 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56157]
DEBUG 2024-08-28 08:36:22,358 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56158]
DEBUG 2024-08-28 08:36:22,358 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56159]
DEBUG 2024-08-28 08:36:22,359 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56160]
DEBUG 2024-08-28 08:36:22,359 ws_protocol 81654 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 56161]
INFO 2024-08-28 08:37:12,933 basehttp 81716 6174633984 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 08:37:12,934 basehttp 81716 6157807616 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 08:37:13,325 basehttp 81716 6157807616 "GET /static/js/app.js.map HTTP/1.1" 200 108995
INFO 2024-08-28 08:37:13,368 basehttp 81716 6157807616 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 08:42:31,095 server 81654 8540262208 Killed 8 pending application instances
DEBUG 2024-08-28 08:42:31,098 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56156]
DEBUG 2024-08-28 08:42:31,098 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56155]
DEBUG 2024-08-28 08:42:31,098 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56153]
DEBUG 2024-08-28 08:42:31,098 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56160]
DEBUG 2024-08-28 08:42:31,098 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56157]
DEBUG 2024-08-28 08:42:31,098 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56158]
DEBUG 2024-08-28 08:42:31,099 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56159]
DEBUG 2024-08-28 08:42:31,099 ws_protocol 81654 8540262208 WebSocket closed for ['127.0.0.1', 56161]
INFO 2024-08-28 08:43:05,487 cli 82386 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:43:05,487 server 82386 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 08:43:05,487 server 82386 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 08:43:05,488 server 82386 8540262208 Listening on TCP address 127.0.0.1:8001
DEBUG 2024-08-28 08:43:06,585 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57895] to WebSocket
DEBUG 2024-08-28 08:43:06,596 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57895] open and established
DEBUG 2024-08-28 08:43:06,596 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57895] accepted by application
DEBUG 2024-08-28 08:43:06,598 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57895]
INFO 2024-08-28 08:43:10,840 autoreload 82447 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-28 08:43:16,669 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57895]
INFO 2024-08-28 08:43:18,835 basehttp 82447 6134935552 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 08:43:18,872 basehttp 82447 6134935552 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 08:43:18,898 basehttp 82447 6134935552 "GET /static/css/app.css HTTP/1.1" 200 2786
INFO 2024-08-28 08:43:18,903 basehttp 82447 6168588288 "GET /static/js/app.js HTTP/1.1" 200 37000
INFO 2024-08-28 08:43:18,928 basehttp 82447 6151761920 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 08:43:19,140 basehttp 82447 6151761920 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:43:19,157 basehttp 82447 6151761920 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 08:43:19,181 basehttp 82447 6151761920 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 08:43:21,918 basehttp 82447 6151761920 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 08:43:21,967 basehttp 82447 6151761920 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 08:43:22,002 basehttp 82447 6151761920 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 08:43:22,003 basehttp 82447 6168588288 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 08:43:22,004 basehttp 82447 6168588288 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 08:43:22,242 basehttp 82447 6168588288 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:43:22,258 basehttp 82447 6168588288 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-28 08:43:22,282 basehttp 82447 6168588288 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 08:43:22,569 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57952] to WebSocket
DEBUG 2024-08-28 08:43:22,575 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57952] open and established
DEBUG 2024-08-28 08:43:22,576 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57952] accepted by application
DEBUG 2024-08-28 08:43:22,577 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57952]
INFO 2024-08-28 08:43:24,043 basehttp 82447 6168588288 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 08:43:29,134 basehttp 82447 6168588288 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 08:43:30,124 basehttp 82447 6168588288 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 08:43:30,134 basehttp 82447 6134935552 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 08:43:30,146 log 82447 6151761920 Not Found: /api/get_icon_color/
WARNING 2024-08-28 08:43:30,146 basehttp 82447 6151761920 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 08:43:30,161 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57952]
INFO 2024-08-28 08:43:30,176 basehttp 82447 6151761920 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 08:43:30,177 basehttp 82447 6168588288 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 08:43:30,179 basehttp 82447 6134935552 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 08:43:30,180 basehttp 82447 6151761920 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 08:43:30,330 basehttp 82447 6151761920 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 08:43:30,340 basehttp 82447 6134935552 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:43:30,363 basehttp 82447 6134935552 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 08:43:30,389 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57958] to WebSocket
INFO 2024-08-28 08:43:30,394 basehttp 82447 6134935552 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:43:30,398 basehttp 82447 6134935552 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-28 08:43:30,401 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57958] open and established
DEBUG 2024-08-28 08:43:30,402 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57958] accepted by application
DEBUG 2024-08-28 08:43:30,408 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57958]
INFO 2024-08-28 08:43:30,410 basehttp 82447 6151761920 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-28 08:43:30,415 log 82447 6151761920 Not Found: /api/messages/
WARNING 2024-08-28 08:43:30,415 basehttp 82447 6151761920 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 08:43:30,420 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57959] to WebSocket
INFO 2024-08-28 08:43:30,423 consumers 82386 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 08:43:30,423 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57959] open and established
DEBUG 2024-08-28 08:43:30,423 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57959] accepted by application
INFO 2024-08-28 08:43:30,423 consumers 82386 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 08:43:30,424 log 82447 6151761920 Not Found: /api/messages/
WARNING 2024-08-28 08:43:30,425 basehttp 82447 6151761920 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 08:43:30,509 server 82386 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 08:43:30,524 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57959]
DEBUG 2024-08-28 08:43:31,462 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57960] to WebSocket
INFO 2024-08-28 08:43:31,472 consumers 82386 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:43:31,472 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57960] open and established
DEBUG 2024-08-28 08:43:31,472 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57960] accepted by application
INFO 2024-08-28 08:43:31,473 consumers 82386 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:43:31,479 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57960]
INFO 2024-08-28 08:43:31,481 basehttp 82447 6151761920 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:43:31,484 basehttp 82447 6134935552 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:43:31,484 basehttp 82447 6168588288 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 08:43:31,485 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57961] to WebSocket
INFO 2024-08-28 08:43:31,487 consumers 82386 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:43:31,487 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57961] open and established
DEBUG 2024-08-28 08:43:31,487 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57961] accepted by application
INFO 2024-08-28 08:43:31,487 consumers 82386 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:43:31,490 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57961]
INFO 2024-08-28 08:43:31,495 basehttp 82447 6168588288 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 08:43:31,499 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57962] to WebSocket
INFO 2024-08-28 08:43:31,499 basehttp 82447 6168588288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:43:31,500 basehttp 82447 6134935552 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 08:43:31,502 consumers 82386 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:43:31,502 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57962] open and established
DEBUG 2024-08-28 08:43:31,502 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57962] accepted by application
INFO 2024-08-28 08:43:31,502 consumers 82386 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:43:31,504 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57962]
INFO 2024-08-28 08:43:31,504 basehttp 82447 6134935552 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 08:43:31,505 basehttp 82447 6168588288 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 08:43:31,516 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57963] to WebSocket
INFO 2024-08-28 08:43:31,517 consumers 82386 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:43:31,518 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57963] open and established
DEBUG 2024-08-28 08:43:31,518 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57963] accepted by application
INFO 2024-08-28 08:43:31,518 consumers 82386 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:43:31,519 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57963]
DEBUG 2024-08-28 08:43:31,529 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57964] to WebSocket
INFO 2024-08-28 08:43:31,531 consumers 82386 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:43:31,531 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57964] open and established
DEBUG 2024-08-28 08:43:31,531 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57964] accepted by application
INFO 2024-08-28 08:43:31,531 consumers 82386 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:43:31,532 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57964]
DEBUG 2024-08-28 08:43:31,543 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57965] to WebSocket
INFO 2024-08-28 08:43:31,545 consumers 82386 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:43:31,545 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57965] open and established
DEBUG 2024-08-28 08:43:31,545 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57965] accepted by application
INFO 2024-08-28 08:43:31,545 consumers 82386 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:43:31,546 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57965]
DEBUG 2024-08-28 08:43:31,560 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57966] to WebSocket
INFO 2024-08-28 08:43:31,564 consumers 82386 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 08:43:31,564 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57966] open and established
DEBUG 2024-08-28 08:43:31,564 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57966] accepted by application
INFO 2024-08-28 08:43:31,564 consumers 82386 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 08:43:31,566 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57966]
DEBUG 2024-08-28 08:46:52,054 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57966]
DEBUG 2024-08-28 08:46:52,054 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57965]
DEBUG 2024-08-28 08:46:52,054 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57964]
DEBUG 2024-08-28 08:46:52,055 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57963]
DEBUG 2024-08-28 08:46:52,055 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57960]
DEBUG 2024-08-28 08:46:52,055 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57958]
DEBUG 2024-08-28 08:46:52,055 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57961]
DEBUG 2024-08-28 08:46:52,055 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57962]
INFO 2024-08-28 08:46:52,056 consumers 82386 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-28 08:46:52,056 consumers 82386 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-28 08:46:52,056 consumers 82386 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-28 08:46:52,056 consumers 82386 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-28 08:46:52,059 consumers 82386 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-28 08:46:52,059 consumers 82386 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-28 08:46:52,059 consumers 82386 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
DEBUG 2024-08-28 08:46:55,556 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 57990] to WebSocket
DEBUG 2024-08-28 08:46:55,566 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57990] open and established
DEBUG 2024-08-28 08:46:55,567 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 57990] accepted by application
DEBUG 2024-08-28 08:46:55,577 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57990]
DEBUG 2024-08-28 11:56:26,495 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 57990]
DEBUG 2024-08-28 11:56:29,632 http_protocol 82386 8540262208 Upgraded connection ['127.0.0.1', 58688] to WebSocket
DEBUG 2024-08-28 11:56:29,648 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 58688] open and established
DEBUG 2024-08-28 11:56:29,648 ws_protocol 82386 8540262208 WebSocket ['127.0.0.1', 58688] accepted by application
DEBUG 2024-08-28 11:56:29,651 ws_protocol 82386 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 58688]
INFO 2024-08-28 12:18:42,102 server 82386 8540262208 Killed 1 pending application instances
DEBUG 2024-08-28 12:18:42,104 ws_protocol 82386 8540262208 WebSocket closed for ['127.0.0.1', 58688]
INFO 2024-08-28 12:19:18,956 cli 85034 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 12:19:18,956 server 85034 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 12:19:18,956 server 85034 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 12:19:18,956 server 85034 8540262208 Listening on TCP address 127.0.0.1:8001
INFO 2024-08-28 12:19:21,755 autoreload 85045 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 12:19:27,510 autoreload 85142 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 12:19:31,981 basehttp 85142 6136459264 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 12:19:32,023 basehttp 85142 6136459264 "GET /static/css/app.css HTTP/1.1" 200 2786
INFO 2024-08-28 12:19:32,025 basehttp 85142 6153285632 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 12:19:32,038 basehttp 85142 6136459264 "GET /static/js/app.js HTTP/1.1" 200 37022
INFO 2024-08-28 12:19:32,058 basehttp 85142 6153285632 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 12:19:32,234 basehttp 85142 6153285632 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 12:19:32,243 basehttp 85142 6153285632 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 12:19:32,274 basehttp 85142 6153285632 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 12:19:32,309 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59188] to WebSocket
INFO 2024-08-28 12:19:32,320 basehttp 85142 6153285632 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-28 12:19:32,321 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59188] open and established
DEBUG 2024-08-28 12:19:32,321 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59188] accepted by application
DEBUG 2024-08-28 12:19:32,324 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59188]
INFO 2024-08-28 12:19:33,563 basehttp 85142 6153285632 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 12:19:39,837 basehttp 85142 6153285632 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 12:19:41,036 basehttp 85142 6153285632 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 12:19:41,047 basehttp 85142 6170112000 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 12:19:41,060 log 85142 6136459264 Not Found: /api/get_icon_color/
WARNING 2024-08-28 12:19:41,060 basehttp 85142 6136459264 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 12:19:41,075 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59188]
INFO 2024-08-28 12:19:41,085 basehttp 85142 6136459264 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 12:19:41,087 basehttp 85142 6170112000 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 12:19:41,087 basehttp 85142 6153285632 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 12:19:41,092 basehttp 85142 6186938368 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 12:19:41,211 basehttp 85142 6186938368 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 12:19:41,213 basehttp 85142 6153285632 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:19:41,239 basehttp 85142 6153285632 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 12:19:41,257 basehttp 85142 6153285632 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 12:19:41,262 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59194] to WebSocket
INFO 2024-08-28 12:19:41,268 basehttp 85142 6153285632 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-28 12:19:41,269 basehttp 85142 6186938368 "GET /static/chat.svg HTTP/1.1" 304 0
DEBUG 2024-08-28 12:19:41,273 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59194] open and established
DEBUG 2024-08-28 12:19:41,273 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59194] accepted by application
DEBUG 2024-08-28 12:19:41,275 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59194]
WARNING 2024-08-28 12:19:41,275 log 85142 6186938368 Not Found: /api/messages/
WARNING 2024-08-28 12:19:41,275 basehttp 85142 6186938368 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-28 12:19:41,278 log 85142 6186938368 Not Found: /api/messages/
WARNING 2024-08-28 12:19:41,278 basehttp 85142 6186938368 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 12:19:41,286 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59195] to WebSocket
INFO 2024-08-28 12:19:41,291 consumers 85034 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 12:19:41,291 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59195] open and established
DEBUG 2024-08-28 12:19:41,291 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59195] accepted by application
INFO 2024-08-28 12:19:41,291 consumers 85034 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 12:19:41,974 server 85034 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 12:19:41,992 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59195]
DEBUG 2024-08-28 12:19:44,669 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59196] to WebSocket
INFO 2024-08-28 12:19:44,674 consumers 85034 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:19:44,675 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59196] open and established
DEBUG 2024-08-28 12:19:44,675 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59196] accepted by application
INFO 2024-08-28 12:19:44,675 consumers 85034 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:19:44,681 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59196]
INFO 2024-08-28 12:19:44,687 basehttp 85142 6186938368 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 12:19:44,693 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59197] to WebSocket
INFO 2024-08-28 12:19:44,693 basehttp 85142 6170112000 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 12:19:44,694 basehttp 85142 6153285632 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:19:44,695 consumers 85034 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:19:44,695 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59197] open and established
DEBUG 2024-08-28 12:19:44,695 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59197] accepted by application
INFO 2024-08-28 12:19:44,695 consumers 85034 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:19:44,697 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59197]
INFO 2024-08-28 12:19:44,701 basehttp 85142 6153285632 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 12:19:44,708 basehttp 85142 6153285632 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 12:19:44,708 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59198] to WebSocket
INFO 2024-08-28 12:19:44,708 basehttp 85142 6170112000 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:19:44,710 basehttp 85142 6186938368 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 12:19:44,710 consumers 85034 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:19:44,710 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59198] open and established
DEBUG 2024-08-28 12:19:44,711 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59198] accepted by application
INFO 2024-08-28 12:19:44,711 consumers 85034 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-28 12:19:44,711 basehttp 85142 6170112000 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 12:19:44,712 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59198]
DEBUG 2024-08-28 12:19:44,722 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59199] to WebSocket
INFO 2024-08-28 12:19:44,724 consumers 85034 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:19:44,724 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59199] open and established
DEBUG 2024-08-28 12:19:44,724 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59199] accepted by application
INFO 2024-08-28 12:19:44,724 consumers 85034 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:19:44,726 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59199]
DEBUG 2024-08-28 12:19:44,738 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59200] to WebSocket
INFO 2024-08-28 12:19:44,739 consumers 85034 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:19:44,739 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59200] open and established
DEBUG 2024-08-28 12:19:44,739 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59200] accepted by application
INFO 2024-08-28 12:19:44,740 consumers 85034 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:19:44,741 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59200]
DEBUG 2024-08-28 12:19:44,754 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59201] to WebSocket
INFO 2024-08-28 12:19:44,758 consumers 85034 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:19:44,758 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59201] open and established
DEBUG 2024-08-28 12:19:44,759 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59201] accepted by application
INFO 2024-08-28 12:19:44,759 consumers 85034 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:19:44,760 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59201]
DEBUG 2024-08-28 12:19:44,774 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59202] to WebSocket
INFO 2024-08-28 12:19:44,779 consumers 85034 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:19:44,779 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59202] open and established
DEBUG 2024-08-28 12:19:44,779 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59202] accepted by application
INFO 2024-08-28 12:19:44,779 consumers 85034 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:19:44,782 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59202]
DEBUG 2024-08-28 12:19:49,870 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59202]
INFO 2024-08-28 12:19:49,872 consumers 85034 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-28 12:19:49,887 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59203] to WebSocket
INFO 2024-08-28 12:19:49,892 consumers 85034 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:19:49,893 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59203] open and established
DEBUG 2024-08-28 12:19:49,893 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59203] accepted by application
INFO 2024-08-28 12:19:49,893 consumers 85034 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 12:19:49,900 basehttp 85142 6170112000 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 12:19:49,901 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59203]
DEBUG 2024-08-28 12:19:49,919 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59204] to WebSocket
INFO 2024-08-28 12:19:49,921 basehttp 85142 6170112000 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:19:49,922 consumers 85034 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:19:49,922 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59204] open and established
DEBUG 2024-08-28 12:19:49,922 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59204] accepted by application
INFO 2024-08-28 12:19:49,922 consumers 85034 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:19:49,924 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59204]
DEBUG 2024-08-28 12:19:49,936 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59205] to WebSocket
INFO 2024-08-28 12:19:49,938 consumers 85034 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:19:49,938 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59205] open and established
DEBUG 2024-08-28 12:19:49,938 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59205] accepted by application
INFO 2024-08-28 12:19:49,938 consumers 85034 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:19:49,939 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59205]
DEBUG 2024-08-28 12:19:49,952 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59206] to WebSocket
INFO 2024-08-28 12:19:49,953 consumers 85034 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:19:49,953 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59206] open and established
DEBUG 2024-08-28 12:19:49,954 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59206] accepted by application
INFO 2024-08-28 12:19:49,954 consumers 85034 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:19:49,955 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59206]
INFO 2024-08-28 12:20:54,764 basehttp 85142 6170112000 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 12:20:54,766 basehttp 85142 6186938368 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 12:20:55,084 basehttp 85142 6186938368 "GET /static/js/app.js.map HTTP/1.1" 200 109046
INFO 2024-08-28 12:20:55,134 basehttp 85142 6186938368 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 12:23:09,503 autoreload 85408 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 12:23:15,637 basehttp 85408 6171865088 "GET /room/2 HTTP/1.1" 200 1008
DEBUG 2024-08-28 12:23:15,645 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59201]
DEBUG 2024-08-28 12:23:15,654 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59194]
DEBUG 2024-08-28 12:23:15,655 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59197]
DEBUG 2024-08-28 12:23:15,655 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59206]
DEBUG 2024-08-28 12:23:15,657 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59204]
DEBUG 2024-08-28 12:23:15,657 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59203]
DEBUG 2024-08-28 12:23:15,657 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59196]
DEBUG 2024-08-28 12:23:15,657 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59205]
DEBUG 2024-08-28 12:23:15,657 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59199]
DEBUG 2024-08-28 12:23:15,657 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59200]
DEBUG 2024-08-28 12:23:15,658 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59198]
INFO 2024-08-28 12:23:15,658 consumers 85034 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 12:23:15,659 consumers 85034 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 12:23:15,676 basehttp 85408 6171865088 "GET /static/css/app.css HTTP/1.1" 200 2848
INFO 2024-08-28 12:23:15,678 basehttp 85408 6188691456 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 12:23:15,705 basehttp 85408 6171865088 "GET /static/js/app.js HTTP/1.1" 200 37001
INFO 2024-08-28 12:23:15,732 basehttp 85408 6188691456 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 12:23:15,984 basehttp 85408 6188691456 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 12:23:16,008 basehttp 85408 6171865088 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:23:16,011 basehttp 85408 6205517824 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
INFO 2024-08-28 12:23:16,012 basehttp 85408 6188691456 "GET /static/js/app.js.map HTTP/1.1" 200 109245
INFO 2024-08-28 12:23:16,032 basehttp 85408 6188691456 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 12:23:16,047 basehttp 85408 6222344192 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 12:23:16,075 basehttp 85408 6188691456 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 12:23:16,076 basehttp 85408 6205517824 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:23:16,076 basehttp 85408 6222344192 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 12:23:16,088 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59844] to WebSocket
DEBUG 2024-08-28 12:23:16,093 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59844] open and established
DEBUG 2024-08-28 12:23:16,093 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59844] accepted by application
DEBUG 2024-08-28 12:23:16,094 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59844]
DEBUG 2024-08-28 12:23:16,145 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59845] to WebSocket
INFO 2024-08-28 12:23:16,154 basehttp 85408 6205517824 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:23:16,155 basehttp 85408 6188691456 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-28 12:23:16,155 basehttp 85408 6222344192 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 12:23:16,156 consumers 85034 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:23:16,156 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59845] open and established
DEBUG 2024-08-28 12:23:16,156 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59845] accepted by application
INFO 2024-08-28 12:23:16,156 consumers 85034 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:23:16,158 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59845]
DEBUG 2024-08-28 12:23:16,171 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59846] to WebSocket
INFO 2024-08-28 12:23:16,174 consumers 85034 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:23:16,174 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59846] open and established
DEBUG 2024-08-28 12:23:16,174 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59846] accepted by application
INFO 2024-08-28 12:23:16,174 consumers 85034 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:23:16,175 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59846]
DEBUG 2024-08-28 12:23:16,189 http_protocol 85034 8540262208 Upgraded connection ['127.0.0.1', 59847] to WebSocket
INFO 2024-08-28 12:23:16,191 consumers 85034 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:23:16,191 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59847] open and established
DEBUG 2024-08-28 12:23:16,191 ws_protocol 85034 8540262208 WebSocket ['127.0.0.1', 59847] accepted by application
INFO 2024-08-28 12:23:16,191 consumers 85034 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:23:16,194 ws_protocol 85034 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 59847]
INFO 2024-08-28 12:33:28,424 server 85034 8540262208 Killed 4 pending application instances
DEBUG 2024-08-28 12:33:28,428 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59844]
DEBUG 2024-08-28 12:33:28,428 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59847]
DEBUG 2024-08-28 12:33:28,429 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59846]
DEBUG 2024-08-28 12:33:28,429 ws_protocol 85034 8540262208 WebSocket closed for ['127.0.0.1', 59845]
INFO 2024-08-28 12:34:19,016 cli 85920 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 12:34:19,016 server 85920 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 12:34:19,016 server 85920 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 12:34:19,016 server 85920 8540262208 Listening on TCP address 127.0.0.1:8001
DEBUG 2024-08-28 12:34:19,042 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60130] to WebSocket
DEBUG 2024-08-28 12:34:19,047 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60130] open and established
DEBUG 2024-08-28 12:34:19,048 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60130] accepted by application
DEBUG 2024-08-28 12:34:19,048 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60130]
INFO 2024-08-28 12:34:22,008 autoreload 85931 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 12:34:24,978 basehttp 85931 6171373568 "GET /room/2 HTTP/1.1" 200 1008
DEBUG 2024-08-28 12:34:24,981 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60130]
INFO 2024-08-28 12:34:25,017 basehttp 85931 6188199936 "GET /static/css/app.css HTTP/1.1" 200 2848
INFO 2024-08-28 12:34:25,020 basehttp 85931 6205026304 "GET /static/js/app.js HTTP/1.1" 200 37896
INFO 2024-08-28 12:34:25,020 basehttp 85931 6171373568 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 12:34:25,030 basehttp 85931 6221852672 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 12:34:25,213 basehttp 85931 6221852672 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 12:34:25,232 basehttp 85931 6171373568 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
INFO 2024-08-28 12:34:25,233 basehttp 85931 6221852672 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:34:25,245 basehttp 85931 6221852672 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 12:34:25,326 basehttp 85931 6171373568 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:34:25,327 basehttp 85931 6221852672 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 12:34:25,328 basehttp 85931 6205026304 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 12:34:25,335 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60140] to WebSocket
DEBUG 2024-08-28 12:34:25,337 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60140] open and established
DEBUG 2024-08-28 12:34:25,337 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60140] accepted by application
DEBUG 2024-08-28 12:34:25,338 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60140]
INFO 2024-08-28 12:34:25,340 basehttp 85931 6205026304 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 12:34:25,349 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60141] to WebSocket
INFO 2024-08-28 12:34:25,350 basehttp 85931 6205026304 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-28 12:34:25,352 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:34:25,352 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60141] open and established
DEBUG 2024-08-28 12:34:25,352 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60141] accepted by application
INFO 2024-08-28 12:34:25,352 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:34:25,353 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60141]
DEBUG 2024-08-28 12:34:25,366 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60142] to WebSocket
INFO 2024-08-28 12:34:25,368 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:34:25,368 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60142] open and established
DEBUG 2024-08-28 12:34:25,368 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60142] accepted by application
INFO 2024-08-28 12:34:25,368 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:34:25,369 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60142]
DEBUG 2024-08-28 12:34:25,380 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60143] to WebSocket
INFO 2024-08-28 12:34:25,382 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:34:25,382 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60143] open and established
DEBUG 2024-08-28 12:34:25,382 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60143] accepted by application
INFO 2024-08-28 12:34:25,382 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:34:25,383 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60143]
INFO 2024-08-28 12:55:48,857 autoreload 86632 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-28 12:56:24,032 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60143]
INFO 2024-08-28 12:56:24,037 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-28 12:56:24,070 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60239] to WebSocket
INFO 2024-08-28 12:56:24,083 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:56:24,083 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60239] open and established
DEBUG 2024-08-28 12:56:24,083 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60239] accepted by application
INFO 2024-08-28 12:56:24,083 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:56:24,089 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60239]
INFO 2024-08-28 12:56:24,094 basehttp 86632 6187020288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 12:56:24,094 basehttp 86632 6203846656 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:56:24,096 basehttp 86632 6170193920 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-28 12:56:24,104 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60141]
DEBUG 2024-08-28 12:56:24,105 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60239]
DEBUG 2024-08-28 12:56:24,105 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60140]
DEBUG 2024-08-28 12:56:24,105 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60142]
INFO 2024-08-28 12:56:24,105 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 12:56:24,105 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 12:56:24,105 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 12:56:24,135 basehttp 86632 6170193920 "GET /static/css/app.css HTTP/1.1" 200 2848
INFO 2024-08-28 12:56:24,136 basehttp 86632 6203846656 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 12:56:24,141 basehttp 86632 6203846656 "GET /static/js/app.js HTTP/1.1" 200 37532
INFO 2024-08-28 12:56:24,160 basehttp 86632 6187020288 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 12:56:24,336 basehttp 86632 6187020288 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 12:56:24,340 basehttp 86632 6203846656 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:56:24,364 basehttp 86632 6203846656 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 12:56:24,385 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60246] to WebSocket
INFO 2024-08-28 12:56:24,385 basehttp 86632 6203846656 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 12:56:24,387 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60246] open and established
DEBUG 2024-08-28 12:56:24,387 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60246] accepted by application
DEBUG 2024-08-28 12:56:24,388 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60246]
INFO 2024-08-28 12:56:24,418 basehttp 86632 6203846656 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 12:56:24,428 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60247] to WebSocket
WARNING 2024-08-28 12:56:24,429 log 86632 6203846656 Not Found: /api/messages/
WARNING 2024-08-28 12:56:24,429 basehttp 86632 6203846656 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 12:56:24,430 consumers 85920 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 12:56:24,430 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60247] open and established
DEBUG 2024-08-28 12:56:24,430 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60247] accepted by application
INFO 2024-08-28 12:56:24,430 consumers 85920 8540262208 WebSocket connected: room=0, user=keita
INFO 2024-08-28 12:56:24,433 basehttp 86632 6203846656 "GET /static/chat.svg HTTP/1.1" 200 405
WARNING 2024-08-28 12:56:24,434 log 86632 6187020288 Not Found: /api/messages/
WARNING 2024-08-28 12:56:24,435 basehttp 86632 6187020288 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 12:56:24,622 server 85920 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 12:56:24,643 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60247]
DEBUG 2024-08-28 12:56:27,855 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60248] to WebSocket
INFO 2024-08-28 12:56:27,865 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:56:27,865 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60248] open and established
DEBUG 2024-08-28 12:56:27,865 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60248] accepted by application
INFO 2024-08-28 12:56:27,865 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:56:27,868 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60248]
INFO 2024-08-28 12:56:27,879 basehttp 86632 6170193920 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 12:56:27,880 basehttp 86632 6203846656 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:56:27,881 basehttp 86632 6187020288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 12:56:27,882 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60249] to WebSocket
INFO 2024-08-28 12:56:27,885 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:56:27,886 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60249] open and established
DEBUG 2024-08-28 12:56:27,886 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60249] accepted by application
INFO 2024-08-28 12:56:27,886 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:56:27,887 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60249]
INFO 2024-08-28 12:56:27,890 basehttp 86632 6187020288 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 12:56:27,895 basehttp 86632 6187020288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 12:56:27,896 basehttp 86632 6203846656 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 12:56:27,897 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60250] to WebSocket
INFO 2024-08-28 12:56:27,899 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-08-28 12:56:27,899 basehttp 86632 6187020288 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 12:56:27,899 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60250] open and established
INFO 2024-08-28 12:56:27,899 basehttp 86632 6203846656 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 12:56:27,900 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60250] accepted by application
INFO 2024-08-28 12:56:27,900 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:56:27,901 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60250]
DEBUG 2024-08-28 12:56:27,912 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60251] to WebSocket
INFO 2024-08-28 12:56:27,914 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:56:27,914 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60251] open and established
DEBUG 2024-08-28 12:56:27,914 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60251] accepted by application
INFO 2024-08-28 12:56:27,914 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:56:27,915 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60251]
DEBUG 2024-08-28 12:56:27,928 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60252] to WebSocket
INFO 2024-08-28 12:56:27,930 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:56:27,930 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60252] open and established
DEBUG 2024-08-28 12:56:27,930 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60252] accepted by application
INFO 2024-08-28 12:56:27,930 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:56:27,931 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60252]
DEBUG 2024-08-28 12:56:27,944 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60253] to WebSocket
INFO 2024-08-28 12:56:27,946 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:56:27,946 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60253] open and established
DEBUG 2024-08-28 12:56:27,946 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60253] accepted by application
INFO 2024-08-28 12:56:27,946 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:56:27,947 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60253]
DEBUG 2024-08-28 12:56:27,961 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60254] to WebSocket
INFO 2024-08-28 12:56:27,965 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 12:56:27,966 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60254] open and established
DEBUG 2024-08-28 12:56:27,966 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60254] accepted by application
INFO 2024-08-28 12:56:27,966 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 12:56:27,969 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60254]
DEBUG 2024-08-28 12:56:29,392 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60254]
INFO 2024-08-28 12:56:29,393 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-28 12:56:29,411 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60255] to WebSocket
INFO 2024-08-28 12:56:29,422 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:56:29,422 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60255] open and established
DEBUG 2024-08-28 12:56:29,422 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60255] accepted by application
INFO 2024-08-28 12:56:29,422 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:56:29,427 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60255]
INFO 2024-08-28 12:56:29,427 basehttp 86632 6187020288 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 12:56:29,438 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60256] to WebSocket
INFO 2024-08-28 12:56:29,439 basehttp 86632 6187020288 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 12:56:29,442 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:56:29,443 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60256] open and established
DEBUG 2024-08-28 12:56:29,443 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60256] accepted by application
INFO 2024-08-28 12:56:29,443 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:56:29,445 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60256]
DEBUG 2024-08-28 12:56:29,458 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60257] to WebSocket
INFO 2024-08-28 12:56:29,461 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:56:29,461 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60257] open and established
DEBUG 2024-08-28 12:56:29,461 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60257] accepted by application
INFO 2024-08-28 12:56:29,461 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:56:29,462 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60257]
DEBUG 2024-08-28 12:56:29,475 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 60258] to WebSocket
INFO 2024-08-28 12:56:29,480 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 12:56:29,480 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60258] open and established
DEBUG 2024-08-28 12:56:29,480 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 60258] accepted by application
INFO 2024-08-28 12:56:29,480 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 12:56:29,482 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60258]
INFO 2024-08-28 12:57:36,803 basehttp 86632 6203846656 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 12:57:36,803 basehttp 86632 6187020288 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 12:57:37,110 basehttp 86632 6203846656 "GET /static/js/app.js.map HTTP/1.1" 200 109997
INFO 2024-08-28 12:57:37,155 basehttp 86632 6187020288 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:01:22,732 basehttp 86632 6187020288 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-28 13:01:22,735 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60258]
INFO 2024-08-28 13:01:22,737 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-28 13:01:22,769 basehttp 86632 6187020288 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 13:01:29,616 basehttp 86632 6187020288 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-28 13:01:30,911 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61235] to WebSocket
INFO 2024-08-28 13:01:30,930 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:01:30,931 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61235] open and established
DEBUG 2024-08-28 13:01:30,931 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61235] accepted by application
INFO 2024-08-28 13:01:30,931 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 13:01:30,935 basehttp 86632 6187020288 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-28 13:01:30,941 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61235]
INFO 2024-08-28 13:01:30,946 basehttp 86632 6170193920 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 13:01:30,954 log 86632 6203846656 Not Found: /api/get_icon_color/
WARNING 2024-08-28 13:01:30,954 basehttp 86632 6203846656 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 13:01:30,962 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60255]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60248]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60252]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60250]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60246]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60251]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60256]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60253]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60249]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 60257]
DEBUG 2024-08-28 13:01:30,963 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61235]
INFO 2024-08-28 13:01:30,963 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:01:30,964 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:01:30,980 basehttp 86632 6170193920 "GET /static/css/app.css HTTP/1.1" 200 2855
INFO 2024-08-28 13:01:30,981 basehttp 86632 6203846656 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 13:01:31,011 basehttp 86632 6203846656 "GET /static/js/app.js HTTP/1.1" 200 37532
INFO 2024-08-28 13:01:31,032 basehttp 86632 6170193920 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 13:01:31,284 basehttp 86632 6170193920 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:01:31,285 basehttp 86632 6203846656 "GET /static/js/app.js.map HTTP/1.1" 200 109991
INFO 2024-08-28 13:01:31,289 basehttp 86632 6220673024 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:01:31,312 basehttp 86632 6187020288 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:01:31,325 basehttp 86632 6187020288 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:01:31,361 basehttp 86632 6187020288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:01:31,367 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61242] to WebSocket
DEBUG 2024-08-28 13:01:31,371 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61242] open and established
DEBUG 2024-08-28 13:01:31,371 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61242] accepted by application
INFO 2024-08-28 13:01:31,372 basehttp 86632 6187020288 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 13:01:31,383 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61242]
DEBUG 2024-08-28 13:01:31,436 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61243] to WebSocket
WARNING 2024-08-28 13:01:31,445 log 86632 6187020288 Not Found: /api/messages/
WARNING 2024-08-28 13:01:31,446 basehttp 86632 6187020288 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 13:01:31,446 consumers 85920 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:01:31,447 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61243] open and established
DEBUG 2024-08-28 13:01:31,447 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61243] accepted by application
INFO 2024-08-28 13:01:31,447 consumers 85920 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 13:01:31,472 log 86632 6187020288 Not Found: /api/messages/
WARNING 2024-08-28 13:01:31,473 basehttp 86632 6187020288 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 13:01:31,484 basehttp 86632 6187020288 "GET /static/chat.svg HTTP/1.1" 200 405
ERROR 2024-08-28 13:01:32,003 server 85920 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:01:32,013 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61243]
DEBUG 2024-08-28 13:01:32,849 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61252] to WebSocket
INFO 2024-08-28 13:01:32,855 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:32,855 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61252] open and established
DEBUG 2024-08-28 13:01:32,855 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61252] accepted by application
INFO 2024-08-28 13:01:32,855 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:01:32,857 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61252]
INFO 2024-08-28 13:01:32,871 basehttp 86632 6187020288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:01:32,872 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61253] to WebSocket
INFO 2024-08-28 13:01:32,872 basehttp 86632 6220673024 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:01:32,878 basehttp 86632 6203846656 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 13:01:32,883 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:32,883 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61253] open and established
DEBUG 2024-08-28 13:01:32,883 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61253] accepted by application
INFO 2024-08-28 13:01:32,883 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:01:32,886 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61253]
INFO 2024-08-28 13:01:32,889 basehttp 86632 6203846656 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 13:01:32,896 basehttp 86632 6203846656 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:01:32,897 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61254] to WebSocket
INFO 2024-08-28 13:01:32,899 basehttp 86632 6220673024 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:01:32,900 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:32,900 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61254] open and established
DEBUG 2024-08-28 13:01:32,900 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61254] accepted by application
INFO 2024-08-28 13:01:32,900 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-28 13:01:32,900 basehttp 86632 6187020288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:01:32,900 basehttp 86632 6203846656 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:01:32,902 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61254]
DEBUG 2024-08-28 13:01:32,912 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61255] to WebSocket
INFO 2024-08-28 13:01:32,914 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:32,914 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61255] open and established
DEBUG 2024-08-28 13:01:32,914 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61255] accepted by application
INFO 2024-08-28 13:01:32,914 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:01:32,915 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61255]
DEBUG 2024-08-28 13:01:32,928 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61256] to WebSocket
INFO 2024-08-28 13:01:32,929 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:32,930 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61256] open and established
DEBUG 2024-08-28 13:01:32,930 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61256] accepted by application
INFO 2024-08-28 13:01:32,930 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:01:32,931 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61256]
DEBUG 2024-08-28 13:01:32,944 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61257] to WebSocket
INFO 2024-08-28 13:01:32,948 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:32,949 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61257] open and established
DEBUG 2024-08-28 13:01:32,949 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61257] accepted by application
INFO 2024-08-28 13:01:32,949 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:01:32,951 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61257]
DEBUG 2024-08-28 13:01:32,963 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61258] to WebSocket
INFO 2024-08-28 13:01:32,966 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:32,967 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61258] open and established
DEBUG 2024-08-28 13:01:32,967 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61258] accepted by application
INFO 2024-08-28 13:01:32,967 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:01:32,968 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61258]
INFO 2024-08-28 13:01:47,140 autoreload 87100 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-28 13:01:49,881 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61258]
INFO 2024-08-28 13:01:49,882 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-28 13:01:49,888 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61331] to WebSocket
INFO 2024-08-28 13:01:49,896 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:49,897 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61331] open and established
DEBUG 2024-08-28 13:01:49,897 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61331] accepted by application
INFO 2024-08-28 13:01:49,897 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:01:49,900 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61331]
DEBUG 2024-08-28 13:01:49,911 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61332] to WebSocket
INFO 2024-08-28 13:01:49,914 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:01:49,914 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61332] open and established
DEBUG 2024-08-28 13:01:49,914 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61332] accepted by application
INFO 2024-08-28 13:01:49,914 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:01:49,916 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61332]
INFO 2024-08-28 13:01:51,734 basehttp 87100 6125613056 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 13:01:51,767 basehttp 87100 6125613056 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 13:01:58,746 basehttp 87100 6125613056 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-28 13:02:00,041 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61374] to WebSocket
INFO 2024-08-28 13:02:00,047 basehttp 87100 6125613056 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 13:02:00,050 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:02:00,051 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61374] open and established
DEBUG 2024-08-28 13:02:00,051 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61374] accepted by application
INFO 2024-08-28 13:02:00,051 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:02:00,096 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61256]
INFO 2024-08-28 13:02:00,096 basehttp 87100 6176092160 "GET /static/css/app.css HTTP/1.1" 200 2855
DEBUG 2024-08-28 13:02:00,096 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61331]
INFO 2024-08-28 13:02:00,098 basehttp 87100 6125613056 - Broken pipe from ('127.0.0.1', 61341)
INFO 2024-08-28 13:02:00,099 basehttp 87100 6159265792 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
DEBUG 2024-08-28 13:02:00,099 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61253]
DEBUG 2024-08-28 13:02:00,099 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61255]
DEBUG 2024-08-28 13:02:00,113 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61332]
DEBUG 2024-08-28 13:02:00,113 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61254]
DEBUG 2024-08-28 13:02:00,113 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61242]
DEBUG 2024-08-28 13:02:00,113 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61252]
DEBUG 2024-08-28 13:02:00,113 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61257]
DEBUG 2024-08-28 13:02:00,115 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61374]
INFO 2024-08-28 13:02:00,116 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,116 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,116 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,116 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,116 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,116 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,116 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,116 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,117 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:02:00,119 basehttp 87100 6159265792 "GET /static/js/app.js HTTP/1.1" 200 37532
WARNING 2024-08-28 13:02:00,121 log 87100 6142439424 Not Found: /api/get_icon_color/
INFO 2024-08-28 13:02:00,122 basehttp 87100 6142439424 - Broken pipe from ('127.0.0.1', 61375)
INFO 2024-08-28 13:02:00,171 basehttp 87100 6176092160 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 13:02:00,376 basehttp 87100 6176092160 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:02:00,382 basehttp 87100 6159265792 "GET /static/js/app.js.map HTTP/1.1" 200 109991
INFO 2024-08-28 13:02:00,392 basehttp 87100 6142439424 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:02:00,404 basehttp 87100 6142439424 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:02:00,415 basehttp 87100 6125613056 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:02:00,478 basehttp 87100 6125613056 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:02:00,482 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61380] to WebSocket
DEBUG 2024-08-28 13:02:00,484 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61380] open and established
DEBUG 2024-08-28 13:02:00,484 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61380] accepted by application
DEBUG 2024-08-28 13:02:00,486 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61380]
INFO 2024-08-28 13:02:00,523 basehttp 87100 6125613056 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 13:02:00,562 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61381] to WebSocket
INFO 2024-08-28 13:02:00,577 consumers 85920 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:02:00,578 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61381] open and established
DEBUG 2024-08-28 13:02:00,578 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61381] accepted by application
INFO 2024-08-28 13:02:00,578 consumers 85920 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 13:02:00,578 log 87100 6125613056 Not Found: /api/messages/
WARNING 2024-08-28 13:02:00,580 basehttp 87100 6125613056 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 13:02:00,582 basehttp 87100 6142439424 "GET /static/chat.svg HTTP/1.1" 200 405
WARNING 2024-08-28 13:02:00,586 log 87100 6142439424 Not Found: /api/messages/
WARNING 2024-08-28 13:02:00,586 basehttp 87100 6142439424 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 13:02:01,117 server 85920 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:02:01,120 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61381]
DEBUG 2024-08-28 13:02:01,568 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61386] to WebSocket
INFO 2024-08-28 13:02:01,572 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:02:01,573 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61386] open and established
DEBUG 2024-08-28 13:02:01,573 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61386] accepted by application
INFO 2024-08-28 13:02:01,573 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:02:01,575 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61386]
INFO 2024-08-28 13:02:01,589 basehttp 87100 6142439424 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:02:01,593 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61387] to WebSocket
INFO 2024-08-28 13:02:01,593 basehttp 87100 6159265792 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:02:01,601 basehttp 87100 6125613056 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 13:02:01,601 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:02:01,602 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61387] open and established
DEBUG 2024-08-28 13:02:01,602 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61387] accepted by application
INFO 2024-08-28 13:02:01,602 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:02:01,605 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61387]
INFO 2024-08-28 13:02:01,613 basehttp 87100 6125613056 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
DEBUG 2024-08-28 13:02:01,614 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61388] to WebSocket
INFO 2024-08-28 13:02:01,616 basehttp 87100 6159265792 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:02:01,617 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:02:01,617 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61388] open and established
DEBUG 2024-08-28 13:02:01,617 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61388] accepted by application
INFO 2024-08-28 13:02:01,617 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-28 13:02:01,616 basehttp 87100 6125613056 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:02:01,619 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61388]
INFO 2024-08-28 13:02:01,620 basehttp 87100 6125613056 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:02:01,621 basehttp 87100 6159265792 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:02:01,629 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61389] to WebSocket
INFO 2024-08-28 13:02:01,631 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:02:01,631 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61389] open and established
DEBUG 2024-08-28 13:02:01,631 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61389] accepted by application
INFO 2024-08-28 13:02:01,631 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:02:01,632 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61389]
DEBUG 2024-08-28 13:02:01,645 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61390] to WebSocket
INFO 2024-08-28 13:02:01,647 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:02:01,647 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61390] open and established
DEBUG 2024-08-28 13:02:01,647 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61390] accepted by application
INFO 2024-08-28 13:02:01,647 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:02:01,649 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61390]
DEBUG 2024-08-28 13:02:01,661 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61391] to WebSocket
INFO 2024-08-28 13:02:01,663 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:02:01,663 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61391] open and established
DEBUG 2024-08-28 13:02:01,663 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61391] accepted by application
INFO 2024-08-28 13:02:01,663 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:02:01,664 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61391]
DEBUG 2024-08-28 13:02:01,674 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 61392] to WebSocket
INFO 2024-08-28 13:02:01,676 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:02:01,676 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61392] open and established
DEBUG 2024-08-28 13:02:01,676 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 61392] accepted by application
INFO 2024-08-28 13:02:01,676 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:02:01,678 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61392]
INFO 2024-08-28 13:02:21,740 basehttp 87100 6159265792 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:02:21,741 basehttp 87100 6125613056 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:02:21,766 basehttp 87100 6125613056 "GET /static/js/app.js.map HTTP/1.1" 200 109991
INFO 2024-08-28 13:02:21,796 basehttp 87100 6159265792 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:08:56,208 autoreload 87461 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 13:09:00,431 basehttp 87461 6169079808 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-28 13:09:00,434 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61392]
INFO 2024-08-28 13:09:00,435 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-28 13:09:00,468 basehttp 87461 6169079808 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 13:09:08,465 basehttp 87461 6169079808 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-28 13:09:09,768 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63137] to WebSocket
INFO 2024-08-28 13:09:09,789 consumers 85920 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:09:09,790 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63137] open and established
DEBUG 2024-08-28 13:09:09,790 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63137] accepted by application
INFO 2024-08-28 13:09:09,790 consumers 85920 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:09:09,792 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63137]
INFO 2024-08-28 13:09:09,794 basehttp 87461 6169079808 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 13:09:09,795 basehttp 87461 6202732544 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 13:09:09,800 log 87461 6185906176 Not Found: /api/get_icon_color/
WARNING 2024-08-28 13:09:09,801 basehttp 87461 6185906176 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 13:09:09,812 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61380]
DEBUG 2024-08-28 13:09:09,812 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61388]
DEBUG 2024-08-28 13:09:09,812 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61386]
DEBUG 2024-08-28 13:09:09,813 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61390]
DEBUG 2024-08-28 13:09:09,813 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61389]
DEBUG 2024-08-28 13:09:09,813 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61391]
DEBUG 2024-08-28 13:09:09,813 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 61387]
DEBUG 2024-08-28 13:09:09,813 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63137]
INFO 2024-08-28 13:09:09,813 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:09:09,813 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:09:09,813 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:09:09,813 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:09:09,813 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:09:09,813 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:09:09,813 consumers 85920 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:09:09,831 basehttp 87461 6202732544 "GET /static/css/app.css HTTP/1.1" 200 2892
INFO 2024-08-28 13:09:09,838 basehttp 87461 6185906176 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 13:09:09,861 basehttp 87461 6202732544 "GET /static/js/app.js HTTP/1.1" 200 37532
INFO 2024-08-28 13:09:09,870 basehttp 87461 6185906176 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 13:09:10,107 basehttp 87461 6185906176 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:09:10,112 basehttp 87461 6219558912 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:09:10,113 basehttp 87461 6202732544 "GET /static/js/app.js.map HTTP/1.1" 200 110043
INFO 2024-08-28 13:09:10,141 basehttp 87461 6169079808 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:09:10,144 basehttp 87461 6202732544 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:09:10,183 basehttp 87461 6202732544 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:09:10,186 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63149] to WebSocket
INFO 2024-08-28 13:09:10,190 basehttp 87461 6202732544 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 13:09:10,191 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63149] open and established
DEBUG 2024-08-28 13:09:10,191 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63149] accepted by application
DEBUG 2024-08-28 13:09:10,191 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63149]
DEBUG 2024-08-28 13:09:10,250 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63150] to WebSocket
WARNING 2024-08-28 13:09:10,255 log 87461 6202732544 Not Found: /api/messages/
WARNING 2024-08-28 13:09:10,256 basehttp 87461 6202732544 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 13:09:10,258 consumers 85920 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:09:10,259 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63150] open and established
DEBUG 2024-08-28 13:09:10,259 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63150] accepted by application
INFO 2024-08-28 13:09:10,259 consumers 85920 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 13:09:10,281 log 87461 6202732544 Not Found: /api/messages/
WARNING 2024-08-28 13:09:10,282 basehttp 87461 6202732544 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 13:09:10,282 basehttp 87461 6169079808 "GET /static/chat.svg HTTP/1.1" 200 405
ERROR 2024-08-28 13:09:10,630 server 85920 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:09:10,640 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63150]
DEBUG 2024-08-28 13:09:11,692 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63157] to WebSocket
INFO 2024-08-28 13:09:11,701 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:11,701 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63157] open and established
DEBUG 2024-08-28 13:09:11,701 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63157] accepted by application
INFO 2024-08-28 13:09:11,702 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:11,705 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63157]
DEBUG 2024-08-28 13:09:11,715 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63158] to WebSocket
INFO 2024-08-28 13:09:11,715 basehttp 87461 6169079808 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:09:11,718 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:11,718 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63158] open and established
DEBUG 2024-08-28 13:09:11,718 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63158] accepted by application
INFO 2024-08-28 13:09:11,718 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:11,720 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63158]
INFO 2024-08-28 13:09:11,720 basehttp 87461 6219558912 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
INFO 2024-08-28 13:09:11,721 basehttp 87461 6202732544 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:09:11,731 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63159] to WebSocket
INFO 2024-08-28 13:09:11,732 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:11,733 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63159] open and established
DEBUG 2024-08-28 13:09:11,733 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63159] accepted by application
INFO 2024-08-28 13:09:11,733 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 13:09:11,733 basehttp 87461 6202732544 "GET /api/messages/?room_id=2 HTTP/1.1" 200 528
DEBUG 2024-08-28 13:09:11,734 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63159]
INFO 2024-08-28 13:09:11,739 basehttp 87461 6202732544 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:09:11,740 basehttp 87461 6219558912 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:09:11,741 basehttp 87461 6169079808 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:09:11,741 basehttp 87461 6185906176 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:09:11,744 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63160] to WebSocket
INFO 2024-08-28 13:09:11,747 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:11,747 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63160] open and established
DEBUG 2024-08-28 13:09:11,747 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63160] accepted by application
INFO 2024-08-28 13:09:11,747 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:11,748 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63160]
DEBUG 2024-08-28 13:09:11,761 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63161] to WebSocket
INFO 2024-08-28 13:09:11,763 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:11,763 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63161] open and established
DEBUG 2024-08-28 13:09:11,763 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63161] accepted by application
INFO 2024-08-28 13:09:11,763 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:11,764 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63161]
DEBUG 2024-08-28 13:09:11,775 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63162] to WebSocket
INFO 2024-08-28 13:09:11,779 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:11,779 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63162] open and established
DEBUG 2024-08-28 13:09:11,779 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63162] accepted by application
INFO 2024-08-28 13:09:11,779 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:11,780 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63162]
DEBUG 2024-08-28 13:09:11,796 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63163] to WebSocket
INFO 2024-08-28 13:09:11,799 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:11,799 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63163] open and established
DEBUG 2024-08-28 13:09:11,799 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63163] accepted by application
INFO 2024-08-28 13:09:11,799 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:11,800 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63163]
DEBUG 2024-08-28 13:09:17,779 ws_protocol 85920 8540262208 WebSocket incoming frame on ['127.0.0.1', 63163]
DEBUG 2024-08-28 13:09:17,791 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63157]
DEBUG 2024-08-28 13:09:17,792 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63158]
DEBUG 2024-08-28 13:09:17,792 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63159]
DEBUG 2024-08-28 13:09:17,792 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63160]
DEBUG 2024-08-28 13:09:17,793 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63161]
DEBUG 2024-08-28 13:09:17,793 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63162]
DEBUG 2024-08-28 13:09:17,793 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63163]
DEBUG 2024-08-28 13:09:20,523 ws_protocol 85920 8540262208 WebSocket incoming frame on ['127.0.0.1', 63163]
DEBUG 2024-08-28 13:09:20,532 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63157]
DEBUG 2024-08-28 13:09:20,532 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63158]
DEBUG 2024-08-28 13:09:20,533 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63159]
DEBUG 2024-08-28 13:09:20,533 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63160]
DEBUG 2024-08-28 13:09:20,533 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63161]
DEBUG 2024-08-28 13:09:20,533 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63162]
DEBUG 2024-08-28 13:09:20,533 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63163]
INFO 2024-08-28 13:09:30,083 autoreload 87575 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 13:09:32,833 basehttp 87575 6136967168 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-28 13:09:32,835 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63163]
INFO 2024-08-28 13:09:32,837 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-28 13:09:32,862 basehttp 87575 6136967168 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 13:09:40,864 basehttp 87575 6136967168 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-28 13:09:41,816 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63288] to WebSocket
INFO 2024-08-28 13:09:41,822 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:41,822 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63288] open and established
DEBUG 2024-08-28 13:09:41,823 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63288] accepted by application
INFO 2024-08-28 13:09:41,823 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:41,825 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63288]
INFO 2024-08-28 13:09:41,840 basehttp 87575 6170619904 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:09:41,843 basehttp 87575 6136967168 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 13:09:41,848 basehttp 87575 6170619904 - Broken pipe from ('127.0.0.1', 63290)
DEBUG 2024-08-28 13:09:41,848 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63158]
DEBUG 2024-08-28 13:09:41,848 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63162]
DEBUG 2024-08-28 13:09:41,849 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63161]
DEBUG 2024-08-28 13:09:41,849 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63157]
DEBUG 2024-08-28 13:09:41,849 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63149]
DEBUG 2024-08-28 13:09:41,849 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63288]
DEBUG 2024-08-28 13:09:41,849 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63160]
DEBUG 2024-08-28 13:09:41,849 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63159]
INFO 2024-08-28 13:09:41,849 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:09:41,849 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:09:41,849 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:09:41,849 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:09:41,849 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:09:41,849 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:09:41,849 consumers 85920 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
WARNING 2024-08-28 13:09:41,851 log 87575 6153793536 Not Found: /api/get_icon_color/
WARNING 2024-08-28 13:09:41,852 basehttp 87575 6153793536 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-28 13:09:41,852 basehttp 87575 6153793536 - Broken pipe from ('127.0.0.1', 63289)
INFO 2024-08-28 13:09:41,869 basehttp 87575 6136967168 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 13:09:41,871 basehttp 87575 6153793536 "GET /static/css/app.css HTTP/1.1" 200 2892
INFO 2024-08-28 13:09:41,905 basehttp 87575 6153793536 "GET /static/js/app.js HTTP/1.1" 200 37532
INFO 2024-08-28 13:09:41,928 basehttp 87575 6136967168 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 13:09:42,141 basehttp 87575 6136967168 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:09:42,146 basehttp 87575 6187446272 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:09:42,147 basehttp 87575 6153793536 "GET /static/js/app.js.map HTTP/1.1" 200 110043
INFO 2024-08-28 13:09:42,170 basehttp 87575 6153793536 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:09:42,174 basehttp 87575 6170619904 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:09:42,220 basehttp 87575 6170619904 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:09:42,223 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63298] to WebSocket
DEBUG 2024-08-28 13:09:42,226 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63298] open and established
DEBUG 2024-08-28 13:09:42,226 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63298] accepted by application
DEBUG 2024-08-28 13:09:42,227 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63298]
INFO 2024-08-28 13:09:42,228 basehttp 87575 6170619904 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 13:09:42,239 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63299] to WebSocket
WARNING 2024-08-28 13:09:42,244 log 87575 6170619904 Not Found: /api/messages/
WARNING 2024-08-28 13:09:42,244 basehttp 87575 6170619904 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 13:09:42,244 consumers 85920 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:09:42,244 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63299] open and established
DEBUG 2024-08-28 13:09:42,244 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63299] accepted by application
INFO 2024-08-28 13:09:42,244 consumers 85920 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 13:09:42,306 log 87575 6170619904 Not Found: /api/messages/
WARNING 2024-08-28 13:09:42,307 basehttp 87575 6170619904 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 13:09:42,331 basehttp 87575 6170619904 "GET /static/chat.svg HTTP/1.1" 200 405
ERROR 2024-08-28 13:09:42,689 server 85920 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:09:42,699 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63299]
DEBUG 2024-08-28 13:09:43,322 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63304] to WebSocket
INFO 2024-08-28 13:09:43,327 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:43,328 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63304] open and established
DEBUG 2024-08-28 13:09:43,328 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63304] accepted by application
INFO 2024-08-28 13:09:43,328 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:43,331 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63304]
INFO 2024-08-28 13:09:43,345 basehttp 87575 6170619904 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:09:43,345 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63305] to WebSocket
INFO 2024-08-28 13:09:43,349 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:43,350 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63305] open and established
DEBUG 2024-08-28 13:09:43,350 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63305] accepted by application
INFO 2024-08-28 13:09:43,350 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:43,354 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63305]
INFO 2024-08-28 13:09:43,356 basehttp 87575 6153793536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:09:43,357 basehttp 87575 6170619904 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-28 13:09:43,365 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63306] to WebSocket
INFO 2024-08-28 13:09:43,369 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:43,369 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63306] open and established
DEBUG 2024-08-28 13:09:43,369 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63306] accepted by application
INFO 2024-08-28 13:09:43,369 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 13:09:43,370 basehttp 87575 6170619904 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-28 13:09:43,371 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63306]
INFO 2024-08-28 13:09:43,372 basehttp 87575 6187446272 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:09:43,373 basehttp 87575 6153793536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:09:43,376 basehttp 87575 6187446272 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:09:43,377 basehttp 87575 6153793536 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:09:43,383 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63307] to WebSocket
INFO 2024-08-28 13:09:43,385 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:43,385 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63307] open and established
DEBUG 2024-08-28 13:09:43,385 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63307] accepted by application
INFO 2024-08-28 13:09:43,385 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:43,386 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63307]
DEBUG 2024-08-28 13:09:43,401 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63308] to WebSocket
INFO 2024-08-28 13:09:43,404 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:43,404 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63308] open and established
DEBUG 2024-08-28 13:09:43,404 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63308] accepted by application
INFO 2024-08-28 13:09:43,404 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:43,406 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63308]
DEBUG 2024-08-28 13:09:43,417 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63309] to WebSocket
INFO 2024-08-28 13:09:43,421 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:43,422 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63309] open and established
DEBUG 2024-08-28 13:09:43,423 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63309] accepted by application
INFO 2024-08-28 13:09:43,423 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:43,424 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63309]
DEBUG 2024-08-28 13:09:43,437 http_protocol 85920 8540262208 Upgraded connection ['127.0.0.1', 63310] to WebSocket
INFO 2024-08-28 13:09:43,441 consumers 85920 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:09:43,441 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63310] open and established
DEBUG 2024-08-28 13:09:43,441 ws_protocol 85920 8540262208 WebSocket ['127.0.0.1', 63310] accepted by application
INFO 2024-08-28 13:09:43,441 consumers 85920 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:09:43,443 ws_protocol 85920 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63310]
INFO 2024-08-28 13:11:20,617 basehttp 87575 6153793536 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:11:20,618 basehttp 87575 6187446272 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:11:20,634 basehttp 87575 6187446272 "GET /static/js/app.js.map HTTP/1.1" 200 110043
INFO 2024-08-28 13:11:20,670 basehttp 87575 6153793536 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:14:01,583 basehttp 87575 6153793536 "GET /static/js/app.js.map HTTP/1.1" 200 110043
INFO 2024-08-28 13:14:01,618 basehttp 87575 6187446272 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:20:56,168 server 85920 8540262208 Killed 8 pending application instances
DEBUG 2024-08-28 13:20:56,173 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63308]
DEBUG 2024-08-28 13:20:56,174 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63298]
DEBUG 2024-08-28 13:20:56,174 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63305]
DEBUG 2024-08-28 13:20:56,174 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63310]
DEBUG 2024-08-28 13:20:56,174 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63306]
DEBUG 2024-08-28 13:20:56,174 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63304]
DEBUG 2024-08-28 13:20:56,174 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63309]
DEBUG 2024-08-28 13:20:56,174 ws_protocol 85920 8540262208 WebSocket closed for ['127.0.0.1', 63307]
INFO 2024-08-28 13:21:27,652 cli 88137 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 13:21:27,652 server 88137 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 13:21:27,652 server 88137 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 13:21:27,653 server 88137 8540262208 Listening on TCP address 127.0.0.1:8001
DEBUG 2024-08-28 13:21:27,714 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50022] to WebSocket
DEBUG 2024-08-28 13:21:27,721 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50022] open and established
DEBUG 2024-08-28 13:21:27,721 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50022] accepted by application
DEBUG 2024-08-28 13:21:27,722 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50022]
INFO 2024-08-28 13:21:36,066 autoreload 88200 8540262208 Watching for file changes with StatReloader
INFO 2024-08-28 13:21:49,432 basehttp 88200 6134181888 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 13:21:49,471 basehttp 88200 6134181888 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 13:21:49,493 basehttp 88200 6134181888 "GET /static/css/app.css HTTP/1.1" 200 2929
INFO 2024-08-28 13:21:49,495 basehttp 88200 6167834624 "GET /static/js/app.js HTTP/1.1" 200 37532
INFO 2024-08-28 13:21:49,524 basehttp 88200 6151008256 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 13:21:49,684 basehttp 88200 6151008256 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:21:49,699 basehttp 88200 6151008256 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 13:21:49,721 basehttp 88200 6151008256 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 13:21:50,066 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50119] to WebSocket
DEBUG 2024-08-28 13:21:50,075 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50119] open and established
DEBUG 2024-08-28 13:21:50,078 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50119] accepted by application
DEBUG 2024-08-28 13:21:50,080 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50119]
INFO 2024-08-28 13:21:56,149 basehttp 88200 6151008256 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 13:21:59,748 basehttp 88200 6151008256 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 13:22:01,230 basehttp 88200 6151008256 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 13:22:01,232 basehttp 88200 6134181888 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 13:22:01,246 log 88200 6167834624 Not Found: /api/get_icon_color/
WARNING 2024-08-28 13:22:01,246 basehttp 88200 6167834624 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 13:22:01,263 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50119]
INFO 2024-08-28 13:22:01,274 basehttp 88200 6167834624 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 13:22:01,276 basehttp 88200 6134181888 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 13:22:01,277 basehttp 88200 6167834624 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:22:01,278 basehttp 88200 6151008256 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:22:01,402 basehttp 88200 6151008256 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:22:01,404 basehttp 88200 6167834624 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:22:01,430 basehttp 88200 6167834624 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:22:01,445 basehttp 88200 6167834624 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:22:01,448 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50174] to WebSocket
DEBUG 2024-08-28 13:22:01,452 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50174] open and established
DEBUG 2024-08-28 13:22:01,453 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50174] accepted by application
INFO 2024-08-28 13:22:01,457 basehttp 88200 6167834624 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 13:22:01,457 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50174]
INFO 2024-08-28 13:22:01,462 basehttp 88200 6151008256 "GET /static/chat.svg HTTP/1.1" 200 405
WARNING 2024-08-28 13:22:01,465 log 88200 6167834624 Not Found: /api/messages/
WARNING 2024-08-28 13:22:01,465 basehttp 88200 6167834624 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 13:22:01,466 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50176] to WebSocket
INFO 2024-08-28 13:22:01,469 consumers 88137 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:22:01,469 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50176] open and established
DEBUG 2024-08-28 13:22:01,469 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50176] accepted by application
INFO 2024-08-28 13:22:01,469 consumers 88137 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 13:22:01,469 log 88200 6167834624 Not Found: /api/messages/
WARNING 2024-08-28 13:22:01,469 basehttp 88200 6167834624 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 13:22:01,692 server 88137 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:22:01,708 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50176]
INFO 2024-08-28 13:22:02,594 basehttp 88200 6167834624 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 13:22:02,630 basehttp 88200 6167834624 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-28 13:22:08,322 basehttp 88200 6167834624 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 13:22:10,391 basehttp 88200 6167834624 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-28 13:22:10,404 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50174]
INFO 2024-08-28 13:22:10,394 basehttp 88200 6134181888 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 13:22:10,405 log 88200 6151008256 Not Found: /api/get_icon_color/
WARNING 2024-08-28 13:22:10,406 basehttp 88200 6151008256 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-28 13:22:10,406 basehttp 88200 6151008256 - Broken pipe from ('127.0.0.1', 50117)
INFO 2024-08-28 13:22:10,424 basehttp 88200 6134181888 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 13:22:10,428 basehttp 88200 6167834624 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:22:10,431 basehttp 88200 6151008256 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:22:10,431 basehttp 88200 6184660992 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 13:22:10,522 basehttp 88200 6184660992 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:22:10,522 basehttp 88200 6151008256 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:22:10,525 basehttp 88200 6151008256 "GET /static/chat.svg HTTP/1.1" 304 0
INFO 2024-08-28 13:22:10,542 basehttp 88200 6151008256 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:22:10,564 basehttp 88200 6151008256 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:22:10,568 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50215] to WebSocket
INFO 2024-08-28 13:22:10,572 basehttp 88200 6151008256 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-28 13:22:10,580 log 88200 6151008256 Not Found: /api/messages/
DEBUG 2024-08-28 13:22:10,581 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50215] open and established
DEBUG 2024-08-28 13:22:10,581 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50215] accepted by application
WARNING 2024-08-28 13:22:10,582 basehttp 88200 6151008256 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 13:22:10,583 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50215]
WARNING 2024-08-28 13:22:10,587 log 88200 6151008256 Not Found: /api/messages/
WARNING 2024-08-28 13:22:10,587 basehttp 88200 6151008256 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 13:22:10,595 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50216] to WebSocket
INFO 2024-08-28 13:22:10,596 consumers 88137 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:22:10,597 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50216] open and established
DEBUG 2024-08-28 13:22:10,597 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50216] accepted by application
INFO 2024-08-28 13:22:10,597 consumers 88137 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 13:22:10,713 server 88137 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:22:10,719 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50216]
DEBUG 2024-08-28 13:22:11,709 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50221] to WebSocket
INFO 2024-08-28 13:22:11,714 consumers 88137 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:22:11,714 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50221] open and established
DEBUG 2024-08-28 13:22:11,714 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50221] accepted by application
INFO 2024-08-28 13:22:11,714 consumers 88137 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:22:11,718 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50221]
INFO 2024-08-28 13:22:11,727 basehttp 88200 6184660992 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:22:11,732 basehttp 88200 6167834624 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
DEBUG 2024-08-28 13:22:11,734 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50222] to WebSocket
INFO 2024-08-28 13:22:11,734 basehttp 88200 6151008256 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:22:11,737 consumers 88137 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:22:11,737 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50222] open and established
DEBUG 2024-08-28 13:22:11,738 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50222] accepted by application
INFO 2024-08-28 13:22:11,738 consumers 88137 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:22:11,739 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50222]
INFO 2024-08-28 13:22:11,740 basehttp 88200 6151008256 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 13:22:11,746 basehttp 88200 6151008256 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:22:11,746 basehttp 88200 6167834624 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:22:11,749 basehttp 88200 6184660992 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:22:11,749 basehttp 88200 6167834624 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:22:11,749 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50223] to WebSocket
INFO 2024-08-28 13:22:11,751 consumers 88137 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:22:11,751 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50223] open and established
DEBUG 2024-08-28 13:22:11,751 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50223] accepted by application
INFO 2024-08-28 13:22:11,752 consumers 88137 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:22:11,753 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50223]
DEBUG 2024-08-28 13:22:11,764 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50224] to WebSocket
INFO 2024-08-28 13:22:11,766 consumers 88137 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:22:11,766 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50224] open and established
DEBUG 2024-08-28 13:22:11,766 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50224] accepted by application
INFO 2024-08-28 13:22:11,766 consumers 88137 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:22:11,767 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50224]
DEBUG 2024-08-28 13:22:11,779 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50225] to WebSocket
INFO 2024-08-28 13:22:11,781 consumers 88137 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:22:11,781 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50225] open and established
DEBUG 2024-08-28 13:22:11,781 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50225] accepted by application
INFO 2024-08-28 13:22:11,781 consumers 88137 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:22:11,782 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50225]
DEBUG 2024-08-28 13:22:11,793 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50226] to WebSocket
INFO 2024-08-28 13:22:11,794 consumers 88137 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:22:11,795 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50226] open and established
DEBUG 2024-08-28 13:22:11,795 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50226] accepted by application
INFO 2024-08-28 13:22:11,795 consumers 88137 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:22:11,796 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50226]
DEBUG 2024-08-28 13:22:11,808 http_protocol 88137 8540262208 Upgraded connection ['127.0.0.1', 50227] to WebSocket
INFO 2024-08-28 13:22:11,812 consumers 88137 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:22:11,812 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50227] open and established
DEBUG 2024-08-28 13:22:11,812 ws_protocol 88137 8540262208 WebSocket ['127.0.0.1', 50227] accepted by application
INFO 2024-08-28 13:22:11,812 consumers 88137 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:22:11,814 ws_protocol 88137 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50227]
INFO 2024-08-28 13:23:40,394 basehttp 88200 6184660992 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:23:40,395 basehttp 88200 6167834624 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:23:40,696 basehttp 88200 6167834624 "GET /static/js/app.js.map HTTP/1.1" 200 110095
INFO 2024-08-28 13:23:40,732 basehttp 88200 6184660992 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:45:18,974 autoreload 88893 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-28 13:45:22,720 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50022]
DEBUG 2024-08-28 13:45:23,057 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50223]
DEBUG 2024-08-28 13:45:23,058 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50221]
DEBUG 2024-08-28 13:45:23,058 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50226]
DEBUG 2024-08-28 13:45:23,059 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50215]
DEBUG 2024-08-28 13:45:23,059 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50225]
DEBUG 2024-08-28 13:45:23,059 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50224]
DEBUG 2024-08-28 13:45:23,060 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50222]
DEBUG 2024-08-28 13:45:23,061 ws_protocol 88137 8540262208 WebSocket closed for ['127.0.0.1', 50227]
INFO 2024-08-28 13:45:23,061 consumers 88137 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:45:23,061 consumers 88137 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:45:23,062 consumers 88137 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:45:23,062 consumers 88137 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:45:23,062 consumers 88137 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:45:23,062 consumers 88137 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:45:23,062 consumers 88137 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:45:26,429 server 88137 8540262208 Killed 0 pending application instances
INFO 2024-08-28 13:45:27,457 cli 88965 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 13:45:27,457 server 88965 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-08-28 13:45:27,457 server 88965 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-08-28 13:45:27,457 server 88965 8540262208 Listening on TCP address 127.0.0.1:8001
INFO 2024-08-28 13:45:32,628 basehttp 88893 6192984064 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 13:45:32,667 basehttp 88893 6192984064 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 13:45:32,692 basehttp 88893 6209810432 "GET /static/css/app.css HTTP/1.1" 200 2929
INFO 2024-08-28 13:45:32,693 basehttp 88893 6226636800 "GET /static/js/app.js HTTP/1.1" 200 37532
INFO 2024-08-28 13:45:32,727 basehttp 88893 6192984064 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 13:45:32,892 basehttp 88893 6192984064 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:45:32,903 basehttp 88893 6192984064 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 13:45:32,925 basehttp 88893 6192984064 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 13:45:33,716 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55928] to WebSocket
DEBUG 2024-08-28 13:45:33,730 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55928] open and established
DEBUG 2024-08-28 13:45:33,731 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55928] accepted by application
DEBUG 2024-08-28 13:45:33,733 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55928]
INFO 2024-08-28 13:45:36,417 basehttp 88893 6192984064 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 13:45:41,572 basehttp 88893 6192984064 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 13:45:42,547 basehttp 88893 6192984064 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 13:45:42,557 basehttp 88893 6209810432 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 13:45:42,568 log 88893 6226636800 Not Found: /api/get_icon_color/
WARNING 2024-08-28 13:45:42,573 basehttp 88893 6226636800 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 13:45:42,578 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55928]
INFO 2024-08-28 13:45:42,591 basehttp 88893 6243463168 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:45:42,592 basehttp 88893 6226636800 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 13:45:42,592 basehttp 88893 6192984064 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 13:45:42,593 basehttp 88893 6209810432 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:45:42,715 basehttp 88893 6209810432 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:45:42,719 basehttp 88893 6192984064 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:45:42,743 basehttp 88893 6192984064 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:45:42,759 basehttp 88893 6192984064 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:45:42,768 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55935] to WebSocket
INFO 2024-08-28 13:45:42,771 basehttp 88893 6209810432 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-28 13:45:42,777 basehttp 88893 6192984064 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 13:45:42,782 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55935] open and established
DEBUG 2024-08-28 13:45:42,782 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55935] accepted by application
WARNING 2024-08-28 13:45:42,785 log 88893 6192984064 Not Found: /api/messages/
WARNING 2024-08-28 13:45:42,785 basehttp 88893 6192984064 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 13:45:42,786 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55935]
WARNING 2024-08-28 13:45:42,791 log 88893 6192984064 Not Found: /api/messages/
WARNING 2024-08-28 13:45:42,791 basehttp 88893 6192984064 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 13:45:42,796 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55936] to WebSocket
INFO 2024-08-28 13:45:42,798 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:45:42,798 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55936] open and established
DEBUG 2024-08-28 13:45:42,798 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55936] accepted by application
INFO 2024-08-28 13:45:42,798 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 13:45:43,471 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:45:43,496 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55936]
DEBUG 2024-08-28 13:45:46,708 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55937] to WebSocket
INFO 2024-08-28 13:45:46,717 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:45:46,717 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55937] open and established
DEBUG 2024-08-28 13:45:46,717 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55937] accepted by application
INFO 2024-08-28 13:45:46,717 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 13:45:46,721 basehttp 88893 6192984064 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:45:46,724 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55937]
INFO 2024-08-28 13:45:46,728 basehttp 88893 6209810432 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:45:46,729 basehttp 88893 6226636800 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-28 13:45:46,730 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55938] to WebSocket
INFO 2024-08-28 13:45:46,733 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:45:46,733 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55938] open and established
DEBUG 2024-08-28 13:45:46,733 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55938] accepted by application
INFO 2024-08-28 13:45:46,733 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:45:46,734 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55938]
INFO 2024-08-28 13:45:46,745 basehttp 88893 6226636800 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-28 13:45:46,746 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55939] to WebSocket
INFO 2024-08-28 13:45:46,748 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:45:46,748 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55939] open and established
DEBUG 2024-08-28 13:45:46,748 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55939] accepted by application
INFO 2024-08-28 13:45:46,748 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:45:46,749 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55939]
INFO 2024-08-28 13:45:46,750 basehttp 88893 6226636800 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:45:46,751 basehttp 88893 6209810432 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:45:46,756 basehttp 88893 6209810432 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:45:46,756 basehttp 88893 6226636800 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:45:46,759 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55940] to WebSocket
INFO 2024-08-28 13:45:46,761 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:45:46,761 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55940] open and established
DEBUG 2024-08-28 13:45:46,761 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55940] accepted by application
INFO 2024-08-28 13:45:46,761 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:45:46,762 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55940]
DEBUG 2024-08-28 13:45:46,775 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55941] to WebSocket
INFO 2024-08-28 13:45:46,777 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:45:46,777 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55941] open and established
DEBUG 2024-08-28 13:45:46,777 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55941] accepted by application
INFO 2024-08-28 13:45:46,777 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:45:46,778 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55941]
DEBUG 2024-08-28 13:45:46,791 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55942] to WebSocket
INFO 2024-08-28 13:45:46,795 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:45:46,795 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55942] open and established
DEBUG 2024-08-28 13:45:46,795 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55942] accepted by application
INFO 2024-08-28 13:45:46,795 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:45:46,796 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55942]
DEBUG 2024-08-28 13:45:46,809 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55943] to WebSocket
INFO 2024-08-28 13:45:46,813 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:45:46,813 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55943] open and established
DEBUG 2024-08-28 13:45:46,814 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55943] accepted by application
INFO 2024-08-28 13:45:46,814 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:45:46,815 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55943]
INFO 2024-08-28 13:45:55,081 basehttp 88893 6209810432 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:45:55,082 basehttp 88893 6226636800 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:45:55,385 basehttp 88893 6226636800 "GET /static/js/app.js.map HTTP/1.1" 200 110095
INFO 2024-08-28 13:45:55,419 basehttp 88893 6209810432 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-28 13:51:32,523 autoreload 89341 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-28 13:51:35,592 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55939]
DEBUG 2024-08-28 13:51:35,592 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55941]
DEBUG 2024-08-28 13:51:35,592 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55940]
DEBUG 2024-08-28 13:51:35,592 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55943]
DEBUG 2024-08-28 13:51:35,592 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55937]
DEBUG 2024-08-28 13:51:35,593 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55935]
DEBUG 2024-08-28 13:51:35,593 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55942]
DEBUG 2024-08-28 13:51:35,593 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55938]
INFO 2024-08-28 13:51:35,593 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:51:35,593 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:51:35,593 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:51:35,593 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:51:35,593 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:51:35,593 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:51:35,593 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:51:38,118 basehttp 89341 6125514752 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 13:51:38,154 basehttp 89341 6125514752 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 13:51:38,178 basehttp 89341 6125514752 "GET /static/css/app.css HTTP/1.1" 200 2942
INFO 2024-08-28 13:51:38,182 basehttp 89341 6142341120 "GET /static/js/app.js HTTP/1.1" 200 37532
INFO 2024-08-28 13:51:38,200 basehttp 89341 6159167488 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 13:51:38,368 basehttp 89341 6159167488 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:51:38,380 basehttp 89341 6159167488 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 13:51:38,401 basehttp 89341 6159167488 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 13:51:38,538 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57357] to WebSocket
DEBUG 2024-08-28 13:51:38,550 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57357] open and established
DEBUG 2024-08-28 13:51:38,551 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57357] accepted by application
DEBUG 2024-08-28 13:51:38,553 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57357]
INFO 2024-08-28 13:51:39,901 basehttp 89341 6159167488 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 13:51:46,793 basehttp 89341 6159167488 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 13:51:50,868 basehttp 89341 6159167488 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 13:51:50,876 basehttp 89341 6125514752 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 13:51:50,889 log 89341 6142341120 Not Found: /api/get_icon_color/
WARNING 2024-08-28 13:51:50,890 basehttp 89341 6142341120 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 13:51:50,901 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57357]
INFO 2024-08-28 13:51:50,911 basehttp 89341 6142341120 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 13:51:50,914 basehttp 89341 6142341120 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:51:50,915 basehttp 89341 6159167488 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:51:50,915 basehttp 89341 6125514752 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 13:51:51,034 basehttp 89341 6159167488 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:51:51,044 basehttp 89341 6125514752 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:51:51,058 basehttp 89341 6125514752 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:51:51,072 basehttp 89341 6125514752 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:51:51,092 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57365] to WebSocket
INFO 2024-08-28 13:51:51,104 basehttp 89341 6159167488 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-28 13:51:51,104 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57365] open and established
DEBUG 2024-08-28 13:51:51,104 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57365] accepted by application
DEBUG 2024-08-28 13:51:51,108 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57365]
INFO 2024-08-28 13:51:51,108 basehttp 89341 6125514752 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 13:51:51,120 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57366] to WebSocket
WARNING 2024-08-28 13:51:51,120 log 89341 6125514752 Not Found: /api/messages/
WARNING 2024-08-28 13:51:51,121 basehttp 89341 6125514752 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-28 13:51:51,123 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:51:51,124 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57366] open and established
DEBUG 2024-08-28 13:51:51,124 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57366] accepted by application
INFO 2024-08-28 13:51:51,124 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-28 13:51:51,126 log 89341 6125514752 Not Found: /api/messages/
WARNING 2024-08-28 13:51:51,127 basehttp 89341 6125514752 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-28 13:51:51,926 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:51:51,941 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57366]
DEBUG 2024-08-28 13:52:46,946 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57398] to WebSocket
INFO 2024-08-28 13:52:46,952 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:52:46,952 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57398] open and established
DEBUG 2024-08-28 13:52:46,953 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57398] accepted by application
INFO 2024-08-28 13:52:46,953 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:52:46,955 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57398]
INFO 2024-08-28 13:52:46,969 basehttp 89341 6125514752 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:52:46,970 basehttp 89341 6142341120 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
DEBUG 2024-08-28 13:52:46,977 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57399] to WebSocket
INFO 2024-08-28 13:52:46,977 basehttp 89341 6159167488 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:52:46,980 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:52:46,980 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57399] open and established
DEBUG 2024-08-28 13:52:46,980 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57399] accepted by application
INFO 2024-08-28 13:52:46,980 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:52:46,981 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57399]
INFO 2024-08-28 13:52:46,986 basehttp 89341 6159167488 "GET /api/messages/?room_id=1 HTTP/1.1" 200 767
INFO 2024-08-28 13:52:46,992 basehttp 89341 6159167488 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:52:46,992 basehttp 89341 6142341120 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:52:46,992 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57400] to WebSocket
INFO 2024-08-28 13:52:46,994 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:52:46,994 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57400] open and established
INFO 2024-08-28 13:52:46,994 basehttp 89341 6159167488 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:52:46,995 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57400] accepted by application
INFO 2024-08-28 13:52:46,995 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-28 13:52:46,994 basehttp 89341 6125514752 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:52:46,996 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57400]
DEBUG 2024-08-28 13:52:47,006 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57401] to WebSocket
INFO 2024-08-28 13:52:47,008 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:52:47,008 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57401] open and established
DEBUG 2024-08-28 13:52:47,008 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57401] accepted by application
INFO 2024-08-28 13:52:47,008 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:52:47,009 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57401]
DEBUG 2024-08-28 13:52:47,021 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57402] to WebSocket
INFO 2024-08-28 13:52:47,023 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:52:47,023 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57402] open and established
DEBUG 2024-08-28 13:52:47,023 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57402] accepted by application
INFO 2024-08-28 13:52:47,023 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:52:47,024 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57402]
DEBUG 2024-08-28 13:52:47,038 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57403] to WebSocket
INFO 2024-08-28 13:52:47,046 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:52:47,046 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57403] open and established
DEBUG 2024-08-28 13:52:47,046 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57403] accepted by application
INFO 2024-08-28 13:52:47,046 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:52:47,048 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57403]
DEBUG 2024-08-28 13:52:47,058 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57404] to WebSocket
INFO 2024-08-28 13:52:47,060 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-28 13:52:47,061 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57404] open and established
DEBUG 2024-08-28 13:52:47,061 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57404] accepted by application
INFO 2024-08-28 13:52:47,061 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-28 13:52:47,062 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57404]
DEBUG 2024-08-28 13:52:50,685 ws_protocol 88965 8540262208 WebSocket incoming frame on ['127.0.0.1', 57404]
DEBUG 2024-08-28 13:52:50,691 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57398]
DEBUG 2024-08-28 13:52:50,691 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57399]
DEBUG 2024-08-28 13:52:50,692 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57400]
DEBUG 2024-08-28 13:52:50,692 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57401]
DEBUG 2024-08-28 13:52:50,692 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57402]
DEBUG 2024-08-28 13:52:50,692 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57403]
DEBUG 2024-08-28 13:52:50,692 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57404]
DEBUG 2024-08-28 13:52:53,883 ws_protocol 88965 8540262208 WebSocket incoming frame on ['127.0.0.1', 57404]
DEBUG 2024-08-28 13:52:53,889 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57398]
DEBUG 2024-08-28 13:52:53,890 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57399]
DEBUG 2024-08-28 13:52:53,890 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57400]
DEBUG 2024-08-28 13:52:53,890 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57401]
DEBUG 2024-08-28 13:52:53,890 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57402]
DEBUG 2024-08-28 13:52:53,890 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57403]
DEBUG 2024-08-28 13:52:53,891 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57404]
INFO 2024-08-28 13:58:57,259 autoreload 89757 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-28 13:59:00,289 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57403]
DEBUG 2024-08-28 13:59:00,291 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57398]
DEBUG 2024-08-28 13:59:00,293 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57400]
DEBUG 2024-08-28 13:59:00,294 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57365]
DEBUG 2024-08-28 13:59:00,294 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57402]
DEBUG 2024-08-28 13:59:00,294 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57399]
DEBUG 2024-08-28 13:59:00,294 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57401]
DEBUG 2024-08-28 13:59:00,294 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57404]
INFO 2024-08-28 13:59:00,295 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:59:00,296 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:59:00,296 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:59:00,296 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:59:00,296 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:59:00,296 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:59:00,296 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-28 13:59:02,561 basehttp 89757 6193016832 "GET / HTTP/1.1" 200 1008
INFO 2024-08-28 13:59:02,597 basehttp 89757 6193016832 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-28 13:59:02,621 basehttp 89757 6209843200 "GET /static/css/app.css HTTP/1.1" 200 3039
INFO 2024-08-28 13:59:02,624 basehttp 89757 6193016832 "GET /static/js/app.js HTTP/1.1" 200 37575
INFO 2024-08-28 13:59:02,642 basehttp 89757 6226669568 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-28 13:59:02,814 basehttp 89757 6226669568 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:59:02,824 basehttp 89757 6226669568 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-28 13:59:02,848 basehttp 89757 6226669568 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-28 13:59:03,058 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57471] to WebSocket
DEBUG 2024-08-28 13:59:03,072 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57471] open and established
DEBUG 2024-08-28 13:59:03,072 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57471] accepted by application
DEBUG 2024-08-28 13:59:03,074 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57471]
INFO 2024-08-28 13:59:04,254 basehttp 89757 6226669568 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-28 13:59:09,878 basehttp 89757 6226669568 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-28 13:59:10,812 basehttp 89757 6226669568 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-28 13:59:10,814 basehttp 89757 6209843200 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-28 13:59:10,831 log 89757 6193016832 Not Found: /api/get_icon_color/
WARNING 2024-08-28 13:59:10,831 basehttp 89757 6193016832 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-28 13:59:10,844 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57471]
INFO 2024-08-28 13:59:10,852 basehttp 89757 6193016832 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 13:59:10,855 basehttp 89757 6209843200 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 13:59:10,857 basehttp 89757 6226669568 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:59:10,857 basehttp 89757 6193016832 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:59:10,979 basehttp 89757 6193016832 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:59:10,985 basehttp 89757 6226669568 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:59:11,005 basehttp 89757 6226669568 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:59:11,022 basehttp 89757 6226669568 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:59:11,027 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57476] to WebSocket
INFO 2024-08-28 13:59:11,034 basehttp 89757 6226669568 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-28 13:59:11,036 basehttp 89757 6193016832 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-28 13:59:11,038 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57476] open and established
DEBUG 2024-08-28 13:59:11,038 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57476] accepted by application
WARNING 2024-08-28 13:59:11,040 log 89757 6226669568 Not Found: /api/messages/
DEBUG 2024-08-28 13:59:11,040 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57476]
WARNING 2024-08-28 13:59:11,040 basehttp 89757 6226669568 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-28 13:59:11,048 log 89757 6226669568 Not Found: /api/messages/
WARNING 2024-08-28 13:59:11,048 basehttp 89757 6226669568 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 13:59:11,052 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57477] to WebSocket
INFO 2024-08-28 13:59:11,053 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:59:11,054 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57477] open and established
DEBUG 2024-08-28 13:59:11,054 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57477] accepted by application
INFO 2024-08-28 13:59:11,054 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 13:59:11,489 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:59:11,505 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57477]
DEBUG 2024-08-28 13:59:16,898 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57478] to WebSocket
INFO 2024-08-28 13:59:16,902 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:59:16,902 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57478] open and established
DEBUG 2024-08-28 13:59:16,902 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57478] accepted by application
INFO 2024-08-28 13:59:16,902 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:59:16,905 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57478]
INFO 2024-08-28 13:59:16,922 basehttp 89757 6209843200 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-28 13:59:16,924 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57479] to WebSocket
INFO 2024-08-28 13:59:16,925 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:59:16,925 basehttp 89757 6226669568 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:59:16,927 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:59:16,927 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57479] open and established
DEBUG 2024-08-28 13:59:16,928 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57479] accepted by application
INFO 2024-08-28 13:59:16,928 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:59:16,930 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57479]
INFO 2024-08-28 13:59:16,933 basehttp 89757 6226669568 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
INFO 2024-08-28 13:59:16,938 basehttp 89757 6226669568 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:59:16,938 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:59:16,939 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57480] to WebSocket
INFO 2024-08-28 13:59:16,942 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:59:16,942 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57480] open and established
DEBUG 2024-08-28 13:59:16,942 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57480] accepted by application
INFO 2024-08-28 13:59:16,942 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:59:16,943 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57480]
INFO 2024-08-28 13:59:16,944 basehttp 89757 6193016832 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:59:16,944 basehttp 89757 6226669568 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:59:16,956 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57481] to WebSocket
INFO 2024-08-28 13:59:16,958 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:59:16,958 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57481] open and established
DEBUG 2024-08-28 13:59:16,958 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57481] accepted by application
INFO 2024-08-28 13:59:16,958 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:59:16,960 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57481]
DEBUG 2024-08-28 13:59:16,972 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57482] to WebSocket
INFO 2024-08-28 13:59:16,973 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:59:16,974 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57482] open and established
DEBUG 2024-08-28 13:59:16,974 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57482] accepted by application
INFO 2024-08-28 13:59:16,974 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:59:16,975 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57482]
DEBUG 2024-08-28 13:59:16,988 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57483] to WebSocket
INFO 2024-08-28 13:59:16,989 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:59:16,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57483] open and established
DEBUG 2024-08-28 13:59:16,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57483] accepted by application
INFO 2024-08-28 13:59:16,989 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:59:16,991 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57483]
DEBUG 2024-08-28 13:59:17,003 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57484] to WebSocket
INFO 2024-08-28 13:59:17,005 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:59:17,005 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57484] open and established
DEBUG 2024-08-28 13:59:17,005 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57484] accepted by application
INFO 2024-08-28 13:59:17,005 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-28 13:59:17,006 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57484]
DEBUG 2024-08-28 13:59:58,633 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57484]
INFO 2024-08-28 13:59:58,633 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-28 13:59:58,675 basehttp 89757 6226669568 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-28 13:59:58,675 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57487] to WebSocket
INFO 2024-08-28 13:59:58,684 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-28 13:59:58,684 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57487] open and established
DEBUG 2024-08-28 13:59:58,684 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57487] accepted by application
INFO 2024-08-28 13:59:58,684 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-28 13:59:58,680 basehttp 89757 6193016832 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-28 13:59:58,685 basehttp 89757 6209843200 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-28 13:59:58,690 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57480]
DEBUG 2024-08-28 13:59:58,691 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57487]
DEBUG 2024-08-28 13:59:58,692 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57478]
DEBUG 2024-08-28 13:59:58,693 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57483]
DEBUG 2024-08-28 13:59:58,693 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57482]
DEBUG 2024-08-28 13:59:58,694 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57479]
DEBUG 2024-08-28 13:59:58,694 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57476]
DEBUG 2024-08-28 13:59:58,695 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57481]
INFO 2024-08-28 13:59:58,695 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
DEBUG 2024-08-28 13:59:58,696 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57487]
INFO 2024-08-28 13:59:58,709 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:59:58,709 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:59:58,709 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:59:58,709 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:59:58,710 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:59:58,710 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-28 13:59:58,716 basehttp 89757 6193016832 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-28 13:59:58,717 basehttp 89757 6243495936 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-28 13:59:58,717 basehttp 89757 6226669568 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-28 13:59:58,717 basehttp 89757 6209843200 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-28 13:59:58,840 basehttp 89757 6209843200 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-28 13:59:58,842 basehttp 89757 6226669568 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-28 13:59:58,870 basehttp 89757 6226669568 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-28 13:59:58,889 basehttp 89757 6226669568 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-28 13:59:58,901 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57489] to WebSocket
INFO 2024-08-28 13:59:58,903 basehttp 89757 6209843200 "GET /static/chat.svg HTTP/1.1" 304 0
INFO 2024-08-28 13:59:58,906 basehttp 89757 6226669568 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-28 13:59:58,906 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57489] open and established
DEBUG 2024-08-28 13:59:58,907 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57489] accepted by application
DEBUG 2024-08-28 13:59:58,908 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57489]
WARNING 2024-08-28 13:59:58,912 log 89757 6226669568 Not Found: /api/messages/
WARNING 2024-08-28 13:59:58,912 basehttp 89757 6226669568 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-28 13:59:58,920 log 89757 6226669568 Not Found: /api/messages/
WARNING 2024-08-28 13:59:58,921 basehttp 89757 6226669568 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-28 13:59:58,922 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57490] to WebSocket
INFO 2024-08-28 13:59:58,924 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-28 13:59:58,924 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57490] open and established
DEBUG 2024-08-28 13:59:58,924 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57490] accepted by application
INFO 2024-08-28 13:59:58,924 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-28 13:59:59,560 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-28 13:59:59,565 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57490]
DEBUG 2024-08-28 14:01:10,034 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57489]
DEBUG 2024-08-28 14:01:13,689 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 57503] to WebSocket
DEBUG 2024-08-28 14:01:13,701 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57503] open and established
DEBUG 2024-08-28 14:01:13,701 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 57503] accepted by application
DEBUG 2024-08-28 14:01:13,706 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 57503]
DEBUG 2024-08-29 03:51:50,928 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 57503]
DEBUG 2024-08-29 03:51:54,228 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 60539] to WebSocket
DEBUG 2024-08-29 03:51:54,245 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 60539] open and established
DEBUG 2024-08-29 03:51:54,246 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 60539] accepted by application
DEBUG 2024-08-29 03:51:54,247 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 60539]
INFO 2024-08-29 06:42:39,888 basehttp 89757 6193016832 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-29 06:42:39,923 basehttp 89757 6193016832 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-29 06:42:46,077 basehttp 89757 6193016832 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-29 06:42:47,034 basehttp 89757 6193016832 "GET /home HTTP/1.1" 200 1008
WARNING 2024-08-29 06:42:47,050 log 89757 6209843200 Not Found: /api/get_icon_color/
WARNING 2024-08-29 06:42:47,050 basehttp 89757 6209843200 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 06:42:47,051 basehttp 89757 6226669568 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:42:47,057 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 60539]
INFO 2024-08-29 06:42:47,074 basehttp 89757 6226669568 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 06:42:47,074 basehttp 89757 6209843200 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 06:42:47,083 basehttp 89757 6226669568 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-29 06:42:47,096 basehttp 89757 6209843200 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 06:42:47,278 basehttp 89757 6209843200 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 06:42:47,281 basehttp 89757 6226669568 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:42:47,329 basehttp 89757 6226669568 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 06:42:47,353 basehttp 89757 6226669568 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 06:42:47,368 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61530] to WebSocket
INFO 2024-08-29 06:42:47,381 basehttp 89757 6209843200 "GET /static/chat.svg HTTP/1.1" 304 0
INFO 2024-08-29 06:42:47,382 basehttp 89757 6226669568 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 06:42:47,386 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61530] open and established
DEBUG 2024-08-29 06:42:47,386 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61530] accepted by application
DEBUG 2024-08-29 06:42:47,387 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61530]
WARNING 2024-08-29 06:42:47,395 log 89757 6226669568 Not Found: /api/messages/
WARNING 2024-08-29 06:42:47,395 basehttp 89757 6226669568 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 06:42:47,399 log 89757 6226669568 Not Found: /api/messages/
WARNING 2024-08-29 06:42:47,399 basehttp 89757 6226669568 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 06:42:47,400 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61531] to WebSocket
INFO 2024-08-29 06:42:47,402 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 06:42:47,402 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61531] open and established
DEBUG 2024-08-29 06:42:47,402 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61531] accepted by application
INFO 2024-08-29 06:42:47,402 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 06:42:47,862 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 06:42:47,877 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61531]
DEBUG 2024-08-29 06:42:51,596 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61532] to WebSocket
INFO 2024-08-29 06:42:51,602 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:51,602 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61532] open and established
DEBUG 2024-08-29 06:42:51,602 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61532] accepted by application
INFO 2024-08-29 06:42:51,602 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:51,605 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61532]
INFO 2024-08-29 06:42:51,614 basehttp 89757 6226669568 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:42:51,620 basehttp 89757 6193016832 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 06:42:51,622 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61533] to WebSocket
INFO 2024-08-29 06:42:51,623 basehttp 89757 6209843200 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:42:51,627 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:51,627 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61533] open and established
DEBUG 2024-08-29 06:42:51,627 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61533] accepted by application
INFO 2024-08-29 06:42:51,628 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:51,629 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61533]
INFO 2024-08-29 06:42:51,637 basehttp 89757 6209843200 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:42:51,637 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:42:51,638 basehttp 89757 6226669568 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 06:42:51,639 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61534] to WebSocket
INFO 2024-08-29 06:42:51,641 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:51,641 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61534] open and established
DEBUG 2024-08-29 06:42:51,642 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61534] accepted by application
INFO 2024-08-29 06:42:51,642 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:51,643 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61534]
INFO 2024-08-29 06:42:51,647 basehttp 89757 6226669568 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:42:51,653 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61535] to WebSocket
INFO 2024-08-29 06:42:51,655 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:51,655 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61535] open and established
DEBUG 2024-08-29 06:42:51,655 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61535] accepted by application
INFO 2024-08-29 06:42:51,655 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:51,657 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61535]
DEBUG 2024-08-29 06:42:51,667 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61536] to WebSocket
INFO 2024-08-29 06:42:51,668 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:51,669 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61536] open and established
DEBUG 2024-08-29 06:42:51,669 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61536] accepted by application
INFO 2024-08-29 06:42:51,669 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:51,670 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61536]
DEBUG 2024-08-29 06:42:51,682 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61537] to WebSocket
INFO 2024-08-29 06:42:51,684 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:51,684 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61537] open and established
DEBUG 2024-08-29 06:42:51,684 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61537] accepted by application
INFO 2024-08-29 06:42:51,684 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:51,685 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61537]
DEBUG 2024-08-29 06:42:51,698 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61538] to WebSocket
INFO 2024-08-29 06:42:51,702 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:51,703 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61538] open and established
DEBUG 2024-08-29 06:42:51,703 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61538] accepted by application
INFO 2024-08-29 06:42:51,703 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:51,705 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61538]
DEBUG 2024-08-29 06:42:53,714 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61538]
INFO 2024-08-29 06:42:53,715 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 06:42:53,749 basehttp 89757 6226669568 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-29 06:42:53,751 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61539] to WebSocket
INFO 2024-08-29 06:42:53,754 basehttp 89757 6209843200 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:42:53,761 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:42:53,763 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61532]
DEBUG 2024-08-29 06:42:53,764 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61533]
DEBUG 2024-08-29 06:42:53,764 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61535]
DEBUG 2024-08-29 06:42:53,764 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61530]
DEBUG 2024-08-29 06:42:53,764 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61537]
DEBUG 2024-08-29 06:42:53,764 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61536]
DEBUG 2024-08-29 06:42:53,764 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61534]
INFO 2024-08-29 06:42:53,764 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:42:53,765 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:42:53,765 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:42:53,765 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:42:53,765 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:42:53,765 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:42:53,765 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:53,765 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61539] open and established
DEBUG 2024-08-29 06:42:53,765 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61539] accepted by application
INFO 2024-08-29 06:42:53,765 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:53,766 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61539]
INFO 2024-08-29 06:42:53,767 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-29 06:42:53,893 basehttp 89757 6193016832 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 06:42:53,902 basehttp 89757 6209843200 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:42:53,912 basehttp 89757 6209843200 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-29 06:42:53,937 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61540] to WebSocket
INFO 2024-08-29 06:42:53,937 basehttp 89757 6209843200 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 06:42:53,948 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61540] open and established
DEBUG 2024-08-29 06:42:53,949 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61540] accepted by application
DEBUG 2024-08-29 06:42:53,950 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61540]
INFO 2024-08-29 06:42:53,950 basehttp 89757 6209843200 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 06:42:53,956 log 89757 6209843200 Not Found: /api/messages/
WARNING 2024-08-29 06:42:53,956 basehttp 89757 6209843200 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 06:42:53,959 log 89757 6209843200 Not Found: /api/messages/
WARNING 2024-08-29 06:42:53,959 basehttp 89757 6209843200 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 06:42:53,963 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61541] to WebSocket
INFO 2024-08-29 06:42:53,967 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 06:42:53,967 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61541] open and established
DEBUG 2024-08-29 06:42:53,967 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61541] accepted by application
INFO 2024-08-29 06:42:53,967 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 06:42:54,879 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 06:42:54,887 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61541]
DEBUG 2024-08-29 06:42:55,576 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61542] to WebSocket
INFO 2024-08-29 06:42:55,581 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:55,581 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61542] open and established
DEBUG 2024-08-29 06:42:55,582 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61542] accepted by application
INFO 2024-08-29 06:42:55,582 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:55,584 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61542]
INFO 2024-08-29 06:42:55,603 basehttp 89757 6209843200 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 06:42:55,604 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61543] to WebSocket
INFO 2024-08-29 06:42:55,612 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:42:55,612 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:55,612 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61543] open and established
DEBUG 2024-08-29 06:42:55,612 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61543] accepted by application
INFO 2024-08-29 06:42:55,612 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 06:42:55,612 basehttp 89757 6226669568 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 06:42:55,614 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61543]
INFO 2024-08-29 06:42:55,617 basehttp 89757 6226669568 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 06:42:55,622 basehttp 89757 6226669568 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:42:55,622 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:42:55,623 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61544] to WebSocket
INFO 2024-08-29 06:42:55,625 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:55,625 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61544] open and established
DEBUG 2024-08-29 06:42:55,625 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61544] accepted by application
INFO 2024-08-29 06:42:55,625 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:55,627 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61544]
INFO 2024-08-29 06:42:55,628 basehttp 89757 6193016832 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:42:55,629 basehttp 89757 6226669568 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:42:55,638 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61545] to WebSocket
INFO 2024-08-29 06:42:55,640 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:55,640 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61545] open and established
DEBUG 2024-08-29 06:42:55,640 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61545] accepted by application
INFO 2024-08-29 06:42:55,640 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:55,641 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61545]
DEBUG 2024-08-29 06:42:55,653 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61546] to WebSocket
INFO 2024-08-29 06:42:55,654 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:55,654 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61546] open and established
DEBUG 2024-08-29 06:42:55,654 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61546] accepted by application
INFO 2024-08-29 06:42:55,654 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:55,655 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61546]
DEBUG 2024-08-29 06:42:55,666 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61547] to WebSocket
INFO 2024-08-29 06:42:55,668 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:55,668 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61547] open and established
DEBUG 2024-08-29 06:42:55,668 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61547] accepted by application
INFO 2024-08-29 06:42:55,668 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:55,669 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61547]
DEBUG 2024-08-29 06:42:55,683 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61548] to WebSocket
INFO 2024-08-29 06:42:55,687 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:42:55,688 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61548] open and established
DEBUG 2024-08-29 06:42:55,688 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61548] accepted by application
INFO 2024-08-29 06:42:55,688 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:42:55,691 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61548]
DEBUG 2024-08-29 06:46:02,909 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61547]
DEBUG 2024-08-29 06:46:02,909 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61540]
DEBUG 2024-08-29 06:46:02,910 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61546]
DEBUG 2024-08-29 06:46:02,910 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61544]
DEBUG 2024-08-29 06:46:02,910 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61543]
DEBUG 2024-08-29 06:46:02,910 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61548]
DEBUG 2024-08-29 06:46:02,910 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61545]
DEBUG 2024-08-29 06:46:02,910 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61542]
INFO 2024-08-29 06:46:02,910 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:46:02,910 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:46:02,911 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:46:02,911 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:46:02,911 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:46:02,911 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:46:02,911 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:46:11,079 basehttp 89757 6193016832 "GET /room/1 HTTP/1.1" 200 1008
INFO 2024-08-29 06:46:11,820 basehttp 89757 6193016832 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 06:46:11,837 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:46:11,841 basehttp 89757 6209843200 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 06:46:11,880 basehttp 89757 6209843200 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 06:46:11,938 basehttp 89757 6209843200 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 06:46:11,944 basehttp 89757 6209843200 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:46:11,947 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:46:11,961 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61594] to WebSocket
DEBUG 2024-08-29 06:46:11,964 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61594] open and established
DEBUG 2024-08-29 06:46:11,964 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61594] accepted by application
DEBUG 2024-08-29 06:46:11,965 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61594]
DEBUG 2024-08-29 06:46:12,000 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61596] to WebSocket
INFO 2024-08-29 06:46:12,000 basehttp 89757 6193016832 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:46:12,006 basehttp 89757 6209843200 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:46:12,009 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:46:12,009 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61596] open and established
DEBUG 2024-08-29 06:46:12,009 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61596] accepted by application
INFO 2024-08-29 06:46:12,009 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:46:12,011 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61596]
DEBUG 2024-08-29 06:46:12,022 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61597] to WebSocket
INFO 2024-08-29 06:46:12,026 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:46:12,027 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61597] open and established
DEBUG 2024-08-29 06:46:12,027 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61597] accepted by application
INFO 2024-08-29 06:46:12,027 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:46:12,028 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61597]
DEBUG 2024-08-29 06:46:12,038 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61598] to WebSocket
INFO 2024-08-29 06:46:12,042 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:46:12,043 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61598] open and established
DEBUG 2024-08-29 06:46:12,043 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61598] accepted by application
INFO 2024-08-29 06:46:12,043 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:46:12,044 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61598]
DEBUG 2024-08-29 06:49:15,289 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61598]
INFO 2024-08-29 06:49:15,291 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 06:49:15,299 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61729] to WebSocket
INFO 2024-08-29 06:49:15,306 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:49:15,307 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61729] open and established
DEBUG 2024-08-29 06:49:15,308 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61729] accepted by application
INFO 2024-08-29 06:49:15,308 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:49:15,316 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61729]
INFO 2024-08-29 06:49:15,323 basehttp 89757 6193016832 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 06:49:15,325 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61731] to WebSocket
INFO 2024-08-29 06:49:15,328 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:49:15,329 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61731] open and established
DEBUG 2024-08-29 06:49:15,329 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61731] accepted by application
INFO 2024-08-29 06:49:15,329 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:49:15,331 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61731]
INFO 2024-08-29 06:49:15,336 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:49:15,342 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61732] to WebSocket
INFO 2024-08-29 06:49:15,344 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:49:15,344 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61732] open and established
DEBUG 2024-08-29 06:49:15,344 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61732] accepted by application
INFO 2024-08-29 06:49:15,344 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:49:15,345 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61732]
DEBUG 2024-08-29 06:49:15,357 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61733] to WebSocket
INFO 2024-08-29 06:49:15,360 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:49:15,361 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61733] open and established
DEBUG 2024-08-29 06:49:15,361 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61733] accepted by application
INFO 2024-08-29 06:49:15,361 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:49:15,363 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61733]
DEBUG 2024-08-29 06:49:21,164 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61733]
DEBUG 2024-08-29 06:49:21,167 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61735] to WebSocket
INFO 2024-08-29 06:49:21,167 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-29 06:49:21,175 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:49:21,176 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61735] open and established
DEBUG 2024-08-29 06:49:21,176 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61735] accepted by application
INFO 2024-08-29 06:49:21,176 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:49:21,182 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61735]
DEBUG 2024-08-29 06:49:21,194 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61736] to WebSocket
INFO 2024-08-29 06:49:21,199 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:49:21,200 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61736] open and established
DEBUG 2024-08-29 06:49:21,200 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61736] accepted by application
INFO 2024-08-29 06:49:21,200 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:49:21,208 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61736]
DEBUG 2024-08-29 06:49:21,918 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61737] to WebSocket
INFO 2024-08-29 06:49:21,922 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:49:21,922 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61737] open and established
DEBUG 2024-08-29 06:49:21,923 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61737] accepted by application
INFO 2024-08-29 06:49:21,923 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:49:21,925 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61737]
INFO 2024-08-29 06:49:21,931 basehttp 89757 6193016832 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 06:49:21,940 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61738] to WebSocket
INFO 2024-08-29 06:49:21,944 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:49:21,945 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61738] open and established
DEBUG 2024-08-29 06:49:21,945 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61738] accepted by application
INFO 2024-08-29 06:49:21,945 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 06:49:21,947 basehttp 89757 6193016832 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:49:21,948 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61738]
DEBUG 2024-08-29 06:49:21,959 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61739] to WebSocket
INFO 2024-08-29 06:49:21,963 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:49:21,963 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61739] open and established
DEBUG 2024-08-29 06:49:21,963 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61739] accepted by application
INFO 2024-08-29 06:49:21,963 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:49:21,966 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61739]
DEBUG 2024-08-29 06:49:21,976 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61740] to WebSocket
INFO 2024-08-29 06:49:21,979 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:49:21,979 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61740] open and established
DEBUG 2024-08-29 06:49:21,979 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61740] accepted by application
INFO 2024-08-29 06:49:21,979 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:49:21,982 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61740]
INFO 2024-08-29 06:52:33,636 autoreload 92803 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 06:52:38,809 autoreload 92906 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 06:52:41,405 basehttp 92906 6167375872 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 06:52:41,409 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61740]
INFO 2024-08-29 06:52:41,411 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 06:52:46,528 basehttp 92906 6167375872 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 06:52:47,392 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61782] to WebSocket
INFO 2024-08-29 06:52:47,405 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:52:47,406 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61782] open and established
DEBUG 2024-08-29 06:52:47,407 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61782] accepted by application
INFO 2024-08-29 06:52:47,407 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:52:47,415 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61782]
INFO 2024-08-29 06:52:47,419 basehttp 92906 6201028608 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:52:47,419 basehttp 92906 6167375872 "GET /home HTTP/1.1" 200 1008
WARNING 2024-08-29 06:52:47,426 log 92906 6184202240 Not Found: /api/get_icon_color/
WARNING 2024-08-29 06:52:47,427 basehttp 92906 6184202240 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 06:52:47,427 basehttp 92906 6184202240 - Broken pipe from ('127.0.0.1', 61783)
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61596]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61782]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61594]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61737]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61736]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61732]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61729]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61597]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61731]
DEBUG 2024-08-29 06:52:47,428 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61739]
DEBUG 2024-08-29 06:52:47,429 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61738]
DEBUG 2024-08-29 06:52:47,429 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61735]
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:52:47,429 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:52:47,650 basehttp 92906 6167375872 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 06:52:47,654 basehttp 92906 6201028608 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:52:47,676 basehttp 92906 6201028608 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 06:52:47,701 basehttp 92906 6201028608 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 06:52:47,714 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61790] to WebSocket
INFO 2024-08-29 06:52:47,718 basehttp 92906 6201028608 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 06:52:47,723 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61790] open and established
DEBUG 2024-08-29 06:52:47,724 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61790] accepted by application
DEBUG 2024-08-29 06:52:47,731 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61790]
WARNING 2024-08-29 06:52:47,734 log 92906 6201028608 Not Found: /api/messages/
WARNING 2024-08-29 06:52:47,734 basehttp 92906 6201028608 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 06:52:47,738 log 92906 6201028608 Not Found: /api/messages/
WARNING 2024-08-29 06:52:47,738 basehttp 92906 6201028608 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 06:52:47,740 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61791] to WebSocket
INFO 2024-08-29 06:52:47,742 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 06:52:47,742 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61791] open and established
DEBUG 2024-08-29 06:52:47,742 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61791] accepted by application
INFO 2024-08-29 06:52:47,742 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 06:52:48,623 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 06:52:48,631 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61791]
DEBUG 2024-08-29 06:52:49,216 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61792] to WebSocket
INFO 2024-08-29 06:52:49,220 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:52:49,220 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61792] open and established
DEBUG 2024-08-29 06:52:49,220 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61792] accepted by application
INFO 2024-08-29 06:52:49,220 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:52:49,223 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61792]
INFO 2024-08-29 06:52:49,237 basehttp 92906 6167375872 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:52:49,238 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61794] to WebSocket
INFO 2024-08-29 06:52:49,241 basehttp 92906 6184202240 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
INFO 2024-08-29 06:52:49,241 basehttp 92906 6201028608 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:52:49,244 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:52:49,245 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61794] open and established
DEBUG 2024-08-29 06:52:49,245 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61794] accepted by application
INFO 2024-08-29 06:52:49,245 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:52:49,246 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61794]
INFO 2024-08-29 06:52:49,247 basehttp 92906 6201028608 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
INFO 2024-08-29 06:52:49,251 basehttp 92906 6201028608 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:52:49,252 basehttp 92906 6184202240 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:52:49,255 basehttp 92906 6184202240 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:52:49,256 basehttp 92906 6201028608 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:52:49,256 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61795] to WebSocket
INFO 2024-08-29 06:52:49,258 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:52:49,259 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61795] open and established
DEBUG 2024-08-29 06:52:49,259 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61795] accepted by application
INFO 2024-08-29 06:52:49,259 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:52:49,260 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61795]
DEBUG 2024-08-29 06:52:49,272 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61796] to WebSocket
INFO 2024-08-29 06:52:49,274 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:52:49,274 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61796] open and established
DEBUG 2024-08-29 06:52:49,274 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61796] accepted by application
INFO 2024-08-29 06:52:49,274 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:52:49,275 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61796]
DEBUG 2024-08-29 06:52:49,287 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61797] to WebSocket
INFO 2024-08-29 06:52:49,289 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:52:49,289 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61797] open and established
DEBUG 2024-08-29 06:52:49,289 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61797] accepted by application
INFO 2024-08-29 06:52:49,289 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:52:49,290 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61797]
DEBUG 2024-08-29 06:52:49,301 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61798] to WebSocket
INFO 2024-08-29 06:52:49,303 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:52:49,304 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61798] open and established
DEBUG 2024-08-29 06:52:49,304 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61798] accepted by application
INFO 2024-08-29 06:52:49,304 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:52:49,305 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61798]
DEBUG 2024-08-29 06:52:49,319 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 61799] to WebSocket
INFO 2024-08-29 06:52:49,324 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:52:49,324 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61799] open and established
DEBUG 2024-08-29 06:52:49,324 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 61799] accepted by application
INFO 2024-08-29 06:52:49,324 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:52:49,326 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 61799]
INFO 2024-08-29 06:53:38,642 basehttp 92906 6184202240 "GET /static/js/app.js.map HTTP/1.1" 200 110340
INFO 2024-08-29 06:53:38,682 basehttp 92906 6201028608 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
DEBUG 2024-08-29 06:54:53,317 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61798]
INFO 2024-08-29 06:54:53,319 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 06:54:53,338 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 62092] to WebSocket
INFO 2024-08-29 06:54:53,342 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:54:53,342 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62092] open and established
DEBUG 2024-08-29 06:54:53,342 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62092] accepted by application
INFO 2024-08-29 06:54:53,342 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:54:53,345 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62092]
INFO 2024-08-29 06:54:53,349 basehttp 92906 6201028608 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 06:54:53,362 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 62093] to WebSocket
INFO 2024-08-29 06:54:53,366 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-08-29 06:54:53,367 basehttp 92906 6201028608 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:54:53,367 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62093] open and established
DEBUG 2024-08-29 06:54:53,367 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62093] accepted by application
INFO 2024-08-29 06:54:53,367 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:54:53,372 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62093]
DEBUG 2024-08-29 06:54:53,381 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 62094] to WebSocket
INFO 2024-08-29 06:54:53,385 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:54:53,385 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62094] open and established
DEBUG 2024-08-29 06:54:53,385 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62094] accepted by application
INFO 2024-08-29 06:54:53,385 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:54:53,388 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62094]
DEBUG 2024-08-29 06:54:53,399 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 62095] to WebSocket
INFO 2024-08-29 06:54:53,403 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:54:53,403 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62095] open and established
DEBUG 2024-08-29 06:54:53,403 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62095] accepted by application
INFO 2024-08-29 06:54:53,404 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:54:53,405 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62095]
DEBUG 2024-08-29 06:54:54,097 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 62095]
INFO 2024-08-29 06:54:54,098 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 06:54:54,113 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 62096] to WebSocket
INFO 2024-08-29 06:54:54,118 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:54:54,119 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62096] open and established
DEBUG 2024-08-29 06:54:54,119 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62096] accepted by application
INFO 2024-08-29 06:54:54,119 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:54:54,122 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62096]
INFO 2024-08-29 06:54:54,125 basehttp 92906 6201028608 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 06:54:54,135 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 62097] to WebSocket
INFO 2024-08-29 06:54:54,138 basehttp 92906 6201028608 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:54:54,140 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:54:54,140 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62097] open and established
DEBUG 2024-08-29 06:54:54,140 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62097] accepted by application
INFO 2024-08-29 06:54:54,140 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:54:54,146 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62097]
DEBUG 2024-08-29 06:54:54,153 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 62098] to WebSocket
INFO 2024-08-29 06:54:54,156 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:54:54,157 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62098] open and established
DEBUG 2024-08-29 06:54:54,157 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62098] accepted by application
INFO 2024-08-29 06:54:54,157 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:54:54,159 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62098]
DEBUG 2024-08-29 06:54:54,169 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 62099] to WebSocket
INFO 2024-08-29 06:54:54,173 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 06:54:54,173 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62099] open and established
DEBUG 2024-08-29 06:54:54,173 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 62099] accepted by application
INFO 2024-08-29 06:54:54,173 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 06:54:54,175 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62099]
INFO 2024-08-29 06:54:59,927 basehttp 92906 6201028608 "GET /static/js/app.js.map HTTP/1.1" 200 110340
INFO 2024-08-29 06:54:59,957 basehttp 92906 6184202240 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 06:58:34,576 autoreload 93245 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 06:58:37,379 basehttp 93245 6132297728 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 06:58:37,382 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 62099]
INFO 2024-08-29 06:58:37,382 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-29 06:58:37,418 basehttp 93245 6132297728 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
DEBUG 2024-08-29 06:58:40,846 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61794]
DEBUG 2024-08-29 06:58:40,846 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 62092]
DEBUG 2024-08-29 06:58:40,846 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61792]
DEBUG 2024-08-29 06:58:40,846 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61799]
DEBUG 2024-08-29 06:58:40,846 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61790]
DEBUG 2024-08-29 06:58:40,846 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 62098]
DEBUG 2024-08-29 06:58:40,849 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61797]
DEBUG 2024-08-29 06:58:40,849 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 62096]
DEBUG 2024-08-29 06:58:40,850 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 62094]
DEBUG 2024-08-29 06:58:40,851 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 62097]
DEBUG 2024-08-29 06:58:40,851 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61795]
DEBUG 2024-08-29 06:58:40,851 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 62093]
DEBUG 2024-08-29 06:58:40,851 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 61796]
INFO 2024-08-29 06:58:40,851 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 06:58:40,852 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 06:58:42,373 basehttp 93245 6132297728 "GET / HTTP/1.1" 200 1008
INFO 2024-08-29 06:58:42,516 basehttp 93245 6132297728 "GET /api/check_login_status/ HTTP/1.1" 200 21
INFO 2024-08-29 06:58:42,528 basehttp 93245 6132297728 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-29 06:58:48,665 basehttp 93245 6132297728 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-29 06:58:50,574 basehttp 93245 6132297728 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 06:58:50,588 basehttp 93245 6165950464 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-29 06:58:50,605 log 93245 6149124096 Not Found: /api/get_icon_color/
WARNING 2024-08-29 06:58:50,606 basehttp 93245 6149124096 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 06:58:50,606 basehttp 93245 6149124096 - Broken pipe from ('127.0.0.1', 63086)
INFO 2024-08-29 06:58:50,689 basehttp 93245 6165950464 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 06:58:50,696 basehttp 93245 6132297728 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:58:50,722 basehttp 93245 6132297728 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 06:58:50,738 basehttp 93245 6132297728 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 06:58:50,750 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63090] to WebSocket
INFO 2024-08-29 06:58:50,757 basehttp 93245 6132297728 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 06:58:50,762 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63090] open and established
DEBUG 2024-08-29 06:58:50,762 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63090] accepted by application
WARNING 2024-08-29 06:58:50,763 log 93245 6132297728 Not Found: /api/messages/
WARNING 2024-08-29 06:58:50,763 basehttp 93245 6132297728 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 06:58:50,763 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63090]
WARNING 2024-08-29 06:58:50,767 log 93245 6132297728 Not Found: /api/messages/
WARNING 2024-08-29 06:58:50,767 basehttp 93245 6132297728 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 06:58:50,774 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63091] to WebSocket
INFO 2024-08-29 06:58:50,778 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 06:58:50,778 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63091] open and established
DEBUG 2024-08-29 06:58:50,778 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63091] accepted by application
INFO 2024-08-29 06:58:50,778 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 06:58:51,082 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 06:58:51,096 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63091]
DEBUG 2024-08-29 06:58:51,960 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63092] to WebSocket
INFO 2024-08-29 06:58:51,967 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:58:51,972 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63092] open and established
INFO 2024-08-29 06:58:51,978 basehttp 93245 6132297728 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 06:58:51,979 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63092] accepted by application
INFO 2024-08-29 06:58:51,985 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 06:58:51,987 basehttp 93245 6165950464 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 06:58:51,991 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63092]
INFO 2024-08-29 06:58:51,993 basehttp 93245 6149124096 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 06:58:51,995 basehttp 93245 6165950464 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 06:58:51,999 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63094] to WebSocket
INFO 2024-08-29 06:58:52,001 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:58:52,001 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63094] open and established
DEBUG 2024-08-29 06:58:52,001 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63094] accepted by application
INFO 2024-08-29 06:58:52,002 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:58:52,003 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63094]
INFO 2024-08-29 06:58:52,004 basehttp 93245 6165950464 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 06:58:52,004 basehttp 93245 6149124096 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:58:52,009 basehttp 93245 6165950464 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 06:58:52,010 basehttp 93245 6149124096 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 06:58:52,013 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63095] to WebSocket
INFO 2024-08-29 06:58:52,014 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:58:52,015 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63095] open and established
DEBUG 2024-08-29 06:58:52,015 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63095] accepted by application
INFO 2024-08-29 06:58:52,015 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:58:52,016 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63095]
DEBUG 2024-08-29 06:58:52,028 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63096] to WebSocket
INFO 2024-08-29 06:58:52,030 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:58:52,030 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63096] open and established
DEBUG 2024-08-29 06:58:52,030 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63096] accepted by application
INFO 2024-08-29 06:58:52,030 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:58:52,031 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63096]
DEBUG 2024-08-29 06:58:52,044 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63097] to WebSocket
INFO 2024-08-29 06:58:52,047 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:58:52,047 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63097] open and established
DEBUG 2024-08-29 06:58:52,047 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63097] accepted by application
INFO 2024-08-29 06:58:52,047 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:58:52,049 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63097]
DEBUG 2024-08-29 06:58:52,062 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63098] to WebSocket
INFO 2024-08-29 06:58:52,066 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:58:52,067 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63098] open and established
DEBUG 2024-08-29 06:58:52,067 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63098] accepted by application
INFO 2024-08-29 06:58:52,067 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:58:52,068 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63098]
DEBUG 2024-08-29 06:58:52,082 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63099] to WebSocket
INFO 2024-08-29 06:58:52,084 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 06:58:52,084 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63099] open and established
DEBUG 2024-08-29 06:58:52,084 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63099] accepted by application
INFO 2024-08-29 06:58:52,084 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 06:58:52,086 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63099]
INFO 2024-08-29 06:58:58,425 basehttp 93245 6149124096 "GET /static/js/app.js.map HTTP/1.1" 200 110299
INFO 2024-08-29 06:58:58,447 basehttp 93245 6149124096 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 07:00:06,554 autoreload 93506 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:00:09,222 basehttp 93506 6166032384 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:00:09,224 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63099]
INFO 2024-08-29 07:00:09,225 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:00:09,261 basehttp 93506 6166032384 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:00:14,310 basehttp 93506 6166032384 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:00:15,373 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63212] to WebSocket
INFO 2024-08-29 07:00:15,383 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-08-29 07:00:15,389 basehttp 93506 6199685120 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:00:15,393 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63212] open and established
DEBUG 2024-08-29 07:00:15,398 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63212] accepted by application
INFO 2024-08-29 07:00:15,399 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:00:15,401 basehttp 93506 6166032384 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-29 07:00:15,401 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63212]
WARNING 2024-08-29 07:00:15,406 log 93506 6182858752 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:00:15,406 basehttp 93506 6182858752 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 07:00:15,415 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63098]
DEBUG 2024-08-29 07:00:15,415 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63212]
DEBUG 2024-08-29 07:00:15,415 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63090]
DEBUG 2024-08-29 07:00:15,415 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63094]
DEBUG 2024-08-29 07:00:15,415 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63096]
DEBUG 2024-08-29 07:00:15,415 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63097]
DEBUG 2024-08-29 07:00:15,415 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63092]
DEBUG 2024-08-29 07:00:15,416 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63095]
INFO 2024-08-29 07:00:15,416 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:15,416 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:15,416 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:15,416 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:15,416 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:15,416 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:15,416 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:15,551 basehttp 93506 6182858752 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:00:15,553 basehttp 93506 6166032384 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:00:15,574 basehttp 93506 6166032384 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:00:15,629 basehttp 93506 6166032384 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:00:15,637 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63218] to WebSocket
INFO 2024-08-29 07:00:15,644 basehttp 93506 6166032384 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 07:00:15,646 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63218] open and established
DEBUG 2024-08-29 07:00:15,646 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63218] accepted by application
DEBUG 2024-08-29 07:00:15,648 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63218]
WARNING 2024-08-29 07:00:15,655 log 93506 6166032384 Not Found: /api/messages/
WARNING 2024-08-29 07:00:15,655 basehttp 93506 6166032384 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:00:15,659 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63219] to WebSocket
WARNING 2024-08-29 07:00:15,661 log 93506 6166032384 Not Found: /api/messages/
WARNING 2024-08-29 07:00:15,662 basehttp 93506 6166032384 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:00:15,665 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:00:15,665 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63219] open and established
DEBUG 2024-08-29 07:00:15,665 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63219] accepted by application
INFO 2024-08-29 07:00:15,665 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 07:00:16,180 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:00:16,188 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63219]
DEBUG 2024-08-29 07:00:16,473 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63220] to WebSocket
INFO 2024-08-29 07:00:16,477 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:16,478 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63220] open and established
DEBUG 2024-08-29 07:00:16,478 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63220] accepted by application
INFO 2024-08-29 07:00:16,478 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:16,480 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63220]
INFO 2024-08-29 07:00:16,492 basehttp 93506 6182858752 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:00:16,495 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63221] to WebSocket
INFO 2024-08-29 07:00:16,499 basehttp 93506 6199685120 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:00:16,500 basehttp 93506 6166032384 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:00:16,500 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:16,501 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63221] open and established
DEBUG 2024-08-29 07:00:16,502 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63221] accepted by application
INFO 2024-08-29 07:00:16,503 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:16,505 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63221]
INFO 2024-08-29 07:00:16,507 basehttp 93506 6166032384 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:00:16,514 basehttp 93506 6166032384 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:00:16,515 basehttp 93506 6199685120 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:00:16,516 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63222] to WebSocket
INFO 2024-08-29 07:00:16,518 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-08-29 07:00:16,518 basehttp 93506 6166032384 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:00:16,518 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63222] open and established
DEBUG 2024-08-29 07:00:16,518 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63222] accepted by application
INFO 2024-08-29 07:00:16,518 basehttp 93506 6199685120 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:00:16,518 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:16,519 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63222]
DEBUG 2024-08-29 07:00:16,532 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63223] to WebSocket
INFO 2024-08-29 07:00:16,534 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:16,534 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63223] open and established
DEBUG 2024-08-29 07:00:16,534 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63223] accepted by application
INFO 2024-08-29 07:00:16,534 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:16,535 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63223]
DEBUG 2024-08-29 07:00:16,547 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63224] to WebSocket
INFO 2024-08-29 07:00:16,549 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:16,549 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63224] open and established
DEBUG 2024-08-29 07:00:16,549 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63224] accepted by application
INFO 2024-08-29 07:00:16,549 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:16,550 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63224]
DEBUG 2024-08-29 07:00:16,562 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63225] to WebSocket
INFO 2024-08-29 07:00:16,566 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:16,566 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63225] open and established
DEBUG 2024-08-29 07:00:16,567 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63225] accepted by application
INFO 2024-08-29 07:00:16,567 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:16,568 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63225]
DEBUG 2024-08-29 07:00:16,581 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63226] to WebSocket
INFO 2024-08-29 07:00:16,584 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:16,584 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63226] open and established
DEBUG 2024-08-29 07:00:16,584 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63226] accepted by application
INFO 2024-08-29 07:00:16,584 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:16,586 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63226]
INFO 2024-08-29 07:00:27,000 autoreload 93611 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:00:29,232 basehttp 93611 6167310336 "GET /room/1 HTTP/1.1" 200 1008
DEBUG 2024-08-29 07:00:29,238 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63226]
DEBUG 2024-08-29 07:00:29,238 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63222]
DEBUG 2024-08-29 07:00:29,238 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63220]
DEBUG 2024-08-29 07:00:29,239 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63218]
DEBUG 2024-08-29 07:00:29,239 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63225]
DEBUG 2024-08-29 07:00:29,239 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63224]
DEBUG 2024-08-29 07:00:29,239 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63223]
DEBUG 2024-08-29 07:00:29,240 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63221]
INFO 2024-08-29 07:00:29,240 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:29,240 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:29,240 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:29,241 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:29,241 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:29,241 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:29,241 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:29,349 basehttp 93611 6167310336 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:00:29,353 basehttp 93611 6200963072 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:00:29,354 basehttp 93611 6184136704 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:00:29,371 basehttp 93611 6200963072 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:00:29,389 basehttp 93611 6200963072 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:00:29,395 basehttp 93611 6200963072 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:00:29,398 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63232] to WebSocket
INFO 2024-08-29 07:00:29,398 basehttp 93611 6184136704 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:00:29,403 basehttp 93611 6200963072 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:00:29,404 basehttp 93611 6167310336 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:00:29,405 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63232] open and established
DEBUG 2024-08-29 07:00:29,405 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63232] accepted by application
DEBUG 2024-08-29 07:00:29,406 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63232]
DEBUG 2024-08-29 07:00:29,420 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63233] to WebSocket
INFO 2024-08-29 07:00:29,424 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:29,425 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63233] open and established
DEBUG 2024-08-29 07:00:29,425 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63233] accepted by application
INFO 2024-08-29 07:00:29,425 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:29,427 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63233]
DEBUG 2024-08-29 07:00:29,438 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63234] to WebSocket
INFO 2024-08-29 07:00:29,442 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:29,442 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63234] open and established
DEBUG 2024-08-29 07:00:29,442 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63234] accepted by application
INFO 2024-08-29 07:00:29,442 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:29,444 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63234]
DEBUG 2024-08-29 07:00:29,457 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63235] to WebSocket
INFO 2024-08-29 07:00:29,462 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:29,462 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63235] open and established
DEBUG 2024-08-29 07:00:29,462 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63235] accepted by application
INFO 2024-08-29 07:00:29,462 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:29,463 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63235]
INFO 2024-08-29 07:00:30,971 basehttp 93611 6167310336 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:00:30,976 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63235]
INFO 2024-08-29 07:00:30,977 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:00:31,008 basehttp 93611 6167310336 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-29 07:00:35,625 basehttp 93611 6167310336 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:00:36,978 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63236] to WebSocket
INFO 2024-08-29 07:00:36,986 basehttp 93611 6167310336 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:00:36,992 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:36,992 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63236] open and established
DEBUG 2024-08-29 07:00:36,992 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63236] accepted by application
INFO 2024-08-29 07:00:36,992 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:00:36,994 basehttp 93611 6184136704 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:00:36,994 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63236]
DEBUG 2024-08-29 07:00:36,996 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63232]
DEBUG 2024-08-29 07:00:36,997 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63234]
DEBUG 2024-08-29 07:00:36,997 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63233]
INFO 2024-08-29 07:00:36,997 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:36,997 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
WARNING 2024-08-29 07:00:36,999 log 93611 6200963072 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:00:36,999 basehttp 93611 6200963072 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 07:00:36,999 basehttp 93611 6200963072 - Broken pipe from ('127.0.0.1', 63231)
DEBUG 2024-08-29 07:00:37,000 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63236]
INFO 2024-08-29 07:00:37,000 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:00:37,087 basehttp 93611 6184136704 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:00:37,093 basehttp 93611 6167310336 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:00:37,110 basehttp 93611 6167310336 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:00:37,134 basehttp 93611 6167310336 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:00:37,134 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63237] to WebSocket
DEBUG 2024-08-29 07:00:37,140 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63237] open and established
DEBUG 2024-08-29 07:00:37,140 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63237] accepted by application
DEBUG 2024-08-29 07:00:37,141 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63237]
INFO 2024-08-29 07:00:37,143 basehttp 93611 6167310336 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 07:00:37,150 log 93611 6167310336 Not Found: /api/messages/
WARNING 2024-08-29 07:00:37,150 basehttp 93611 6167310336 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:00:37,152 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63238] to WebSocket
WARNING 2024-08-29 07:00:37,156 log 93611 6167310336 Not Found: /api/messages/
WARNING 2024-08-29 07:00:37,157 basehttp 93611 6167310336 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:00:37,158 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:00:37,158 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63238] open and established
DEBUG 2024-08-29 07:00:37,158 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63238] accepted by application
INFO 2024-08-29 07:00:37,158 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 07:00:37,219 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:00:37,225 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63238]
DEBUG 2024-08-29 07:00:38,710 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63239] to WebSocket
INFO 2024-08-29 07:00:38,715 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:38,715 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63239] open and established
DEBUG 2024-08-29 07:00:38,715 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63239] accepted by application
INFO 2024-08-29 07:00:38,715 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:38,718 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63239]
INFO 2024-08-29 07:00:38,730 basehttp 93611 6184136704 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:00:38,741 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63241] to WebSocket
INFO 2024-08-29 07:00:38,745 basehttp 93611 6167310336 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:00:38,746 basehttp 93611 6200963072 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:00:38,747 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:38,747 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63241] open and established
DEBUG 2024-08-29 07:00:38,747 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63241] accepted by application
INFO 2024-08-29 07:00:38,747 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:38,750 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63241]
INFO 2024-08-29 07:00:38,750 basehttp 93611 6184136704 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:00:38,756 basehttp 93611 6184136704 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:00:38,758 basehttp 93611 6200963072 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:00:38,759 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63242] to WebSocket
INFO 2024-08-29 07:00:38,760 basehttp 93611 6184136704 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:00:38,761 basehttp 93611 6200963072 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:00:38,761 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:38,761 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63242] open and established
DEBUG 2024-08-29 07:00:38,761 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63242] accepted by application
INFO 2024-08-29 07:00:38,761 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:38,763 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63242]
DEBUG 2024-08-29 07:00:38,774 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63243] to WebSocket
INFO 2024-08-29 07:00:38,776 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:38,776 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63243] open and established
DEBUG 2024-08-29 07:00:38,776 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63243] accepted by application
INFO 2024-08-29 07:00:38,776 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:38,777 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63243]
DEBUG 2024-08-29 07:00:38,790 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63244] to WebSocket
INFO 2024-08-29 07:00:38,791 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:38,791 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63244] open and established
DEBUG 2024-08-29 07:00:38,791 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63244] accepted by application
INFO 2024-08-29 07:00:38,791 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:38,793 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63244]
DEBUG 2024-08-29 07:00:38,805 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63245] to WebSocket
INFO 2024-08-29 07:00:38,809 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:38,809 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63245] open and established
DEBUG 2024-08-29 07:00:38,809 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63245] accepted by application
INFO 2024-08-29 07:00:38,809 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:38,810 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63245]
DEBUG 2024-08-29 07:00:38,823 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 63246] to WebSocket
INFO 2024-08-29 07:00:38,828 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:00:38,828 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63246] open and established
DEBUG 2024-08-29 07:00:38,828 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 63246] accepted by application
INFO 2024-08-29 07:00:38,828 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:00:38,830 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63246]
INFO 2024-08-29 07:01:22,578 basehttp 93611 6184136704 "GET /static/js/app.js.map HTTP/1.1" 200 110299
INFO 2024-08-29 07:01:22,606 basehttp 93611 6200963072 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 07:05:58,534 autoreload 93979 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:06:02,718 basehttp 93979 6201765888 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:06:02,724 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63246]
INFO 2024-08-29 07:06:02,725 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:06:02,761 basehttp 93979 6201765888 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:06:09,003 basehttp 93979 6201765888 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:06:10,024 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64431] to WebSocket
INFO 2024-08-29 07:06:10,037 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:06:10,038 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64431] open and established
DEBUG 2024-08-29 07:06:10,038 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64431] accepted by application
INFO 2024-08-29 07:06:10,038 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:06:10,042 basehttp 93979 6235418624 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:06:10,045 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64431]
INFO 2024-08-29 07:06:10,048 basehttp 93979 6201765888 "GET /home HTTP/1.1" 200 1008
WARNING 2024-08-29 07:06:10,053 log 93979 6218592256 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:06:10,054 basehttp 93979 6218592256 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 07:06:10,073 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63243]
DEBUG 2024-08-29 07:06:10,073 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63237]
DEBUG 2024-08-29 07:06:10,073 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63244]
DEBUG 2024-08-29 07:06:10,074 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63241]
DEBUG 2024-08-29 07:06:10,074 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63242]
DEBUG 2024-08-29 07:06:10,074 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64431]
DEBUG 2024-08-29 07:06:10,074 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63245]
DEBUG 2024-08-29 07:06:10,074 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 63239]
INFO 2024-08-29 07:06:10,074 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:06:10,074 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:06:10,074 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:06:10,074 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:06:10,074 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:06:10,074 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:06:10,075 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:06:10,089 basehttp 93979 6201765888 "GET /static/css/app.css HTTP/1.1" 200 3089
INFO 2024-08-29 07:06:10,089 basehttp 93979 6218592256 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:06:10,123 basehttp 93979 6201765888 "GET /static/js/app.js HTTP/1.1" 200 37628
INFO 2024-08-29 07:06:10,149 basehttp 93979 6218592256 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:06:10,388 basehttp 93979 6218592256 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:06:10,390 basehttp 93979 6201765888 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:06:10,397 basehttp 93979 6201765888 "GET /static/js/app.js.map HTTP/1.1" 200 110251
INFO 2024-08-29 07:06:10,433 basehttp 93979 6201765888 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 07:06:10,446 basehttp 93979 6201765888 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:06:10,474 basehttp 93979 6201765888 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:06:10,483 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64442] to WebSocket
DEBUG 2024-08-29 07:06:10,485 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64442] open and established
DEBUG 2024-08-29 07:06:10,485 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64442] accepted by application
DEBUG 2024-08-29 07:06:10,486 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64442]
INFO 2024-08-29 07:06:10,491 basehttp 93979 6201765888 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 07:06:10,498 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64443] to WebSocket
WARNING 2024-08-29 07:06:10,499 log 93979 6201765888 Not Found: /api/messages/
INFO 2024-08-29 07:06:10,502 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
WARNING 2024-08-29 07:06:10,512 basehttp 93979 6201765888 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:06:10,512 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64443] open and established
DEBUG 2024-08-29 07:06:10,512 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64443] accepted by application
INFO 2024-08-29 07:06:10,512 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 07:06:10,519 log 93979 6201765888 Not Found: /api/messages/
WARNING 2024-08-29 07:06:10,519 basehttp 93979 6201765888 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:06:10,652 basehttp 93979 6201765888 "GET /static/chat.svg HTTP/1.1" 200 405
ERROR 2024-08-29 07:06:10,653 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:06:10,661 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64443]
DEBUG 2024-08-29 07:06:12,070 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64448] to WebSocket
INFO 2024-08-29 07:06:12,080 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:06:12,081 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64448] open and established
DEBUG 2024-08-29 07:06:12,081 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64448] accepted by application
INFO 2024-08-29 07:06:12,081 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:06:12,090 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64448]
DEBUG 2024-08-29 07:06:12,097 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64449] to WebSocket
INFO 2024-08-29 07:06:12,097 basehttp 93979 6201765888 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:06:12,099 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:06:12,099 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64449] open and established
DEBUG 2024-08-29 07:06:12,099 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64449] accepted by application
INFO 2024-08-29 07:06:12,099 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:06:12,099 basehttp 93979 6218592256 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:06:12,101 basehttp 93979 6235418624 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:06:12,101 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64449]
DEBUG 2024-08-29 07:06:12,113 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64450] to WebSocket
INFO 2024-08-29 07:06:12,115 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:06:12,115 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64450] open and established
DEBUG 2024-08-29 07:06:12,115 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64450] accepted by application
INFO 2024-08-29 07:06:12,115 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:06:12,117 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64450]
INFO 2024-08-29 07:06:12,117 basehttp 93979 6235418624 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:06:12,125 basehttp 93979 6235418624 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:06:12,126 basehttp 93979 6218592256 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:06:12,127 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64451] to WebSocket
INFO 2024-08-29 07:06:12,130 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:06:12,130 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64451] open and established
DEBUG 2024-08-29 07:06:12,130 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64451] accepted by application
INFO 2024-08-29 07:06:12,130 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:06:12,131 basehttp 93979 6218592256 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:06:12,131 basehttp 93979 6235418624 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:06:12,132 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64451]
DEBUG 2024-08-29 07:06:12,142 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64452] to WebSocket
INFO 2024-08-29 07:06:12,143 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:06:12,144 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64452] open and established
DEBUG 2024-08-29 07:06:12,144 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64452] accepted by application
INFO 2024-08-29 07:06:12,144 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:06:12,145 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64452]
DEBUG 2024-08-29 07:06:12,156 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64453] to WebSocket
INFO 2024-08-29 07:06:12,157 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:06:12,157 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64453] open and established
DEBUG 2024-08-29 07:06:12,157 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64453] accepted by application
INFO 2024-08-29 07:06:12,157 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:06:12,159 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64453]
DEBUG 2024-08-29 07:06:12,171 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 64454] to WebSocket
INFO 2024-08-29 07:06:12,175 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:06:12,176 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64454] open and established
DEBUG 2024-08-29 07:06:12,176 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 64454] accepted by application
INFO 2024-08-29 07:06:12,176 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:06:12,177 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64454]
INFO 2024-08-29 07:06:55,996 basehttp 93979 6218592256 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 07:06:55,996 basehttp 93979 6235418624 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 07:06:56,028 basehttp 93979 6235418624 "GET /static/js/app.js.map HTTP/1.1" 200 110251
INFO 2024-08-29 07:06:56,055 basehttp 93979 6218592256 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 07:11:17,751 autoreload 94381 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:12:06,694 basehttp 94381 6195015680 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:12:06,702 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64454]
INFO 2024-08-29 07:12:06,703 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:12:06,733 basehttp 94381 6195015680 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:12:14,274 basehttp 94381 6195015680 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:12:15,550 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49513] to WebSocket
INFO 2024-08-29 07:12:15,567 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:15,567 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49513] open and established
DEBUG 2024-08-29 07:12:15,568 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49513] accepted by application
INFO 2024-08-29 07:12:15,568 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:15,572 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49513]
INFO 2024-08-29 07:12:15,573 basehttp 94381 6228668416 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:15,574 basehttp 94381 6195015680 "GET /home HTTP/1.1" 200 1008
WARNING 2024-08-29 07:12:15,579 log 94381 6211842048 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:12:15,579 basehttp 94381 6211842048 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 07:12:15,584 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64449]
DEBUG 2024-08-29 07:12:15,585 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64453]
DEBUG 2024-08-29 07:12:15,585 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64448]
DEBUG 2024-08-29 07:12:15,585 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64451]
DEBUG 2024-08-29 07:12:15,585 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64442]
DEBUG 2024-08-29 07:12:15,585 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64450]
DEBUG 2024-08-29 07:12:15,585 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 64452]
DEBUG 2024-08-29 07:12:15,585 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49513]
INFO 2024-08-29 07:12:15,586 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:15,586 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:15,586 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:15,586 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:15,586 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:15,586 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:15,586 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:15,603 basehttp 94381 6211842048 "GET /static/css/app.css HTTP/1.1" 200 2878
INFO 2024-08-29 07:12:15,605 basehttp 94381 6195015680 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:12:15,608 basehttp 94381 6211842048 "GET /static/js/app.js HTTP/1.1" 200 37530
INFO 2024-08-29 07:12:15,629 basehttp 94381 6195015680 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:12:15,774 basehttp 94381 6195015680 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:12:15,781 basehttp 94381 6211842048 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:15,807 basehttp 94381 6211842048 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:12:15,870 basehttp 94381 6211842048 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:12:15,875 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49519] to WebSocket
INFO 2024-08-29 07:12:15,886 basehttp 94381 6211842048 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-29 07:12:15,887 basehttp 94381 6195015680 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 07:12:15,888 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49519] open and established
DEBUG 2024-08-29 07:12:15,888 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49519] accepted by application
DEBUG 2024-08-29 07:12:15,889 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49519]
WARNING 2024-08-29 07:12:15,890 log 94381 6195015680 Not Found: /api/messages/
WARNING 2024-08-29 07:12:15,891 basehttp 94381 6195015680 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 07:12:15,894 log 94381 6195015680 Not Found: /api/messages/
WARNING 2024-08-29 07:12:15,894 basehttp 94381 6195015680 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:12:15,902 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49520] to WebSocket
INFO 2024-08-29 07:12:15,903 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:12:15,903 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49520] open and established
DEBUG 2024-08-29 07:12:15,903 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49520] accepted by application
INFO 2024-08-29 07:12:15,903 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 07:12:16,107 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:12:16,120 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49520]
DEBUG 2024-08-29 07:12:17,012 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49521] to WebSocket
INFO 2024-08-29 07:12:17,017 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:17,017 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49521] open and established
DEBUG 2024-08-29 07:12:17,017 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49521] accepted by application
INFO 2024-08-29 07:12:17,017 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:17,020 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49521]
INFO 2024-08-29 07:12:17,032 basehttp 94381 6195015680 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:12:17,033 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49522] to WebSocket
INFO 2024-08-29 07:12:17,038 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:17,038 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49522] open and established
DEBUG 2024-08-29 07:12:17,038 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49522] accepted by application
INFO 2024-08-29 07:12:17,038 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:12:17,044 basehttp 94381 6228668416 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:12:17,045 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49522]
INFO 2024-08-29 07:12:17,047 basehttp 94381 6211842048 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:12:17,055 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49523] to WebSocket
INFO 2024-08-29 07:12:17,057 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:17,058 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49523] open and established
DEBUG 2024-08-29 07:12:17,058 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49523] accepted by application
INFO 2024-08-29 07:12:17,058 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:17,060 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49523]
INFO 2024-08-29 07:12:17,060 basehttp 94381 6228668416 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:17,061 basehttp 94381 6211842048 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:12:17,062 basehttp 94381 6195015680 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:12:17,069 basehttp 94381 6195015680 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:12:17,070 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49524] to WebSocket
INFO 2024-08-29 07:12:17,080 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:17,080 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49524] open and established
DEBUG 2024-08-29 07:12:17,080 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49524] accepted by application
INFO 2024-08-29 07:12:17,080 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:17,081 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49524]
DEBUG 2024-08-29 07:12:17,093 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49525] to WebSocket
INFO 2024-08-29 07:12:17,103 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:17,104 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49525] open and established
DEBUG 2024-08-29 07:12:17,104 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49525] accepted by application
INFO 2024-08-29 07:12:17,110 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:17,113 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49525]
DEBUG 2024-08-29 07:12:17,123 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49526] to WebSocket
INFO 2024-08-29 07:12:17,126 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:17,126 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49526] open and established
DEBUG 2024-08-29 07:12:17,126 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49526] accepted by application
INFO 2024-08-29 07:12:17,126 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:17,128 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49526]
DEBUG 2024-08-29 07:12:17,142 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49527] to WebSocket
INFO 2024-08-29 07:12:17,146 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:17,147 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49527] open and established
DEBUG 2024-08-29 07:12:17,147 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49527] accepted by application
INFO 2024-08-29 07:12:17,147 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:17,149 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49527]
DEBUG 2024-08-29 07:12:23,320 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49527]
INFO 2024-08-29 07:12:23,320 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 07:12:23,336 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49528] to WebSocket
INFO 2024-08-29 07:12:23,342 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:23,342 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49528] open and established
DEBUG 2024-08-29 07:12:23,342 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49528] accepted by application
INFO 2024-08-29 07:12:23,342 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:23,346 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49528]
INFO 2024-08-29 07:12:23,350 basehttp 94381 6195015680 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:12:23,358 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49529] to WebSocket
INFO 2024-08-29 07:12:23,360 basehttp 94381 6195015680 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:23,362 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:23,362 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49529] open and established
DEBUG 2024-08-29 07:12:23,362 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49529] accepted by application
INFO 2024-08-29 07:12:23,362 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:23,364 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49529]
DEBUG 2024-08-29 07:12:23,376 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49530] to WebSocket
INFO 2024-08-29 07:12:23,379 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:23,379 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49530] open and established
DEBUG 2024-08-29 07:12:23,379 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49530] accepted by application
INFO 2024-08-29 07:12:23,379 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:23,382 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49530]
DEBUG 2024-08-29 07:12:23,393 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49531] to WebSocket
INFO 2024-08-29 07:12:23,396 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:23,397 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49531] open and established
DEBUG 2024-08-29 07:12:23,397 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49531] accepted by application
INFO 2024-08-29 07:12:23,397 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:23,399 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49531]
DEBUG 2024-08-29 07:12:25,853 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49531]
INFO 2024-08-29 07:12:25,854 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 07:12:25,865 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49532] to WebSocket
INFO 2024-08-29 07:12:25,868 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:25,869 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49532] open and established
DEBUG 2024-08-29 07:12:25,869 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49532] accepted by application
INFO 2024-08-29 07:12:25,869 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:25,873 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49532]
DEBUG 2024-08-29 07:12:25,884 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49533] to WebSocket
INFO 2024-08-29 07:12:25,887 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:25,887 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49533] open and established
DEBUG 2024-08-29 07:12:25,887 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49533] accepted by application
INFO 2024-08-29 07:12:25,887 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:25,888 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49533]
INFO 2024-08-29 07:12:25,889 basehttp 94381 6195015680 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:12:25,901 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49534] to WebSocket
INFO 2024-08-29 07:12:25,902 basehttp 94381 6195015680 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:25,904 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:25,904 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49534] open and established
DEBUG 2024-08-29 07:12:25,904 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49534] accepted by application
INFO 2024-08-29 07:12:25,904 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:25,905 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49534]
DEBUG 2024-08-29 07:12:25,918 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49535] to WebSocket
INFO 2024-08-29 07:12:25,920 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:25,920 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49535] open and established
DEBUG 2024-08-29 07:12:25,920 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49535] accepted by application
INFO 2024-08-29 07:12:25,920 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:25,921 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49535]
INFO 2024-08-29 07:12:31,008 basehttp 94381 6195015680 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 07:12:31,008 basehttp 94381 6211842048 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 07:12:31,305 basehttp 94381 6195015680 "GET /static/js/app.js.map HTTP/1.1" 200 110036
INFO 2024-08-29 07:12:31,340 basehttp 94381 6211842048 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
DEBUG 2024-08-29 07:12:33,844 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49535]
INFO 2024-08-29 07:12:33,844 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 07:12:33,873 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49548] to WebSocket
INFO 2024-08-29 07:12:33,878 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:33,878 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49548] open and established
DEBUG 2024-08-29 07:12:33,879 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49548] accepted by application
INFO 2024-08-29 07:12:33,880 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:33,884 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49548]
INFO 2024-08-29 07:12:33,891 basehttp 94381 6211842048 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:12:33,894 basehttp 94381 6228668416 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:33,894 basehttp 94381 6195015680 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:12:33,903 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49533]
INFO 2024-08-29 07:12:33,913 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
DEBUG 2024-08-29 07:12:33,914 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49521]
DEBUG 2024-08-29 07:12:33,914 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49523]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49528]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49525]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49522]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49529]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49530]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49524]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49519]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49526]
DEBUG 2024-08-29 07:12:33,915 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49548]
DEBUG 2024-08-29 07:12:33,916 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49532]
DEBUG 2024-08-29 07:12:33,916 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49534]
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,916 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:12:33,924 basehttp 94381 6228668416 "GET /static/css/app.css HTTP/1.1" 200 2878
INFO 2024-08-29 07:12:33,924 basehttp 94381 6195015680 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:12:33,952 basehttp 94381 6228668416 "GET /static/js/app.js HTTP/1.1" 200 37530
INFO 2024-08-29 07:12:33,972 basehttp 94381 6195015680 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:12:34,198 basehttp 94381 6195015680 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:12:34,200 basehttp 94381 6245494784 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:34,200 basehttp 94381 6228668416 "GET /static/js/app.js.map HTTP/1.1" 200 110036
INFO 2024-08-29 07:12:34,225 basehttp 94381 6228668416 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:12:34,233 basehttp 94381 6211842048 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
DEBUG 2024-08-29 07:12:34,270 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49555] to WebSocket
INFO 2024-08-29 07:12:34,270 basehttp 94381 6211842048 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:12:34,278 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49555] open and established
DEBUG 2024-08-29 07:12:34,278 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49555] accepted by application
DEBUG 2024-08-29 07:12:34,280 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49555]
INFO 2024-08-29 07:12:34,283 basehttp 94381 6211842048 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 07:12:34,287 log 94381 6211842048 Not Found: /api/messages/
WARNING 2024-08-29 07:12:34,288 basehttp 94381 6211842048 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:12:34,290 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49556] to WebSocket
WARNING 2024-08-29 07:12:34,291 log 94381 6211842048 Not Found: /api/messages/
WARNING 2024-08-29 07:12:34,291 basehttp 94381 6211842048 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:12:34,291 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:12:34,291 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49556] open and established
DEBUG 2024-08-29 07:12:34,291 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49556] accepted by application
INFO 2024-08-29 07:12:34,292 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
INFO 2024-08-29 07:12:34,454 basehttp 94381 6211842048 "GET /static/chat.svg HTTP/1.1" 200 405
ERROR 2024-08-29 07:12:35,139 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:12:35,143 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49556]
DEBUG 2024-08-29 07:12:36,144 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49565] to WebSocket
INFO 2024-08-29 07:12:36,153 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:36,153 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49565] open and established
DEBUG 2024-08-29 07:12:36,153 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49565] accepted by application
INFO 2024-08-29 07:12:36,153 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:36,158 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49565]
DEBUG 2024-08-29 07:12:36,171 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49566] to WebSocket
INFO 2024-08-29 07:12:36,176 basehttp 94381 6211842048 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:12:36,183 basehttp 94381 6228668416 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:36,184 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:36,184 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49566] open and established
DEBUG 2024-08-29 07:12:36,184 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49566] accepted by application
INFO 2024-08-29 07:12:36,184 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-29 07:12:36,185 basehttp 94381 6245494784 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:12:36,186 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49566]
INFO 2024-08-29 07:12:36,195 basehttp 94381 6245494784 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:12:36,196 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49567] to WebSocket
INFO 2024-08-29 07:12:36,198 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:36,198 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49567] open and established
DEBUG 2024-08-29 07:12:36,198 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49567] accepted by application
INFO 2024-08-29 07:12:36,198 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:36,199 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49567]
INFO 2024-08-29 07:12:36,202 basehttp 94381 6245494784 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:12:36,203 basehttp 94381 6228668416 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:12:36,207 basehttp 94381 6228668416 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:12:36,207 basehttp 94381 6245494784 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:12:36,211 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49568] to WebSocket
INFO 2024-08-29 07:12:36,212 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:36,212 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49568] open and established
DEBUG 2024-08-29 07:12:36,212 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49568] accepted by application
INFO 2024-08-29 07:12:36,212 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:36,213 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49568]
DEBUG 2024-08-29 07:12:36,224 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49569] to WebSocket
INFO 2024-08-29 07:12:36,226 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:36,226 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49569] open and established
DEBUG 2024-08-29 07:12:36,226 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49569] accepted by application
INFO 2024-08-29 07:12:36,226 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:36,228 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49569]
DEBUG 2024-08-29 07:12:36,240 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49570] to WebSocket
INFO 2024-08-29 07:12:36,243 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:36,243 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49570] open and established
DEBUG 2024-08-29 07:12:36,243 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49570] accepted by application
INFO 2024-08-29 07:12:36,243 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:36,247 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49570]
DEBUG 2024-08-29 07:12:36,257 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49571] to WebSocket
INFO 2024-08-29 07:12:36,260 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:12:36,261 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49571] open and established
DEBUG 2024-08-29 07:12:36,261 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49571] accepted by application
INFO 2024-08-29 07:12:36,261 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:12:36,262 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49571]
DEBUG 2024-08-29 07:12:38,242 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49571]
INFO 2024-08-29 07:12:38,242 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 07:12:38,252 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49580] to WebSocket
INFO 2024-08-29 07:12:38,257 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:38,257 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49580] open and established
DEBUG 2024-08-29 07:12:38,257 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49580] accepted by application
INFO 2024-08-29 07:12:38,257 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:38,259 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49580]
INFO 2024-08-29 07:12:38,270 basehttp 94381 6245494784 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:12:38,275 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49581] to WebSocket
INFO 2024-08-29 07:12:38,279 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:38,279 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49581] open and established
DEBUG 2024-08-29 07:12:38,279 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49581] accepted by application
INFO 2024-08-29 07:12:38,279 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:38,281 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49581]
INFO 2024-08-29 07:12:38,289 basehttp 94381 6245494784 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:12:38,294 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49582] to WebSocket
INFO 2024-08-29 07:12:38,296 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:38,296 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49582] open and established
DEBUG 2024-08-29 07:12:38,297 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49582] accepted by application
INFO 2024-08-29 07:12:38,297 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:38,298 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49582]
DEBUG 2024-08-29 07:12:38,310 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49583] to WebSocket
INFO 2024-08-29 07:12:38,312 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:12:38,312 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49583] open and established
DEBUG 2024-08-29 07:12:38,312 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49583] accepted by application
INFO 2024-08-29 07:12:38,312 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:12:38,313 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49583]
INFO 2024-08-29 07:13:35,329 autoreload 94626 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:13:39,359 autoreload 94724 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:13:41,432 basehttp 94724 6204731392 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:13:41,434 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49583]
INFO 2024-08-29 07:13:41,435 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:13:41,486 basehttp 94724 6204731392 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:13:46,616 basehttp 94724 6204731392 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:13:47,376 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49871] to WebSocket
INFO 2024-08-29 07:13:47,392 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:13:47,393 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49871] open and established
DEBUG 2024-08-29 07:13:47,393 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49871] accepted by application
INFO 2024-08-29 07:13:47,393 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:13:47,395 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49871]
INFO 2024-08-29 07:13:47,395 basehttp 94724 6238384128 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:13:47,396 basehttp 94724 6204731392 "GET /home HTTP/1.1" 200 1008
WARNING 2024-08-29 07:13:47,402 log 94724 6221557760 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:13:47,402 basehttp 94724 6221557760 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 07:13:47,411 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49555]
DEBUG 2024-08-29 07:13:47,412 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49568]
DEBUG 2024-08-29 07:13:47,412 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49566]
DEBUG 2024-08-29 07:13:47,412 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49570]
DEBUG 2024-08-29 07:13:47,412 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49580]
DEBUG 2024-08-29 07:13:47,413 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49565]
DEBUG 2024-08-29 07:13:47,413 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49567]
DEBUG 2024-08-29 07:13:47,413 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49581]
DEBUG 2024-08-29 07:13:47,413 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49871]
DEBUG 2024-08-29 07:13:47,413 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49569]
DEBUG 2024-08-29 07:13:47,413 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49582]
INFO 2024-08-29 07:13:47,413 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:13:47,413 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:13:47,413 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:13:47,413 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:13:47,414 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:13:47,414 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:13:47,414 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:13:47,414 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:13:47,414 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:13:47,414 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:13:47,425 basehttp 94724 6204731392 "GET /static/css/app.css HTTP/1.1" 200 2871
INFO 2024-08-29 07:13:47,425 basehttp 94724 6221557760 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:13:47,457 basehttp 94724 6221557760 "GET /static/js/app.js HTTP/1.1" 200 37532
INFO 2024-08-29 07:13:47,474 basehttp 94724 6204731392 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:13:47,674 basehttp 94724 6221557760 "GET /static/js/app.js.map HTTP/1.1" 200 110043
INFO 2024-08-29 07:13:47,675 basehttp 94724 6204731392 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:13:47,679 basehttp 94724 6255210496 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:13:47,706 basehttp 94724 6255210496 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:13:47,748 basehttp 94724 6255210496 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:13:47,760 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49876] to WebSocket
INFO 2024-08-29 07:13:47,766 basehttp 94724 6255210496 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 07:13:47,767 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49876] open and established
DEBUG 2024-08-29 07:13:47,767 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49876] accepted by application
DEBUG 2024-08-29 07:13:47,770 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49876]
INFO 2024-08-29 07:13:47,784 basehttp 94724 6238384128 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
DEBUG 2024-08-29 07:13:47,824 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49877] to WebSocket
WARNING 2024-08-29 07:13:47,826 log 94724 6238384128 Not Found: /api/messages/
WARNING 2024-08-29 07:13:47,826 basehttp 94724 6238384128 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:13:47,826 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:13:47,826 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49877] open and established
DEBUG 2024-08-29 07:13:47,826 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49877] accepted by application
INFO 2024-08-29 07:13:47,826 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 07:13:47,863 log 94724 6238384128 Not Found: /api/messages/
WARNING 2024-08-29 07:13:47,864 basehttp 94724 6238384128 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:13:47,865 basehttp 94724 6255210496 "GET /static/chat.svg HTTP/1.1" 200 405
ERROR 2024-08-29 07:13:48,231 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:13:48,238 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49877]
DEBUG 2024-08-29 07:13:48,779 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49882] to WebSocket
INFO 2024-08-29 07:13:48,785 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:13:48,785 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49882] open and established
DEBUG 2024-08-29 07:13:48,785 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49882] accepted by application
INFO 2024-08-29 07:13:48,785 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:13:48,789 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49882]
INFO 2024-08-29 07:13:48,795 basehttp 94724 6238384128 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:13:48,798 basehttp 94724 6255210496 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:13:48,799 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49883] to WebSocket
INFO 2024-08-29 07:13:48,800 basehttp 94724 6238384128 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
INFO 2024-08-29 07:13:48,801 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:13:48,801 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49883] open and established
DEBUG 2024-08-29 07:13:48,801 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49883] accepted by application
INFO 2024-08-29 07:13:48,801 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:13:48,803 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49883]
INFO 2024-08-29 07:13:48,813 basehttp 94724 6238384128 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:13:48,814 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49884] to WebSocket
INFO 2024-08-29 07:13:48,816 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:13:48,816 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49884] open and established
DEBUG 2024-08-29 07:13:48,816 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49884] accepted by application
INFO 2024-08-29 07:13:48,816 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:13:48,818 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49884]
INFO 2024-08-29 07:13:48,820 basehttp 94724 6238384128 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:13:48,820 basehttp 94724 6255210496 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:13:48,824 basehttp 94724 6204731392 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:13:48,824 basehttp 94724 6238384128 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:13:48,828 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49885] to WebSocket
INFO 2024-08-29 07:13:48,830 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:13:48,830 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49885] open and established
DEBUG 2024-08-29 07:13:48,831 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49885] accepted by application
INFO 2024-08-29 07:13:48,831 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:13:48,832 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49885]
DEBUG 2024-08-29 07:13:48,843 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49886] to WebSocket
INFO 2024-08-29 07:13:48,845 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:13:48,845 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49886] open and established
DEBUG 2024-08-29 07:13:48,845 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49886] accepted by application
INFO 2024-08-29 07:13:48,845 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:13:48,846 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49886]
DEBUG 2024-08-29 07:13:48,858 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49887] to WebSocket
INFO 2024-08-29 07:13:48,860 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:13:48,860 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49887] open and established
DEBUG 2024-08-29 07:13:48,860 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49887] accepted by application
INFO 2024-08-29 07:13:48,860 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:13:48,861 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49887]
DEBUG 2024-08-29 07:13:48,873 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49888] to WebSocket
INFO 2024-08-29 07:13:48,875 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:13:48,875 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49888] open and established
DEBUG 2024-08-29 07:13:48,875 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49888] accepted by application
INFO 2024-08-29 07:13:48,875 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:13:48,876 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49888]
DEBUG 2024-08-29 07:13:49,622 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49888]
INFO 2024-08-29 07:13:49,625 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 07:13:49,632 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49893] to WebSocket
INFO 2024-08-29 07:13:49,636 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:13:49,637 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49893] open and established
DEBUG 2024-08-29 07:13:49,637 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49893] accepted by application
INFO 2024-08-29 07:13:49,637 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:13:49,646 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49893]
INFO 2024-08-29 07:13:49,648 basehttp 94724 6238384128 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:13:49,652 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49894] to WebSocket
INFO 2024-08-29 07:13:49,655 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:13:49,655 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49894] open and established
DEBUG 2024-08-29 07:13:49,655 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49894] accepted by application
INFO 2024-08-29 07:13:49,655 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:13:49,657 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49894]
INFO 2024-08-29 07:13:49,664 basehttp 94724 6238384128 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:13:49,669 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49895] to WebSocket
INFO 2024-08-29 07:13:49,672 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:13:49,672 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49895] open and established
DEBUG 2024-08-29 07:13:49,672 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49895] accepted by application
INFO 2024-08-29 07:13:49,672 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:13:49,675 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49895]
DEBUG 2024-08-29 07:13:49,685 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 49896] to WebSocket
INFO 2024-08-29 07:13:49,686 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:13:49,686 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49896] open and established
DEBUG 2024-08-29 07:13:49,686 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 49896] accepted by application
INFO 2024-08-29 07:13:49,686 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:13:49,688 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 49896]
INFO 2024-08-29 07:18:45,509 autoreload 95109 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:18:49,268 basehttp 95109 6194769920 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:18:49,271 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49896]
INFO 2024-08-29 07:18:49,273 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:18:49,304 basehttp 95109 6194769920 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:18:55,159 basehttp 95109 6194769920 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:18:56,012 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51140] to WebSocket
INFO 2024-08-29 07:18:56,018 basehttp 95109 6194769920 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:18:56,027 basehttp 95109 6228422656 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:18:56,031 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:18:56,031 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51140] open and established
DEBUG 2024-08-29 07:18:56,031 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51140] accepted by application
INFO 2024-08-29 07:18:56,031 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:18:56,035 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51140]
WARNING 2024-08-29 07:18:56,038 log 95109 6211596288 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:18:56,038 basehttp 95109 6211596288 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 07:18:56,047 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49893]
DEBUG 2024-08-29 07:18:56,047 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49895]
DEBUG 2024-08-29 07:18:56,047 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49876]
DEBUG 2024-08-29 07:18:56,047 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49894]
DEBUG 2024-08-29 07:18:56,048 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51140]
DEBUG 2024-08-29 07:18:56,048 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49886]
DEBUG 2024-08-29 07:18:56,048 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49885]
DEBUG 2024-08-29 07:18:56,048 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49882]
DEBUG 2024-08-29 07:18:56,048 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49884]
DEBUG 2024-08-29 07:18:56,048 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49887]
DEBUG 2024-08-29 07:18:56,048 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 49883]
INFO 2024-08-29 07:18:56,048 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:18:56,048 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:18:56,048 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:18:56,048 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:18:56,048 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:18:56,049 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:18:56,049 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:18:56,049 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:18:56,049 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:18:56,049 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:18:56,060 basehttp 95109 6228422656 "GET /static/css/app.css HTTP/1.1" 200 2980
INFO 2024-08-29 07:18:56,061 basehttp 95109 6211596288 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:18:56,094 basehttp 95109 6211596288 "GET /static/js/app.js HTTP/1.1" 200 37589
INFO 2024-08-29 07:18:56,123 basehttp 95109 6228422656 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:18:56,407 basehttp 95109 6228422656 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:18:56,414 basehttp 95109 6211596288 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:18:56,431 basehttp 95109 6211596288 "GET /static/js/app.js.map HTTP/1.1" 200 110333
INFO 2024-08-29 07:18:56,464 basehttp 95109 6228422656 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:18:56,488 basehttp 95109 6211596288 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 07:18:56,498 basehttp 95109 6211596288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:18:56,502 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51151] to WebSocket
DEBUG 2024-08-29 07:18:56,504 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51151] open and established
DEBUG 2024-08-29 07:18:56,505 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51151] accepted by application
DEBUG 2024-08-29 07:18:56,506 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51151]
INFO 2024-08-29 07:18:56,506 basehttp 95109 6211596288 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 07:18:56,513 log 95109 6211596288 Not Found: /api/messages/
WARNING 2024-08-29 07:18:56,513 basehttp 95109 6211596288 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:18:56,518 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51152] to WebSocket
INFO 2024-08-29 07:18:56,522 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:18:56,523 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51152] open and established
DEBUG 2024-08-29 07:18:56,523 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51152] accepted by application
INFO 2024-08-29 07:18:56,523 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 07:18:56,525 log 95109 6211596288 Not Found: /api/messages/
WARNING 2024-08-29 07:18:56,525 basehttp 95109 6211596288 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:18:56,582 basehttp 95109 6211596288 "GET /static/chat.svg HTTP/1.1" 200 405
ERROR 2024-08-29 07:18:56,592 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:18:56,601 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51152]
DEBUG 2024-08-29 07:18:57,887 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51157] to WebSocket
INFO 2024-08-29 07:18:57,896 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:18:57,897 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51157] open and established
DEBUG 2024-08-29 07:18:57,897 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51157] accepted by application
INFO 2024-08-29 07:18:57,897 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:18:57,907 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51157]
INFO 2024-08-29 07:18:57,908 basehttp 95109 6211596288 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:18:57,911 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51158] to WebSocket
INFO 2024-08-29 07:18:57,911 basehttp 95109 6228422656 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:18:57,913 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:18:57,914 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51158] open and established
DEBUG 2024-08-29 07:18:57,914 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51158] accepted by application
INFO 2024-08-29 07:18:57,914 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:18:57,914 basehttp 95109 6194769920 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:18:57,915 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51158]
DEBUG 2024-08-29 07:18:57,926 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51159] to WebSocket
INFO 2024-08-29 07:18:57,928 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:18:57,928 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51159] open and established
DEBUG 2024-08-29 07:18:57,928 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51159] accepted by application
INFO 2024-08-29 07:18:57,929 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:18:57,929 basehttp 95109 6194769920 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:18:57,930 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51159]
INFO 2024-08-29 07:18:57,938 basehttp 95109 6194769920 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:18:57,939 basehttp 95109 6228422656 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:18:57,941 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51160] to WebSocket
INFO 2024-08-29 07:18:57,943 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:18:57,943 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51160] open and established
DEBUG 2024-08-29 07:18:57,943 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51160] accepted by application
INFO 2024-08-29 07:18:57,943 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:18:57,944 basehttp 95109 6228422656 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:18:57,944 basehttp 95109 6194769920 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:18:57,945 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51160]
DEBUG 2024-08-29 07:18:57,956 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51161] to WebSocket
INFO 2024-08-29 07:18:57,957 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:18:57,958 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51161] open and established
DEBUG 2024-08-29 07:18:57,958 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51161] accepted by application
INFO 2024-08-29 07:18:57,958 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:18:57,959 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51161]
DEBUG 2024-08-29 07:18:57,971 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51162] to WebSocket
INFO 2024-08-29 07:18:57,973 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:18:57,973 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51162] open and established
DEBUG 2024-08-29 07:18:57,973 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51162] accepted by application
INFO 2024-08-29 07:18:57,973 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:18:57,975 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51162]
DEBUG 2024-08-29 07:18:57,987 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51163] to WebSocket
INFO 2024-08-29 07:18:57,989 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:18:57,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51163] open and established
DEBUG 2024-08-29 07:18:57,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51163] accepted by application
INFO 2024-08-29 07:18:57,989 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:18:57,991 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51163]
DEBUG 2024-08-29 07:19:06,297 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51161]
DEBUG 2024-08-29 07:19:06,297 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51158]
DEBUG 2024-08-29 07:19:06,297 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51151]
DEBUG 2024-08-29 07:19:06,297 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51162]
DEBUG 2024-08-29 07:19:06,298 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51160]
DEBUG 2024-08-29 07:19:06,298 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51159]
DEBUG 2024-08-29 07:19:06,298 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51157]
DEBUG 2024-08-29 07:19:06,298 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51163]
INFO 2024-08-29 07:19:06,298 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:19:06,298 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:19:06,299 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:19:06,299 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:19:06,299 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:19:06,299 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:19:06,300 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:19:20,270 basehttp 95109 6245249024 "GET / HTTP/1.1" 200 1008
INFO 2024-08-29 07:19:20,333 basehttp 95109 6245249024 "GET /static/css/app.css HTTP/1.1" 200 2980
INFO 2024-08-29 07:19:20,342 basehttp 95109 6262075392 "GET /static/js/app.js HTTP/1.1" 200 37589
INFO 2024-08-29 07:19:20,344 basehttp 95109 6278901760 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:19:20,364 basehttp 95109 6245249024 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:19:20,600 basehttp 95109 6245249024 "GET /api/check_login_status/ HTTP/1.1" 200 21
INFO 2024-08-29 07:19:20,659 basehttp 95109 6245249024 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-29 07:19:25,695 basehttp 95109 6245249024 "POST /api/login/ HTTP/1.1" 200 46
INFO 2024-08-29 07:19:31,557 basehttp 95109 6245249024 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-29 07:19:33,166 basehttp 95109 6262075392 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-29 07:19:33,172 log 95109 6245249024 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:19:33,174 basehttp 95109 6245249024 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 07:19:33,223 basehttp 95109 6245249024 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:19:33,238 basehttp 95109 6262075392 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:19:33,241 basehttp 95109 6245249024 - Broken pipe from ('127.0.0.1', 51198)
INFO 2024-08-29 07:19:33,247 basehttp 95109 6278901760 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 07:19:33,248 basehttp 95109 6262075392 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-29 07:19:33,248 basehttp 95109 6295728128 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-29 07:19:33,248 basehttp 95109 6245249024 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 07:19:33,376 basehttp 95109 6262075392 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:19:33,380 basehttp 95109 6278901760 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:19:33,409 basehttp 95109 6262075392 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:19:33,447 basehttp 95109 6262075392 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:19:33,453 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51209] to WebSocket
DEBUG 2024-08-29 07:19:33,459 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51209] open and established
DEBUG 2024-08-29 07:19:33,460 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51209] accepted by application
DEBUG 2024-08-29 07:19:33,463 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51209]
INFO 2024-08-29 07:19:33,468 basehttp 95109 6262075392 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 07:19:33,476 log 95109 6262075392 Not Found: /api/messages/
WARNING 2024-08-29 07:19:33,476 basehttp 95109 6262075392 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:19:33,477 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51210] to WebSocket
INFO 2024-08-29 07:19:33,479 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:19:33,479 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51210] open and established
DEBUG 2024-08-29 07:19:33,479 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51210] accepted by application
INFO 2024-08-29 07:19:33,479 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 07:19:33,479 log 95109 6262075392 Not Found: /api/messages/
WARNING 2024-08-29 07:19:33,479 basehttp 95109 6262075392 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-29 07:19:33,648 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:19:33,652 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51210]
DEBUG 2024-08-29 07:19:34,185 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51211] to WebSocket
DEBUG 2024-08-29 07:19:34,187 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51212] to WebSocket
INFO 2024-08-29 07:19:34,195 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:19:34,195 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51211] open and established
DEBUG 2024-08-29 07:19:34,195 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51211] accepted by application
INFO 2024-08-29 07:19:34,196 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:19:34,198 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:19:34,198 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51212] open and established
DEBUG 2024-08-29 07:19:34,199 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51212] accepted by application
INFO 2024-08-29 07:19:34,199 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:19:34,201 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51211]
DEBUG 2024-08-29 07:19:34,201 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51213] to WebSocket
DEBUG 2024-08-29 07:19:34,202 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51212]
INFO 2024-08-29 07:19:34,204 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:19:34,204 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51213] open and established
DEBUG 2024-08-29 07:19:34,204 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51213] accepted by application
INFO 2024-08-29 07:19:34,204 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:19:34,206 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51214] to WebSocket
DEBUG 2024-08-29 07:19:34,207 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51213]
INFO 2024-08-29 07:19:34,207 basehttp 95109 6262075392 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:19:34,208 basehttp 95109 6278901760 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:19:34,208 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:19:34,209 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51214] open and established
DEBUG 2024-08-29 07:19:34,209 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51214] accepted by application
INFO 2024-08-29 07:19:34,209 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:19:34,210 basehttp 95109 6245249024 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:19:34,210 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51214]
INFO 2024-08-29 07:19:34,240 basehttp 95109 6262075392 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:19:34,241 basehttp 95109 6278901760 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:19:34,255 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51215] to WebSocket
DEBUG 2024-08-29 07:19:34,257 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51216] to WebSocket
DEBUG 2024-08-29 07:19:34,258 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51217] to WebSocket
INFO 2024-08-29 07:19:34,261 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:19:34,261 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51215] open and established
DEBUG 2024-08-29 07:19:34,261 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51215] accepted by application
INFO 2024-08-29 07:19:34,261 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:19:34,262 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:19:34,262 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51216] open and established
DEBUG 2024-08-29 07:19:34,262 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51216] accepted by application
INFO 2024-08-29 07:19:34,262 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:19:34,263 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:19:34,264 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51217] open and established
DEBUG 2024-08-29 07:19:34,264 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51217] accepted by application
INFO 2024-08-29 07:19:34,264 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:19:34,265 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51215]
DEBUG 2024-08-29 07:19:34,265 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51216]
DEBUG 2024-08-29 07:19:34,266 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51217]
DEBUG 2024-08-29 07:19:39,826 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51217]
DEBUG 2024-08-29 07:19:39,826 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51216]
DEBUG 2024-08-29 07:19:39,827 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51215]
DEBUG 2024-08-29 07:19:39,827 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51214]
DEBUG 2024-08-29 07:19:39,827 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51213]
DEBUG 2024-08-29 07:19:39,827 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51212]
DEBUG 2024-08-29 07:19:39,827 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51211]
DEBUG 2024-08-29 07:19:39,827 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51209]
INFO 2024-08-29 07:19:39,828 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-29 07:19:39,828 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-29 07:19:39,828 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-29 07:19:39,828 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-29 07:19:39,828 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-29 07:19:39,828 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-29 07:19:39,828 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1006
INFO 2024-08-29 07:20:35,099 basehttp 95109 6194769920 "GET / HTTP/1.1" 200 1008
INFO 2024-08-29 07:20:35,131 basehttp 95109 6211596288 "GET /static/css/app.css HTTP/1.1" 200 2980
INFO 2024-08-29 07:20:35,132 basehttp 95109 6194769920 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:20:35,151 basehttp 95109 6211596288 "GET /static/js/app.js HTTP/1.1" 200 37589
INFO 2024-08-29 07:20:35,170 basehttp 95109 6194769920 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:20:35,441 basehttp 95109 6194769920 "GET /api/check_login_status/ HTTP/1.1" 200 21
INFO 2024-08-29 07:20:35,455 basehttp 95109 6194769920 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:20:35,588 basehttp 95109 6194769920 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-29 07:20:40,460 basehttp 95109 6194769920 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-29 07:20:41,391 basehttp 95109 6194769920 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:20:41,398 basehttp 95109 6228422656 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-29 07:20:41,403 log 95109 6211596288 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:20:41,403 basehttp 95109 6211596288 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 07:20:41,545 basehttp 95109 6211596288 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:20:41,547 basehttp 95109 6228422656 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:20:41,563 basehttp 95109 6228422656 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:20:41,583 basehttp 95109 6228422656 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:20:41,593 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51248] to WebSocket
DEBUG 2024-08-29 07:20:41,607 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51248] open and established
DEBUG 2024-08-29 07:20:41,607 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51248] accepted by application
INFO 2024-08-29 07:20:41,612 basehttp 95109 6228422656 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 07:20:41,612 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51248]
DEBUG 2024-08-29 07:20:41,621 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51249] to WebSocket
WARNING 2024-08-29 07:20:41,623 log 95109 6228422656 Not Found: /api/messages/
WARNING 2024-08-29 07:20:41,623 basehttp 95109 6228422656 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:20:41,625 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:20:41,626 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51249] open and established
DEBUG 2024-08-29 07:20:41,626 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51249] accepted by application
INFO 2024-08-29 07:20:41,626 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 07:20:41,628 log 95109 6228422656 Not Found: /api/messages/
WARNING 2024-08-29 07:20:41,629 basehttp 95109 6228422656 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-29 07:20:41,739 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:20:41,744 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51249]
DEBUG 2024-08-29 07:20:42,362 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51250] to WebSocket
INFO 2024-08-29 07:20:42,366 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:20:42,366 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51250] open and established
DEBUG 2024-08-29 07:20:42,366 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51250] accepted by application
INFO 2024-08-29 07:20:42,366 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:20:42,369 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51250]
INFO 2024-08-29 07:20:42,381 basehttp 95109 6211596288 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:20:42,381 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51251] to WebSocket
INFO 2024-08-29 07:20:42,385 basehttp 95109 6194769920 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:20:42,386 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-08-29 07:20:42,386 basehttp 95109 6228422656 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:20:42,386 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51251] open and established
DEBUG 2024-08-29 07:20:42,386 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51251] accepted by application
INFO 2024-08-29 07:20:42,386 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:20:42,389 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51251]
DEBUG 2024-08-29 07:20:42,399 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51252] to WebSocket
INFO 2024-08-29 07:20:42,400 basehttp 95109 6228422656 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:20:42,405 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:20:42,405 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51252] open and established
DEBUG 2024-08-29 07:20:42,405 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51252] accepted by application
INFO 2024-08-29 07:20:42,405 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:20:42,407 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51252]
INFO 2024-08-29 07:20:42,407 basehttp 95109 6194769920 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:20:42,407 basehttp 95109 6228422656 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:20:42,411 basehttp 95109 6194769920 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:20:42,411 basehttp 95109 6228422656 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:20:42,418 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51253] to WebSocket
INFO 2024-08-29 07:20:42,419 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:20:42,420 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51253] open and established
DEBUG 2024-08-29 07:20:42,420 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51253] accepted by application
INFO 2024-08-29 07:20:42,420 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:20:42,421 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51253]
DEBUG 2024-08-29 07:20:42,434 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51254] to WebSocket
INFO 2024-08-29 07:20:42,438 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:20:42,438 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51254] open and established
DEBUG 2024-08-29 07:20:42,438 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51254] accepted by application
INFO 2024-08-29 07:20:42,439 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:20:42,441 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51254]
DEBUG 2024-08-29 07:20:42,453 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51255] to WebSocket
INFO 2024-08-29 07:20:42,456 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:20:42,456 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51255] open and established
DEBUG 2024-08-29 07:20:42,456 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51255] accepted by application
INFO 2024-08-29 07:20:42,456 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:20:42,458 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51255]
DEBUG 2024-08-29 07:20:42,469 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51256] to WebSocket
INFO 2024-08-29 07:20:42,473 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:20:42,473 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51256] open and established
DEBUG 2024-08-29 07:20:42,473 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51256] accepted by application
INFO 2024-08-29 07:20:42,473 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:20:42,474 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51256]
INFO 2024-08-29 07:25:58,772 autoreload 95526 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:26:02,013 basehttp 95526 6197276672 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:26:02,020 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51256]
INFO 2024-08-29 07:26:02,020 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:26:02,052 basehttp 95526 6197276672 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:26:07,209 basehttp 95526 6197276672 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:26:08,498 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51407] to WebSocket
INFO 2024-08-29 07:26:08,506 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:26:08,506 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51407] open and established
DEBUG 2024-08-29 07:26:08,506 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51407] accepted by application
INFO 2024-08-29 07:26:08,506 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:26:08,510 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51407]
INFO 2024-08-29 07:26:08,519 basehttp 95526 6197276672 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:26:08,519 basehttp 95526 6230929408 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:26:08,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51248]
DEBUG 2024-08-29 07:26:08,535 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51252]
DEBUG 2024-08-29 07:26:08,537 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51255]
DEBUG 2024-08-29 07:26:08,538 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51250]
DEBUG 2024-08-29 07:26:08,538 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51254]
DEBUG 2024-08-29 07:26:08,538 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51251]
DEBUG 2024-08-29 07:26:08,539 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51253]
DEBUG 2024-08-29 07:26:08,539 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51407]
INFO 2024-08-29 07:26:08,539 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:26:08,539 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:26:08,539 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:26:08,539 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:26:08,539 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:26:08,539 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:26:08,540 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
WARNING 2024-08-29 07:26:08,541 log 95526 6214103040 Not Found: /api/get_icon_color/
INFO 2024-08-29 07:26:08,542 basehttp 95526 6214103040 - Broken pipe from ('127.0.0.1', 51408)
INFO 2024-08-29 07:26:08,553 basehttp 95526 6197276672 "GET /static/css/app.css HTTP/1.1" 200 3135
INFO 2024-08-29 07:26:08,554 basehttp 95526 6214103040 "GET /static/js/app.js HTTP/1.1" 200 37589
INFO 2024-08-29 07:26:08,555 basehttp 95526 6230929408 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:26:08,570 basehttp 95526 6247755776 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:26:08,722 basehttp 95526 6247755776 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:26:08,726 basehttp 95526 6230929408 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:26:08,779 basehttp 95526 6230929408 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:26:08,818 basehttp 95526 6230929408 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:26:08,828 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51415] to WebSocket
INFO 2024-08-29 07:26:08,836 basehttp 95526 6230929408 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-29 07:26:08,836 basehttp 95526 6247755776 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 07:26:08,837 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51415] open and established
DEBUG 2024-08-29 07:26:08,837 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51415] accepted by application
DEBUG 2024-08-29 07:26:08,838 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51415]
WARNING 2024-08-29 07:26:08,840 log 95526 6247755776 Not Found: /api/messages/
WARNING 2024-08-29 07:26:08,840 basehttp 95526 6247755776 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 07:26:08,844 log 95526 6247755776 Not Found: /api/messages/
WARNING 2024-08-29 07:26:08,844 basehttp 95526 6247755776 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:26:08,851 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51416] to WebSocket
INFO 2024-08-29 07:26:08,854 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:26:08,854 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51416] open and established
DEBUG 2024-08-29 07:26:08,854 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51416] accepted by application
INFO 2024-08-29 07:26:08,855 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 07:26:09,183 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:26:09,187 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51416]
DEBUG 2024-08-29 07:26:09,738 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51417] to WebSocket
INFO 2024-08-29 07:26:09,743 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:26:09,743 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51417] open and established
DEBUG 2024-08-29 07:26:09,743 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51417] accepted by application
INFO 2024-08-29 07:26:09,744 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:26:09,746 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51417]
INFO 2024-08-29 07:26:09,759 basehttp 95526 6214103040 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:26:09,761 basehttp 95526 6247755776 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:26:09,764 basehttp 95526 6230929408 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:26:09,764 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51418] to WebSocket
INFO 2024-08-29 07:26:09,768 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:26:09,769 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51418] open and established
DEBUG 2024-08-29 07:26:09,769 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51418] accepted by application
INFO 2024-08-29 07:26:09,769 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:26:09,772 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51418]
INFO 2024-08-29 07:26:09,775 basehttp 95526 6230929408 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:26:09,782 basehttp 95526 6230929408 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:26:09,783 basehttp 95526 6247755776 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:26:09,783 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51419] to WebSocket
INFO 2024-08-29 07:26:09,785 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:26:09,785 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51419] open and established
DEBUG 2024-08-29 07:26:09,786 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51419] accepted by application
INFO 2024-08-29 07:26:09,786 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:26:09,787 basehttp 95526 6247755776 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:26:09,787 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51419]
INFO 2024-08-29 07:26:09,787 basehttp 95526 6230929408 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:26:09,799 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51420] to WebSocket
INFO 2024-08-29 07:26:09,811 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:26:09,811 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51420] open and established
DEBUG 2024-08-29 07:26:09,812 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51420] accepted by application
INFO 2024-08-29 07:26:09,812 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:26:09,813 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51420]
DEBUG 2024-08-29 07:26:09,823 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51421] to WebSocket
INFO 2024-08-29 07:26:09,825 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:26:09,825 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51421] open and established
DEBUG 2024-08-29 07:26:09,825 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51421] accepted by application
INFO 2024-08-29 07:26:09,826 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:26:09,828 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51421]
DEBUG 2024-08-29 07:26:09,839 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51422] to WebSocket
INFO 2024-08-29 07:26:09,843 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:26:09,843 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51422] open and established
DEBUG 2024-08-29 07:26:09,843 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51422] accepted by application
INFO 2024-08-29 07:26:09,843 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:26:09,845 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51422]
DEBUG 2024-08-29 07:26:09,857 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 51423] to WebSocket
INFO 2024-08-29 07:26:09,860 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:26:09,860 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51423] open and established
DEBUG 2024-08-29 07:26:09,860 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 51423] accepted by application
INFO 2024-08-29 07:26:09,860 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:26:09,862 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51423]
INFO 2024-08-29 07:26:17,228 basehttp 95526 6247755776 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 07:26:17,229 basehttp 95526 6230929408 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 07:26:17,528 basehttp 95526 6247755776 "GET /static/js/app.js.map HTTP/1.1" 200 110376
INFO 2024-08-29 07:26:17,561 basehttp 95526 6230929408 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 07:29:19,047 autoreload 95822 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:29:21,740 basehttp 95822 6126120960 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:29:21,744 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51423]
INFO 2024-08-29 07:29:21,747 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:29:21,775 basehttp 95822 6126120960 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:29:27,117 basehttp 95822 6126120960 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:29:28,048 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52276] to WebSocket
INFO 2024-08-29 07:29:28,063 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:29:28,064 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52276] open and established
DEBUG 2024-08-29 07:29:28,065 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52276] accepted by application
INFO 2024-08-29 07:29:28,065 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:29:28,071 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52276]
INFO 2024-08-29 07:29:28,072 basehttp 95822 6126120960 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:29:28,078 basehttp 95822 6159773696 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-29 07:29:28,084 log 95822 6142947328 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:29:28,084 basehttp 95822 6142947328 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 07:29:28,096 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51422]
DEBUG 2024-08-29 07:29:28,097 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51421]
DEBUG 2024-08-29 07:29:28,097 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51415]
DEBUG 2024-08-29 07:29:28,097 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51419]
DEBUG 2024-08-29 07:29:28,097 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51418]
DEBUG 2024-08-29 07:29:28,097 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51417]
DEBUG 2024-08-29 07:29:28,098 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 51420]
DEBUG 2024-08-29 07:29:28,098 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52276]
INFO 2024-08-29 07:29:28,098 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:29:28,098 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:29:28,098 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:29:28,098 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:29:28,098 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:29:28,098 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:29:28,098 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:29:28,112 basehttp 95822 6159773696 "GET /static/css/app.css HTTP/1.1" 200 3109
INFO 2024-08-29 07:29:28,112 basehttp 95822 6142947328 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:29:28,143 basehttp 95822 6159773696 "GET /static/js/app.js HTTP/1.1" 200 37589
INFO 2024-08-29 07:29:28,165 basehttp 95822 6142947328 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:29:28,434 basehttp 95822 6142947328 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:29:28,435 basehttp 95822 6159773696 "GET /static/js/app.js.map HTTP/1.1" 200 110375
INFO 2024-08-29 07:29:28,441 basehttp 95822 6142947328 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:29:28,465 basehttp 95822 6142947328 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:29:28,510 basehttp 95822 6142947328 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:29:28,513 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52282] to WebSocket
INFO 2024-08-29 07:29:28,513 basehttp 95822 6126120960 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
DEBUG 2024-08-29 07:29:28,516 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52282] open and established
DEBUG 2024-08-29 07:29:28,516 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52282] accepted by application
DEBUG 2024-08-29 07:29:28,517 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52282]
INFO 2024-08-29 07:29:28,518 basehttp 95822 6126120960 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 07:29:28,523 log 95822 6126120960 Not Found: /api/messages/
WARNING 2024-08-29 07:29:28,523 basehttp 95822 6126120960 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:29:28,527 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52283] to WebSocket
INFO 2024-08-29 07:29:28,529 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:29:28,530 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52283] open and established
DEBUG 2024-08-29 07:29:28,530 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52283] accepted by application
INFO 2024-08-29 07:29:28,530 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 07:29:28,534 log 95822 6126120960 Not Found: /api/messages/
WARNING 2024-08-29 07:29:28,534 basehttp 95822 6126120960 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:29:28,612 basehttp 95822 6126120960 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 07:29:29,316 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52283]
DEBUG 2024-08-29 07:29:29,323 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52288] to WebSocket
INFO 2024-08-29 07:29:29,328 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:29:29,328 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52288] open and established
DEBUG 2024-08-29 07:29:29,328 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52288] accepted by application
INFO 2024-08-29 07:29:29,328 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:29:29,333 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52288]
DEBUG 2024-08-29 07:29:29,341 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52289] to WebSocket
INFO 2024-08-29 07:29:29,341 basehttp 95822 6126120960 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:29:29,343 basehttp 95822 6142947328 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:29:29,344 basehttp 95822 6159773696 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:29:29,344 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:29:29,344 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52289] open and established
DEBUG 2024-08-29 07:29:29,344 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52289] accepted by application
INFO 2024-08-29 07:29:29,344 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:29:29,346 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52289]
INFO 2024-08-29 07:29:29,355 basehttp 95822 6159773696 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:29:29,356 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52290] to WebSocket
INFO 2024-08-29 07:29:29,358 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:29:29,358 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52290] open and established
DEBUG 2024-08-29 07:29:29,358 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52290] accepted by application
INFO 2024-08-29 07:29:29,358 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:29:29,359 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52290]
INFO 2024-08-29 07:29:29,363 basehttp 95822 6159773696 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:29:29,364 basehttp 95822 6142947328 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:29:29,367 basehttp 95822 6142947328 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:29:29,367 basehttp 95822 6159773696 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:29:29,372 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52291] to WebSocket
INFO 2024-08-29 07:29:29,373 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:29:29,374 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52291] open and established
DEBUG 2024-08-29 07:29:29,374 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52291] accepted by application
INFO 2024-08-29 07:29:29,374 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:29:29,375 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52291]
DEBUG 2024-08-29 07:29:29,386 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52292] to WebSocket
INFO 2024-08-29 07:29:29,388 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:29:29,388 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52292] open and established
DEBUG 2024-08-29 07:29:29,388 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52292] accepted by application
INFO 2024-08-29 07:29:29,388 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:29:29,389 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52292]
DEBUG 2024-08-29 07:29:29,400 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52293] to WebSocket
INFO 2024-08-29 07:29:29,401 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:29:29,401 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52293] open and established
DEBUG 2024-08-29 07:29:29,401 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52293] accepted by application
INFO 2024-08-29 07:29:29,401 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:29:29,403 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52293]
DEBUG 2024-08-29 07:29:29,415 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 52294] to WebSocket
INFO 2024-08-29 07:29:29,417 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:29:29,417 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52294] open and established
DEBUG 2024-08-29 07:29:29,417 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 52294] accepted by application
INFO 2024-08-29 07:29:29,417 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:29:29,418 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 52294]
ERROR 2024-08-29 07:29:29,445 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
INFO 2024-08-29 07:33:26,474 autoreload 96145 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:33:37,419 basehttp 96145 6190592000 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:33:37,422 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52294]
INFO 2024-08-29 07:33:37,425 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 07:33:37,459 basehttp 96145 6190592000 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:33:42,858 basehttp 96145 6190592000 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:33:44,516 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53346] to WebSocket
INFO 2024-08-29 07:33:44,530 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:33:44,531 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53346] open and established
DEBUG 2024-08-29 07:33:44,531 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53346] accepted by application
INFO 2024-08-29 07:33:44,531 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:33:44,553 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53346]
INFO 2024-08-29 07:33:44,555 basehttp 96145 6224244736 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:33:44,557 basehttp 96145 6190592000 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:33:44,560 basehttp 96145 6190592000 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:33:44,560 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52288]
INFO 2024-08-29 07:33:44,560 basehttp 96145 6190592000 - Broken pipe from ('127.0.0.1', 53317)
DEBUG 2024-08-29 07:33:44,561 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52290]
DEBUG 2024-08-29 07:33:44,561 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52293]
DEBUG 2024-08-29 07:33:44,561 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53346]
DEBUG 2024-08-29 07:33:44,561 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52289]
DEBUG 2024-08-29 07:33:44,561 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52291]
DEBUG 2024-08-29 07:33:44,561 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52292]
DEBUG 2024-08-29 07:33:44,561 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 52282]
INFO 2024-08-29 07:33:44,562 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:44,562 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:44,562 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:44,562 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:44,562 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:44,562 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:44,562 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
WARNING 2024-08-29 07:33:44,564 log 96145 6207418368 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:33:44,565 basehttp 96145 6207418368 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 07:33:44,565 basehttp 96145 6207418368 - Broken pipe from ('127.0.0.1', 53347)
INFO 2024-08-29 07:33:44,583 basehttp 96145 6190592000 "GET /static/css/app.css HTTP/1.1" 200 2421
INFO 2024-08-29 07:33:44,584 basehttp 96145 6224244736 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:33:44,605 basehttp 96145 6224244736 "GET /static/js/app.js HTTP/1.1" 200 37589
INFO 2024-08-29 07:33:44,624 basehttp 96145 6190592000 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:33:44,965 basehttp 96145 6190592000 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:33:44,970 basehttp 96145 6224244736 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:33:44,992 basehttp 96145 6224244736 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:33:45,033 basehttp 96145 6224244736 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:33:45,034 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53358] to WebSocket
INFO 2024-08-29 07:33:45,038 basehttp 96145 6224244736 "GET /static/js/app.js.map HTTP/1.1" 200 110175
DEBUG 2024-08-29 07:33:45,040 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53358] open and established
DEBUG 2024-08-29 07:33:45,040 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53358] accepted by application
DEBUG 2024-08-29 07:33:45,040 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53358]
INFO 2024-08-29 07:33:45,041 basehttp 96145 6190592000 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 07:33:45,047 log 96145 6190592000 Not Found: /api/messages/
WARNING 2024-08-29 07:33:45,047 basehttp 96145 6190592000 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:33:45,051 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53359] to WebSocket
WARNING 2024-08-29 07:33:45,052 log 96145 6190592000 Not Found: /api/messages/
WARNING 2024-08-29 07:33:45,052 basehttp 96145 6190592000 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:33:45,054 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:33:45,055 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53359] open and established
DEBUG 2024-08-29 07:33:45,055 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53359] accepted by application
INFO 2024-08-29 07:33:45,055 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
INFO 2024-08-29 07:33:45,068 basehttp 96145 6224244736 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 07:33:45,157 basehttp 96145 6224244736 "GET /static/chat.svg HTTP/1.1" 200 405
ERROR 2024-08-29 07:33:45,759 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:33:45,766 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53359]
DEBUG 2024-08-29 07:33:45,974 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53364] to WebSocket
INFO 2024-08-29 07:33:45,979 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:33:45,980 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53364] open and established
DEBUG 2024-08-29 07:33:45,980 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53364] accepted by application
INFO 2024-08-29 07:33:45,980 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:33:45,985 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53364]
INFO 2024-08-29 07:33:45,991 basehttp 96145 6224244736 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:33:45,999 basehttp 96145 6190592000 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:33:45,999 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53366] to WebSocket
INFO 2024-08-29 07:33:46,006 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:33:46,007 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53366] open and established
DEBUG 2024-08-29 07:33:46,007 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53366] accepted by application
INFO 2024-08-29 07:33:46,007 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:33:46,007 basehttp 96145 6207418368 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:33:46,009 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53366]
INFO 2024-08-29 07:33:46,010 basehttp 96145 6207418368 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:33:46,018 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53367] to WebSocket
INFO 2024-08-29 07:33:46,019 basehttp 96145 6190592000 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:33:46,020 basehttp 96145 6207418368 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:33:46,022 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:33:46,023 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53367] open and established
DEBUG 2024-08-29 07:33:46,023 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53367] accepted by application
INFO 2024-08-29 07:33:46,023 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:33:46,023 basehttp 96145 6207418368 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:33:46,024 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53367]
INFO 2024-08-29 07:33:46,024 basehttp 96145 6190592000 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:33:46,036 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53368] to WebSocket
INFO 2024-08-29 07:33:46,038 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:33:46,038 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53368] open and established
DEBUG 2024-08-29 07:33:46,038 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53368] accepted by application
INFO 2024-08-29 07:33:46,038 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:33:46,039 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53368]
DEBUG 2024-08-29 07:33:46,050 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53369] to WebSocket
INFO 2024-08-29 07:33:46,052 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:33:46,052 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53369] open and established
DEBUG 2024-08-29 07:33:46,053 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53369] accepted by application
INFO 2024-08-29 07:33:46,053 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:33:46,054 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53369]
DEBUG 2024-08-29 07:33:46,067 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53370] to WebSocket
INFO 2024-08-29 07:33:46,068 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:33:46,068 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53370] open and established
DEBUG 2024-08-29 07:33:46,068 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53370] accepted by application
INFO 2024-08-29 07:33:46,068 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:33:46,069 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53370]
DEBUG 2024-08-29 07:33:46,082 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53371] to WebSocket
INFO 2024-08-29 07:33:46,084 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:33:46,084 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53371] open and established
DEBUG 2024-08-29 07:33:46,084 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53371] accepted by application
INFO 2024-08-29 07:33:46,084 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:33:46,085 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53371]
DEBUG 2024-08-29 07:33:49,983 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53371]
INFO 2024-08-29 07:33:49,984 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 07:33:49,993 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53388] to WebSocket
INFO 2024-08-29 07:33:49,998 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:49,999 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53388] open and established
DEBUG 2024-08-29 07:33:49,999 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53388] accepted by application
INFO 2024-08-29 07:33:49,999 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:50,004 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53388]
INFO 2024-08-29 07:33:50,010 basehttp 96145 6190592000 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:33:50,014 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53389] to WebSocket
INFO 2024-08-29 07:33:50,019 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:50,019 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53389] open and established
DEBUG 2024-08-29 07:33:50,019 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53389] accepted by application
INFO 2024-08-29 07:33:50,019 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:50,020 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53389]
INFO 2024-08-29 07:33:50,022 basehttp 96145 6190592000 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:33:50,032 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53390] to WebSocket
INFO 2024-08-29 07:33:50,034 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:50,034 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53390] open and established
DEBUG 2024-08-29 07:33:50,034 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53390] accepted by application
INFO 2024-08-29 07:33:50,034 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:50,036 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53390]
DEBUG 2024-08-29 07:33:50,048 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53391] to WebSocket
INFO 2024-08-29 07:33:50,050 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:50,050 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53391] open and established
DEBUG 2024-08-29 07:33:50,050 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53391] accepted by application
INFO 2024-08-29 07:33:50,050 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:50,051 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53391]
DEBUG 2024-08-29 07:33:55,788 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53391]
INFO 2024-08-29 07:33:55,789 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 07:33:55,822 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53404] to WebSocket
INFO 2024-08-29 07:33:55,826 basehttp 96145 6190592000 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:33:55,833 basehttp 96145 6207418368 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:33:55,837 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53389]
INFO 2024-08-29 07:33:55,838 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:55,838 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53404] open and established
DEBUG 2024-08-29 07:33:55,839 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53404] accepted by application
INFO 2024-08-29 07:33:55,839 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:55,840 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53367]
DEBUG 2024-08-29 07:33:55,843 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53369]
DEBUG 2024-08-29 07:33:55,844 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53364]
DEBUG 2024-08-29 07:33:55,844 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53358]
DEBUG 2024-08-29 07:33:55,844 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53368]
INFO 2024-08-29 07:33:55,845 basehttp 96145 6224244736 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:33:55,845 basehttp 96145 6224244736 - Broken pipe from ('127.0.0.1', 53348)
DEBUG 2024-08-29 07:33:55,845 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53366]
DEBUG 2024-08-29 07:33:55,845 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53390]
DEBUG 2024-08-29 07:33:55,845 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53404]
DEBUG 2024-08-29 07:33:55,846 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53388]
DEBUG 2024-08-29 07:33:55,846 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53370]
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:33:55,846 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-08-29 07:33:55,857 basehttp 96145 6207418368 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-29 07:33:55,860 basehttp 96145 6190592000 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 07:33:55,860 basehttp 96145 6224244736 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 07:33:55,860 basehttp 96145 6241071104 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-29 07:33:56,049 basehttp 96145 6224244736 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:33:56,052 basehttp 96145 6241071104 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:33:56,076 basehttp 96145 6241071104 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:33:56,088 basehttp 96145 6241071104 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-29 07:33:56,119 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53407] to WebSocket
INFO 2024-08-29 07:33:56,125 basehttp 96145 6224244736 "GET /static/chat.svg HTTP/1.1" 304 0
INFO 2024-08-29 07:33:56,126 basehttp 96145 6241071104 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 07:33:56,127 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53407] open and established
DEBUG 2024-08-29 07:33:56,128 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53407] accepted by application
DEBUG 2024-08-29 07:33:56,128 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53407]
WARNING 2024-08-29 07:33:56,133 log 96145 6241071104 Not Found: /api/messages/
WARNING 2024-08-29 07:33:56,133 basehttp 96145 6241071104 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:33:56,144 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53408] to WebSocket
WARNING 2024-08-29 07:33:56,145 log 96145 6241071104 Not Found: /api/messages/
WARNING 2024-08-29 07:33:56,145 basehttp 96145 6241071104 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:33:56,146 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:33:56,146 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53408] open and established
DEBUG 2024-08-29 07:33:56,146 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53408] accepted by application
INFO 2024-08-29 07:33:56,146 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
DEBUG 2024-08-29 07:33:56,589 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53408]
DEBUG 2024-08-29 07:33:56,612 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53409] to WebSocket
INFO 2024-08-29 07:33:56,614 basehttp 96145 6241071104 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:33:56,626 basehttp 96145 6224244736 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:33:56,627 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53409] open and established
DEBUG 2024-08-29 07:33:56,627 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53409] accepted by application
DEBUG 2024-08-29 07:33:56,629 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53409]
ERROR 2024-08-29 07:33:56,779 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:33:57,521 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53411] to WebSocket
DEBUG 2024-08-29 07:33:57,526 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53409]
INFO 2024-08-29 07:33:57,530 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:57,531 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53411] open and established
DEBUG 2024-08-29 07:33:57,531 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53411] accepted by application
INFO 2024-08-29 07:33:57,531 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:57,534 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53411]
DEBUG 2024-08-29 07:33:57,546 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53412] to WebSocket
INFO 2024-08-29 07:33:57,549 basehttp 96145 6190592000 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
INFO 2024-08-29 07:33:57,550 basehttp 96145 6241071104 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:33:57,551 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:57,551 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53412] open and established
INFO 2024-08-29 07:33:57,551 basehttp 96145 6224244736 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:33:57,551 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53412] accepted by application
INFO 2024-08-29 07:33:57,551 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:57,553 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53412]
INFO 2024-08-29 07:33:57,558 basehttp 96145 6224244736 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:33:57,563 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53413] to WebSocket
INFO 2024-08-29 07:33:57,564 basehttp 96145 6224244736 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:33:57,565 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:57,565 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53413] open and established
DEBUG 2024-08-29 07:33:57,566 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53413] accepted by application
INFO 2024-08-29 07:33:57,566 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-29 07:33:57,566 basehttp 96145 6241071104 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:33:57,567 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53413]
INFO 2024-08-29 07:33:57,568 basehttp 96145 6224244736 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:33:57,569 basehttp 96145 6190592000 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:33:57,578 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53414] to WebSocket
INFO 2024-08-29 07:33:57,580 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:57,580 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53414] open and established
DEBUG 2024-08-29 07:33:57,580 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53414] accepted by application
INFO 2024-08-29 07:33:57,580 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:57,581 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53414]
DEBUG 2024-08-29 07:33:57,592 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53415] to WebSocket
INFO 2024-08-29 07:33:57,593 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:57,593 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53415] open and established
DEBUG 2024-08-29 07:33:57,593 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53415] accepted by application
INFO 2024-08-29 07:33:57,593 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:57,595 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53415]
DEBUG 2024-08-29 07:33:57,608 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53416] to WebSocket
INFO 2024-08-29 07:33:57,614 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:33:57,614 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53416] open and established
DEBUG 2024-08-29 07:33:57,614 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53416] accepted by application
INFO 2024-08-29 07:33:57,614 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:33:57,615 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53416]
INFO 2024-08-29 07:37:55,309 autoreload 96510 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:37:59,127 basehttp 96510 6161477632 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:37:59,129 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53416]
INFO 2024-08-29 07:37:59,129 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-29 07:37:59,170 basehttp 96510 6161477632 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:38:03,967 basehttp 96510 6161477632 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:38:05,157 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53445] to WebSocket
INFO 2024-08-29 07:38:05,164 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:38:05,164 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53445] open and established
DEBUG 2024-08-29 07:38:05,164 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53445] accepted by application
INFO 2024-08-29 07:38:05,165 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:38:05,167 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53445]
INFO 2024-08-29 07:38:05,187 basehttp 96510 6195130368 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:38:05,188 basehttp 96510 6161477632 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-08-29 07:38:05,192 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53414]
DEBUG 2024-08-29 07:38:05,192 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53413]
DEBUG 2024-08-29 07:38:05,192 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53411]
DEBUG 2024-08-29 07:38:05,192 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53445]
DEBUG 2024-08-29 07:38:05,192 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53415]
DEBUG 2024-08-29 07:38:05,192 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53412]
DEBUG 2024-08-29 07:38:05,193 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53407]
INFO 2024-08-29 07:38:05,193 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:38:05,193 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:38:05,193 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:38:05,193 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:38:05,193 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:38:05,193 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
WARNING 2024-08-29 07:38:05,195 log 96510 6178304000 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:38:05,195 basehttp 96510 6178304000 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 07:38:05,196 basehttp 96510 6178304000 - Broken pipe from ('127.0.0.1', 53446)
INFO 2024-08-29 07:38:05,211 basehttp 96510 6161477632 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:38:05,213 basehttp 96510 6195130368 "GET /static/css/app.css HTTP/1.1" 200 2997
INFO 2024-08-29 07:38:05,218 basehttp 96510 6161477632 "GET /static/js/app.js HTTP/1.1" 200 37480
INFO 2024-08-29 07:38:05,235 basehttp 96510 6195130368 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:38:05,389 basehttp 96510 6161477632 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:38:05,390 basehttp 96510 6195130368 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:38:05,422 basehttp 96510 6195130368 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:38:05,438 basehttp 96510 6195130368 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-29 07:38:05,462 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53452] to WebSocket
INFO 2024-08-29 07:38:05,473 basehttp 96510 6195130368 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-29 07:38:05,473 basehttp 96510 6161477632 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 07:38:05,474 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53452] open and established
DEBUG 2024-08-29 07:38:05,474 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53452] accepted by application
DEBUG 2024-08-29 07:38:05,475 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53452]
WARNING 2024-08-29 07:38:05,477 log 96510 6161477632 Not Found: /api/messages/
WARNING 2024-08-29 07:38:05,477 basehttp 96510 6161477632 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 07:38:05,484 log 96510 6161477632 Not Found: /api/messages/
WARNING 2024-08-29 07:38:05,485 basehttp 96510 6161477632 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:38:05,486 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53453] to WebSocket
INFO 2024-08-29 07:38:05,489 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:38:05,489 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53453] open and established
DEBUG 2024-08-29 07:38:05,489 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53453] accepted by application
INFO 2024-08-29 07:38:05,490 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 07:38:06,083 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:38:06,098 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53453]
DEBUG 2024-08-29 07:38:06,290 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53454] to WebSocket
INFO 2024-08-29 07:38:06,295 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:38:06,295 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53454] open and established
DEBUG 2024-08-29 07:38:06,295 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53454] accepted by application
INFO 2024-08-29 07:38:06,295 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:38:06,297 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53454]
INFO 2024-08-29 07:38:06,306 basehttp 96510 6195130368 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:38:06,308 basehttp 96510 6161477632 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:38:06,310 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53456] to WebSocket
INFO 2024-08-29 07:38:06,314 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:38:06,315 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53456] open and established
DEBUG 2024-08-29 07:38:06,315 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53456] accepted by application
INFO 2024-08-29 07:38:06,315 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:38:06,316 basehttp 96510 6178304000 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:38:06,319 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53456]
INFO 2024-08-29 07:38:06,328 basehttp 96510 6178304000 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:38:06,328 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53457] to WebSocket
INFO 2024-08-29 07:38:06,331 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:38:06,331 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53457] open and established
DEBUG 2024-08-29 07:38:06,331 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53457] accepted by application
INFO 2024-08-29 07:38:06,331 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:38:06,332 basehttp 96510 6178304000 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:38:06,333 basehttp 96510 6161477632 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:38:06,334 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53457]
INFO 2024-08-29 07:38:06,340 basehttp 96510 6161477632 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:38:06,340 basehttp 96510 6178304000 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:38:06,343 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53458] to WebSocket
INFO 2024-08-29 07:38:06,345 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:38:06,345 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53458] open and established
DEBUG 2024-08-29 07:38:06,345 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53458] accepted by application
INFO 2024-08-29 07:38:06,345 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:38:06,346 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53458]
DEBUG 2024-08-29 07:38:06,357 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53459] to WebSocket
INFO 2024-08-29 07:38:06,359 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:38:06,359 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53459] open and established
DEBUG 2024-08-29 07:38:06,359 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53459] accepted by application
INFO 2024-08-29 07:38:06,359 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:38:06,360 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53459]
DEBUG 2024-08-29 07:38:06,372 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53460] to WebSocket
INFO 2024-08-29 07:38:06,373 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:38:06,373 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53460] open and established
DEBUG 2024-08-29 07:38:06,373 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53460] accepted by application
INFO 2024-08-29 07:38:06,373 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:38:06,374 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53460]
DEBUG 2024-08-29 07:38:06,386 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53461] to WebSocket
INFO 2024-08-29 07:38:06,388 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:38:06,388 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53461] open and established
DEBUG 2024-08-29 07:38:06,388 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53461] accepted by application
INFO 2024-08-29 07:38:06,388 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:38:06,390 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53461]
DEBUG 2024-08-29 07:38:15,587 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53461]
INFO 2024-08-29 07:38:15,588 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 07:38:15,596 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53464] to WebSocket
INFO 2024-08-29 07:38:15,600 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:38:15,601 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53464] open and established
DEBUG 2024-08-29 07:38:15,601 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53464] accepted by application
INFO 2024-08-29 07:38:15,602 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:38:15,608 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53464]
INFO 2024-08-29 07:38:15,609 basehttp 96510 6178304000 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:38:15,620 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53465] to WebSocket
INFO 2024-08-29 07:38:15,621 basehttp 96510 6178304000 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:38:15,622 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:38:15,622 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53465] open and established
DEBUG 2024-08-29 07:38:15,623 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53465] accepted by application
INFO 2024-08-29 07:38:15,623 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:38:15,624 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53465]
DEBUG 2024-08-29 07:38:15,637 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53466] to WebSocket
INFO 2024-08-29 07:38:15,639 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:38:15,640 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53466] open and established
DEBUG 2024-08-29 07:38:15,640 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53466] accepted by application
INFO 2024-08-29 07:38:15,640 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:38:15,641 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53466]
DEBUG 2024-08-29 07:38:15,653 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53467] to WebSocket
INFO 2024-08-29 07:38:15,655 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:38:15,655 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53467] open and established
DEBUG 2024-08-29 07:38:15,655 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53467] accepted by application
INFO 2024-08-29 07:38:15,655 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:38:15,656 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53467]
INFO 2024-08-29 07:49:06,315 autoreload 97149 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 07:49:08,855 basehttp 97149 6128726016 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 07:49:08,858 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53467]
INFO 2024-08-29 07:49:08,862 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-29 07:49:08,893 basehttp 97149 6128726016 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:49:15,179 basehttp 97149 6128726016 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 07:49:16,154 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53752] to WebSocket
INFO 2024-08-29 07:49:16,179 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:49:16,180 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53752] open and established
DEBUG 2024-08-29 07:49:16,180 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53752] accepted by application
INFO 2024-08-29 07:49:16,180 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:49:16,182 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53752]
INFO 2024-08-29 07:49:16,182 basehttp 97149 6128726016 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:49:16,184 basehttp 97149 6162378752 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-29 07:49:16,189 log 97149 6145552384 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:49:16,189 basehttp 97149 6145552384 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 07:49:16,194 basehttp 97149 6145552384 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:49:16,198 basehttp 97149 6145552384 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 07:49:16,199 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53752]
INFO 2024-08-29 07:49:16,199 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 07:49:16,200 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53758] to WebSocket
WARNING 2024-08-29 07:49:16,200 log 97149 6145552384 Not Found: /api/messages/
WARNING 2024-08-29 07:49:16,200 basehttp 97149 6145552384 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 07:49:16,202 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:49:16,202 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53758] open and established
DEBUG 2024-08-29 07:49:16,202 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53758] accepted by application
INFO 2024-08-29 07:49:16,202 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 07:49:16,203 log 97149 6145552384 Not Found: /api/messages/
WARNING 2024-08-29 07:49:16,203 basehttp 97149 6145552384 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:49:16,250 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53758]
DEBUG 2024-08-29 07:49:16,251 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53456]
DEBUG 2024-08-29 07:49:16,251 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53459]
DEBUG 2024-08-29 07:49:16,251 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53466]
DEBUG 2024-08-29 07:49:16,252 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53465]
DEBUG 2024-08-29 07:49:16,252 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53454]
DEBUG 2024-08-29 07:49:16,252 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53457]
DEBUG 2024-08-29 07:49:16,252 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53460]
DEBUG 2024-08-29 07:49:16,252 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53458]
DEBUG 2024-08-29 07:49:16,253 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53464]
DEBUG 2024-08-29 07:49:16,253 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53452]
INFO 2024-08-29 07:49:16,254 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:49:16,254 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:49:16,254 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:49:16,254 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:49:16,254 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:49:16,255 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:49:16,255 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:49:16,255 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:49:16,256 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 07:49:16,260 basehttp 97149 6162378752 "GET /static/css/app.css HTTP/1.1" 200 3082
INFO 2024-08-29 07:49:16,260 basehttp 97149 6145552384 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:49:16,285 basehttp 97149 6128726016 "GET /static/js/app.js HTTP/1.1" 200 37564
INFO 2024-08-29 07:49:16,302 basehttp 97149 6162378752 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:49:16,456 basehttp 97149 6162378752 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:49:16,458 basehttp 97149 6128726016 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:49:16,506 basehttp 97149 6128726016 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:49:16,529 basehttp 97149 6128726016 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:49:16,540 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53761] to WebSocket
INFO 2024-08-29 07:49:16,542 basehttp 97149 6128726016 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-29 07:49:16,548 basehttp 97149 6162378752 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 07:49:16,549 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53761] open and established
WARNING 2024-08-29 07:49:16,549 log 97149 6128726016 Not Found: /api/messages/
DEBUG 2024-08-29 07:49:16,549 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53761] accepted by application
WARNING 2024-08-29 07:49:16,549 basehttp 97149 6128726016 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:49:16,550 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53761]
WARNING 2024-08-29 07:49:16,553 log 97149 6128726016 Not Found: /api/messages/
WARNING 2024-08-29 07:49:16,553 basehttp 97149 6128726016 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:49:16,563 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53762] to WebSocket
INFO 2024-08-29 07:49:16,569 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:49:16,569 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53762] open and established
DEBUG 2024-08-29 07:49:16,569 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53762] accepted by application
INFO 2024-08-29 07:49:16,569 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 07:49:16,932 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
ERROR 2024-08-29 07:49:16,940 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:49:16,950 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53762]
DEBUG 2024-08-29 07:49:17,948 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53763] to WebSocket
INFO 2024-08-29 07:49:17,953 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:49:17,953 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53763] open and established
DEBUG 2024-08-29 07:49:17,953 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53763] accepted by application
INFO 2024-08-29 07:49:17,953 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:49:17,956 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53763]
INFO 2024-08-29 07:49:17,970 basehttp 97149 6128726016 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:49:17,971 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53764] to WebSocket
INFO 2024-08-29 07:49:17,975 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:49:17,976 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53764] open and established
DEBUG 2024-08-29 07:49:17,976 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53764] accepted by application
INFO 2024-08-29 07:49:17,976 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 07:49:17,976 basehttp 97149 6145552384 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 07:49:17,976 basehttp 97149 6162378752 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:49:17,977 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53764]
INFO 2024-08-29 07:49:17,986 basehttp 97149 6162378752 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:49:17,987 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53765] to WebSocket
INFO 2024-08-29 07:49:17,989 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:49:17,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53765] open and established
DEBUG 2024-08-29 07:49:17,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53765] accepted by application
INFO 2024-08-29 07:49:17,989 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:49:17,990 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53765]
INFO 2024-08-29 07:49:17,996 basehttp 97149 6162378752 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:49:17,996 basehttp 97149 6145552384 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:49:18,000 basehttp 97149 6145552384 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:49:18,001 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53766] to WebSocket
INFO 2024-08-29 07:49:18,001 basehttp 97149 6162378752 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:49:18,002 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:49:18,003 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53766] open and established
DEBUG 2024-08-29 07:49:18,003 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53766] accepted by application
INFO 2024-08-29 07:49:18,003 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:49:18,004 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53766]
DEBUG 2024-08-29 07:49:18,016 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53767] to WebSocket
INFO 2024-08-29 07:49:18,018 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:49:18,018 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53767] open and established
DEBUG 2024-08-29 07:49:18,018 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53767] accepted by application
INFO 2024-08-29 07:49:18,018 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:49:18,019 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53767]
DEBUG 2024-08-29 07:49:18,033 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53768] to WebSocket
INFO 2024-08-29 07:49:18,037 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:49:18,037 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53768] open and established
DEBUG 2024-08-29 07:49:18,037 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53768] accepted by application
INFO 2024-08-29 07:49:18,038 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:49:18,039 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53768]
DEBUG 2024-08-29 07:49:18,052 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53769] to WebSocket
INFO 2024-08-29 07:49:18,057 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:49:18,057 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53769] open and established
DEBUG 2024-08-29 07:49:18,057 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53769] accepted by application
INFO 2024-08-29 07:49:18,057 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:49:18,058 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53769]
INFO 2024-08-29 07:52:06,723 autoreload 97436 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-29 07:52:09,332 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53765]
DEBUG 2024-08-29 07:52:09,332 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53767]
DEBUG 2024-08-29 07:52:09,333 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53764]
DEBUG 2024-08-29 07:52:09,333 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53763]
DEBUG 2024-08-29 07:52:09,333 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53761]
DEBUG 2024-08-29 07:52:09,333 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53768]
DEBUG 2024-08-29 07:52:09,333 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53766]
DEBUG 2024-08-29 07:52:09,334 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53769]
INFO 2024-08-29 07:52:09,335 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:52:09,335 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:52:09,335 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:52:09,335 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:52:09,335 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:52:09,336 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:52:09,336 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 07:52:11,750 basehttp 97436 6167244800 "GET / HTTP/1.1" 200 1008
INFO 2024-08-29 07:52:11,874 basehttp 97436 6167244800 "GET /static/css/app.css HTTP/1.1" 200 2997
INFO 2024-08-29 07:52:11,875 basehttp 97436 6217723904 "GET /static/js/app.js HTTP/1.1" 200 37381
INFO 2024-08-29 07:52:11,881 basehttp 97436 6184071168 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 07:52:11,897 basehttp 97436 6200897536 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 07:52:12,048 basehttp 97436 6200897536 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:52:12,060 basehttp 97436 6200897536 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 07:52:12,094 basehttp 97436 6200897536 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-29 07:52:12,127 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53803] to WebSocket
DEBUG 2024-08-29 07:52:12,134 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53803] open and established
DEBUG 2024-08-29 07:52:12,134 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53803] accepted by application
DEBUG 2024-08-29 07:52:12,137 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53803]
INFO 2024-08-29 07:52:14,280 basehttp 97436 6200897536 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-29 07:52:19,182 basehttp 97436 6200897536 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-29 07:52:20,272 basehttp 97436 6200897536 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 07:52:20,287 basehttp 97436 6217723904 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-29 07:52:20,298 log 97436 6184071168 Not Found: /api/get_icon_color/
WARNING 2024-08-29 07:52:20,298 basehttp 97436 6184071168 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 07:52:20,305 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53803]
INFO 2024-08-29 07:52:20,317 basehttp 97436 6184071168 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-29 07:52:20,319 basehttp 97436 6217723904 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-29 07:52:20,322 basehttp 97436 6200897536 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 07:52:20,322 basehttp 97436 6167244800 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 07:52:20,434 basehttp 97436 6167244800 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 07:52:20,443 basehttp 97436 6200897536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:52:20,459 basehttp 97436 6200897536 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 07:52:20,482 basehttp 97436 6200897536 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:52:20,483 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53805] to WebSocket
INFO 2024-08-29 07:52:20,486 basehttp 97436 6200897536 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-29 07:52:20,495 basehttp 97436 6167244800 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 07:52:20,495 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53805] open and established
DEBUG 2024-08-29 07:52:20,495 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53805] accepted by application
DEBUG 2024-08-29 07:52:20,496 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53805]
WARNING 2024-08-29 07:52:20,498 log 97436 6167244800 Not Found: /api/messages/
WARNING 2024-08-29 07:52:20,498 basehttp 97436 6167244800 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 07:52:20,501 log 97436 6167244800 Not Found: /api/messages/
WARNING 2024-08-29 07:52:20,501 basehttp 97436 6167244800 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 07:52:20,508 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53806] to WebSocket
INFO 2024-08-29 07:52:20,510 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 07:52:20,510 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53806] open and established
DEBUG 2024-08-29 07:52:20,510 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53806] accepted by application
INFO 2024-08-29 07:52:20,510 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 07:52:21,184 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 07:52:21,191 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53806]
DEBUG 2024-08-29 07:52:21,515 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53807] to WebSocket
INFO 2024-08-29 07:52:21,524 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:21,524 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53807] open and established
DEBUG 2024-08-29 07:52:21,524 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53807] accepted by application
INFO 2024-08-29 07:52:21,524 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-29 07:52:21,532 basehttp 97436 6167244800 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 07:52:21,537 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53807]
INFO 2024-08-29 07:52:21,540 basehttp 97436 6217723904 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:52:21,542 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53808] to WebSocket
INFO 2024-08-29 07:52:21,542 basehttp 97436 6200897536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:52:21,546 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:21,559 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53808] open and established
DEBUG 2024-08-29 07:52:21,559 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53808] accepted by application
INFO 2024-08-29 07:52:21,559 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:21,565 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53808]
INFO 2024-08-29 07:52:21,566 basehttp 97436 6167244800 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:52:21,568 basehttp 97436 6217723904 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 07:52:21,569 basehttp 97436 6200897536 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:52:21,573 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53809] to WebSocket
INFO 2024-08-29 07:52:21,573 basehttp 97436 6200897536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:52:21,574 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:21,575 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53809] open and established
DEBUG 2024-08-29 07:52:21,575 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53809] accepted by application
INFO 2024-08-29 07:52:21,575 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:21,576 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53809]
DEBUG 2024-08-29 07:52:21,588 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53810] to WebSocket
INFO 2024-08-29 07:52:21,590 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:21,591 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53810] open and established
DEBUG 2024-08-29 07:52:21,591 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53810] accepted by application
INFO 2024-08-29 07:52:21,591 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:21,592 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53810]
DEBUG 2024-08-29 07:52:21,606 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53811] to WebSocket
INFO 2024-08-29 07:52:21,611 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:21,611 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53811] open and established
DEBUG 2024-08-29 07:52:21,611 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53811] accepted by application
INFO 2024-08-29 07:52:21,611 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:21,613 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53811]
DEBUG 2024-08-29 07:52:21,627 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53812] to WebSocket
INFO 2024-08-29 07:52:21,631 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:21,631 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53812] open and established
DEBUG 2024-08-29 07:52:21,631 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53812] accepted by application
INFO 2024-08-29 07:52:21,631 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:21,634 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53812]
DEBUG 2024-08-29 07:52:21,646 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53813] to WebSocket
INFO 2024-08-29 07:52:21,651 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:21,652 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53813] open and established
DEBUG 2024-08-29 07:52:21,652 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53813] accepted by application
INFO 2024-08-29 07:52:21,652 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:21,654 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53813]
DEBUG 2024-08-29 07:52:25,150 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53813]
INFO 2024-08-29 07:52:25,153 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 07:52:25,167 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53814] to WebSocket
INFO 2024-08-29 07:52:25,173 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:52:25,173 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53814] open and established
DEBUG 2024-08-29 07:52:25,173 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53814] accepted by application
INFO 2024-08-29 07:52:25,173 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:52:25,175 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53814]
INFO 2024-08-29 07:52:25,176 basehttp 97436 6200897536 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:52:25,188 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53815] to WebSocket
INFO 2024-08-29 07:52:25,189 basehttp 97436 6200897536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:52:25,194 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:52:25,194 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53815] open and established
DEBUG 2024-08-29 07:52:25,194 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53815] accepted by application
INFO 2024-08-29 07:52:25,194 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:52:25,196 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53815]
DEBUG 2024-08-29 07:52:25,207 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53816] to WebSocket
INFO 2024-08-29 07:52:25,209 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:52:25,209 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53816] open and established
DEBUG 2024-08-29 07:52:25,209 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53816] accepted by application
INFO 2024-08-29 07:52:25,209 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:52:25,210 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53816]
DEBUG 2024-08-29 07:52:25,223 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53817] to WebSocket
INFO 2024-08-29 07:52:25,225 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:52:25,225 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53817] open and established
DEBUG 2024-08-29 07:52:25,226 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53817] accepted by application
INFO 2024-08-29 07:52:25,226 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:52:25,228 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53817]
DEBUG 2024-08-29 07:52:27,375 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53817]
INFO 2024-08-29 07:52:27,376 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 07:52:27,389 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53818] to WebSocket
INFO 2024-08-29 07:52:27,394 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:27,394 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53818] open and established
DEBUG 2024-08-29 07:52:27,394 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53818] accepted by application
INFO 2024-08-29 07:52:27,394 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:27,400 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53818]
INFO 2024-08-29 07:52:27,404 basehttp 97436 6200897536 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 07:52:27,410 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53819] to WebSocket
INFO 2024-08-29 07:52:27,412 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:27,412 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53819] open and established
DEBUG 2024-08-29 07:52:27,412 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53819] accepted by application
INFO 2024-08-29 07:52:27,412 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-29 07:52:27,413 basehttp 97436 6200897536 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 07:52:27,414 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53819]
DEBUG 2024-08-29 07:52:27,425 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53820] to WebSocket
INFO 2024-08-29 07:52:27,429 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:27,429 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53820] open and established
DEBUG 2024-08-29 07:52:27,429 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53820] accepted by application
INFO 2024-08-29 07:52:27,429 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:27,430 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53820]
DEBUG 2024-08-29 07:52:27,443 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53821] to WebSocket
INFO 2024-08-29 07:52:27,445 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 07:52:27,445 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53821] open and established
DEBUG 2024-08-29 07:52:27,445 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53821] accepted by application
INFO 2024-08-29 07:52:27,445 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 07:52:27,446 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53821]
DEBUG 2024-08-29 07:52:28,801 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53821]
INFO 2024-08-29 07:52:28,802 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 07:52:28,810 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53822] to WebSocket
INFO 2024-08-29 07:52:28,814 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:52:28,814 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53822] open and established
DEBUG 2024-08-29 07:52:28,814 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53822] accepted by application
INFO 2024-08-29 07:52:28,815 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:52:28,818 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53822]
INFO 2024-08-29 07:52:28,820 basehttp 97436 6200897536 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 07:52:28,831 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53823] to WebSocket
INFO 2024-08-29 07:52:28,832 basehttp 97436 6200897536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 07:52:28,833 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:52:28,834 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53823] open and established
DEBUG 2024-08-29 07:52:28,834 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53823] accepted by application
INFO 2024-08-29 07:52:28,834 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:52:28,835 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53823]
DEBUG 2024-08-29 07:52:28,847 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53824] to WebSocket
INFO 2024-08-29 07:52:28,849 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:52:28,849 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53824] open and established
DEBUG 2024-08-29 07:52:28,849 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53824] accepted by application
INFO 2024-08-29 07:52:28,850 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:52:28,851 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53824]
DEBUG 2024-08-29 07:52:28,862 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 53825] to WebSocket
INFO 2024-08-29 07:52:28,863 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 07:52:28,864 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53825] open and established
DEBUG 2024-08-29 07:52:28,864 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 53825] accepted by application
INFO 2024-08-29 07:52:28,864 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 07:52:28,865 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 53825]
INFO 2024-08-29 08:01:21,009 autoreload 98376 8540262208 Watching for file changes with StatReloader
DEBUG 2024-08-29 08:01:23,788 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53815]
DEBUG 2024-08-29 08:01:23,790 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53823]
DEBUG 2024-08-29 08:01:23,791 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53814]
DEBUG 2024-08-29 08:01:23,792 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53819]
DEBUG 2024-08-29 08:01:23,792 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53824]
DEBUG 2024-08-29 08:01:23,792 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53809]
DEBUG 2024-08-29 08:01:23,792 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53805]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53822]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53812]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53818]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53820]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53825]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53810]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53816]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53807]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53808]
DEBUG 2024-08-29 08:01:23,793 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 53811]
INFO 2024-08-29 08:01:23,794 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:01:23,794 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:01:23,794 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:01:23,794 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:23,794 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:01:23,794 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:23,794 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:01:23,794 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:23,795 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:23,795 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:23,795 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:01:23,795 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:23,795 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:01:23,795 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:23,795 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:23,795 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:01:31,532 basehttp 98376 6129741824 "GET / HTTP/1.1" 200 1008
INFO 2024-08-29 08:01:31,661 basehttp 98376 6129741824 "GET /static/css/app.css HTTP/1.1" 200 3089
INFO 2024-08-29 08:01:31,662 basehttp 98376 6146568192 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 08:01:31,667 basehttp 98376 6180220928 "GET /static/js/app.js HTTP/1.1" 200 38269
INFO 2024-08-29 08:01:31,683 basehttp 98376 6163394560 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 08:01:31,835 basehttp 98376 6163394560 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:01:31,845 basehttp 98376 6163394560 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 08:01:31,875 basehttp 98376 6163394560 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-29 08:01:31,909 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54029] to WebSocket
DEBUG 2024-08-29 08:01:31,923 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54029] open and established
DEBUG 2024-08-29 08:01:31,923 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54029] accepted by application
DEBUG 2024-08-29 08:01:31,925 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54029]
INFO 2024-08-29 08:01:32,880 basehttp 98376 6163394560 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-29 08:01:38,154 basehttp 98376 6163394560 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-08-29 08:01:39,282 basehttp 98376 6163394560 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 08:01:39,295 basehttp 98376 6146568192 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-08-29 08:01:39,303 log 98376 6180220928 Not Found: /api/get_icon_color/
WARNING 2024-08-29 08:01:39,303 basehttp 98376 6180220928 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 08:01:39,315 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54029]
INFO 2024-08-29 08:01:39,330 basehttp 98376 6180220928 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-29 08:01:39,332 basehttp 98376 6146568192 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 08:01:39,334 basehttp 98376 6129741824 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-29 08:01:39,334 basehttp 98376 6163394560 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 08:01:39,451 basehttp 98376 6163394560 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:01:39,451 basehttp 98376 6129741824 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:01:39,471 basehttp 98376 6129741824 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 08:01:39,488 basehttp 98376 6129741824 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:01:39,496 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54032] to WebSocket
DEBUG 2024-08-29 08:01:39,498 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54032] open and established
DEBUG 2024-08-29 08:01:39,498 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54032] accepted by application
INFO 2024-08-29 08:01:39,498 basehttp 98376 6163394560 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-29 08:01:39,498 basehttp 98376 6129741824 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 08:01:39,498 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54032]
WARNING 2024-08-29 08:01:39,510 log 98376 6129741824 Not Found: /api/messages/
WARNING 2024-08-29 08:01:39,511 basehttp 98376 6129741824 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 08:01:39,511 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54033] to WebSocket
INFO 2024-08-29 08:01:39,513 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 08:01:39,514 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54033] open and established
DEBUG 2024-08-29 08:01:39,514 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54033] accepted by application
INFO 2024-08-29 08:01:39,514 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 08:01:39,514 log 98376 6129741824 Not Found: /api/messages/
WARNING 2024-08-29 08:01:39,514 basehttp 98376 6129741824 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-29 08:01:39,926 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 08:01:39,932 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54033]
DEBUG 2024-08-29 08:01:40,738 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54034] to WebSocket
INFO 2024-08-29 08:01:40,743 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:01:40,744 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54034] open and established
DEBUG 2024-08-29 08:01:40,744 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54034] accepted by application
INFO 2024-08-29 08:01:40,744 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:01:40,747 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54034]
INFO 2024-08-29 08:01:40,756 basehttp 98376 6129741824 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:01:40,761 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54035] to WebSocket
INFO 2024-08-29 08:01:40,759 basehttp 98376 6163394560 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:01:40,766 basehttp 98376 6146568192 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 08:01:40,768 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:01:40,768 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54035] open and established
DEBUG 2024-08-29 08:01:40,768 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54035] accepted by application
INFO 2024-08-29 08:01:40,768 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:01:40,770 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54035]
DEBUG 2024-08-29 08:01:40,782 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54036] to WebSocket
INFO 2024-08-29 08:01:40,782 basehttp 98376 6146568192 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 08:01:40,784 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:01:40,784 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54036] open and established
DEBUG 2024-08-29 08:01:40,784 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54036] accepted by application
INFO 2024-08-29 08:01:40,784 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:01:40,785 basehttp 98376 6146568192 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:01:40,787 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54036]
INFO 2024-08-29 08:01:40,787 basehttp 98376 6163394560 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:01:40,795 basehttp 98376 6163394560 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:01:40,796 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54037] to WebSocket
INFO 2024-08-29 08:01:40,796 basehttp 98376 6146568192 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:01:40,797 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:01:40,797 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54037] open and established
DEBUG 2024-08-29 08:01:40,798 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54037] accepted by application
INFO 2024-08-29 08:01:40,798 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:01:40,799 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54037]
DEBUG 2024-08-29 08:01:40,811 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54038] to WebSocket
INFO 2024-08-29 08:01:40,813 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:01:40,813 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54038] open and established
DEBUG 2024-08-29 08:01:40,813 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54038] accepted by application
INFO 2024-08-29 08:01:40,813 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:01:40,815 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54038]
DEBUG 2024-08-29 08:01:40,826 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54039] to WebSocket
INFO 2024-08-29 08:01:40,830 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:01:40,830 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54039] open and established
DEBUG 2024-08-29 08:01:40,831 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54039] accepted by application
INFO 2024-08-29 08:01:40,831 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:01:40,832 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54039]
DEBUG 2024-08-29 08:01:40,843 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54040] to WebSocket
INFO 2024-08-29 08:01:40,848 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:01:40,848 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54040] open and established
DEBUG 2024-08-29 08:01:40,848 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54040] accepted by application
INFO 2024-08-29 08:01:40,848 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:01:40,850 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54040]
INFO 2024-08-29 08:05:57,382 autoreload 98949 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 08:05:59,633 basehttp 98949 6123106304 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 08:05:59,636 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54040]
INFO 2024-08-29 08:05:59,636 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 08:05:59,668 basehttp 98949 6123106304 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 08:06:05,501 basehttp 98949 6123106304 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 08:06:06,879 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54097] to WebSocket
INFO 2024-08-29 08:06:06,886 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:06:06,887 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54097] open and established
DEBUG 2024-08-29 08:06:06,887 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54097] accepted by application
INFO 2024-08-29 08:06:06,887 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:06:06,893 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54097]
INFO 2024-08-29 08:06:06,900 basehttp 98949 6123106304 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 08:06:06,900 basehttp 98949 6156759040 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:06:06,917 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54038]
DEBUG 2024-08-29 08:06:06,918 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54032]
DEBUG 2024-08-29 08:06:06,918 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54037]
DEBUG 2024-08-29 08:06:06,919 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54034]
DEBUG 2024-08-29 08:06:06,919 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54039]
DEBUG 2024-08-29 08:06:06,919 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54097]
DEBUG 2024-08-29 08:06:06,919 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54036]
DEBUG 2024-08-29 08:06:06,919 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54035]
INFO 2024-08-29 08:06:06,919 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:06:06,919 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:06:06,919 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:06:06,919 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:06:06,919 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:06:06,919 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:06:06,919 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
WARNING 2024-08-29 08:06:06,920 log 98949 6139932672 Not Found: /api/get_icon_color/
WARNING 2024-08-29 08:06:06,920 basehttp 98949 6139932672 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 08:06:06,922 basehttp 98949 6139932672 - Broken pipe from ('127.0.0.1', 54098)
INFO 2024-08-29 08:06:06,931 basehttp 98949 6156759040 "GET /static/css/app.css HTTP/1.1" 200 2987
INFO 2024-08-29 08:06:06,934 basehttp 98949 6173585408 "GET /static/js/app.js HTTP/1.1" 200 37478
INFO 2024-08-29 08:06:06,935 basehttp 98949 6123106304 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 08:06:06,951 basehttp 98949 6139932672 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 08:06:07,105 basehttp 98949 6139932672 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:06:07,110 basehttp 98949 6123106304 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:06:07,127 basehttp 98949 6123106304 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-29 08:06:07,184 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54104] to WebSocket
INFO 2024-08-29 08:06:07,185 basehttp 98949 6123106304 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:06:07,195 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54104] open and established
INFO 2024-08-29 08:06:07,197 basehttp 98949 6123106304 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 08:06:07,199 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54104] accepted by application
INFO 2024-08-29 08:06:07,202 basehttp 98949 6139932672 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 08:06:07,203 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54104]
WARNING 2024-08-29 08:06:07,205 log 98949 6123106304 Not Found: /api/messages/
WARNING 2024-08-29 08:06:07,205 basehttp 98949 6123106304 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 08:06:07,209 log 98949 6123106304 Not Found: /api/messages/
WARNING 2024-08-29 08:06:07,209 basehttp 98949 6123106304 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 08:06:07,212 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54105] to WebSocket
INFO 2024-08-29 08:06:07,214 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 08:06:07,214 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54105] open and established
DEBUG 2024-08-29 08:06:07,214 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54105] accepted by application
INFO 2024-08-29 08:06:07,214 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 08:06:07,261 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 08:06:07,266 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54105]
DEBUG 2024-08-29 08:06:07,925 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54106] to WebSocket
INFO 2024-08-29 08:06:07,927 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:06:07,928 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54106] open and established
DEBUG 2024-08-29 08:06:07,928 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54106] accepted by application
INFO 2024-08-29 08:06:07,928 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:06:07,929 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54106]
INFO 2024-08-29 08:06:07,937 basehttp 98949 6123106304 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:06:07,939 basehttp 98949 6139932672 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:06:07,939 basehttp 98949 6173585408 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 08:06:07,940 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54107] to WebSocket
INFO 2024-08-29 08:06:07,942 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:06:07,942 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54107] open and established
DEBUG 2024-08-29 08:06:07,942 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54107] accepted by application
INFO 2024-08-29 08:06:07,942 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:06:07,945 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54107]
INFO 2024-08-29 08:06:07,952 basehttp 98949 6173585408 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 08:06:07,955 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54108] to WebSocket
INFO 2024-08-29 08:06:07,957 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:06:07,957 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54108] open and established
DEBUG 2024-08-29 08:06:07,957 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54108] accepted by application
INFO 2024-08-29 08:06:07,957 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:06:07,957 basehttp 98949 6173585408 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:06:07,958 basehttp 98949 6139932672 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:06:07,959 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54108]
INFO 2024-08-29 08:06:07,962 basehttp 98949 6139932672 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:06:07,962 basehttp 98949 6173585408 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:06:07,970 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54109] to WebSocket
INFO 2024-08-29 08:06:07,972 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:06:07,972 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54109] open and established
DEBUG 2024-08-29 08:06:07,972 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54109] accepted by application
INFO 2024-08-29 08:06:07,972 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:06:07,973 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54109]
DEBUG 2024-08-29 08:06:07,984 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54110] to WebSocket
INFO 2024-08-29 08:06:07,985 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:06:07,985 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54110] open and established
DEBUG 2024-08-29 08:06:07,985 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54110] accepted by application
INFO 2024-08-29 08:06:07,985 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:06:07,987 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54110]
DEBUG 2024-08-29 08:06:07,999 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54111] to WebSocket
INFO 2024-08-29 08:06:08,000 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:06:08,000 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54111] open and established
DEBUG 2024-08-29 08:06:08,001 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54111] accepted by application
INFO 2024-08-29 08:06:08,001 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:06:08,002 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54111]
DEBUG 2024-08-29 08:06:08,033 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54112] to WebSocket
INFO 2024-08-29 08:06:08,035 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:06:08,035 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54112] open and established
DEBUG 2024-08-29 08:06:08,035 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54112] accepted by application
INFO 2024-08-29 08:06:08,035 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:06:08,036 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54112]
INFO 2024-08-29 08:13:29,070 autoreload 99375 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 08:13:32,752 basehttp 99375 6200061952 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 08:13:32,758 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54112]
INFO 2024-08-29 08:13:32,760 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 08:13:32,788 basehttp 99375 6200061952 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 08:13:39,240 basehttp 99375 6200061952 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 08:13:40,838 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54230] to WebSocket
INFO 2024-08-29 08:13:40,862 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:13:40,863 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54230] open and established
DEBUG 2024-08-29 08:13:40,863 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54230] accepted by application
INFO 2024-08-29 08:13:40,863 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:13:40,867 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54230]
INFO 2024-08-29 08:13:40,867 basehttp 99375 6200061952 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 08:13:40,867 basehttp 99375 6233714688 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:13:40,870 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54110]
DEBUG 2024-08-29 08:13:40,871 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54109]
DEBUG 2024-08-29 08:13:40,871 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54108]
DEBUG 2024-08-29 08:13:40,871 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54104]
DEBUG 2024-08-29 08:13:40,871 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54107]
DEBUG 2024-08-29 08:13:40,871 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54230]
DEBUG 2024-08-29 08:13:40,871 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54111]
DEBUG 2024-08-29 08:13:40,871 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54106]
INFO 2024-08-29 08:13:40,871 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:13:40,871 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:13:40,871 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:13:40,871 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:13:40,871 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:13:40,872 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:13:40,872 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
WARNING 2024-08-29 08:13:40,873 log 99375 6216888320 Not Found: /api/get_icon_color/
WARNING 2024-08-29 08:13:40,873 basehttp 99375 6216888320 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 08:13:40,873 basehttp 99375 6216888320 - Broken pipe from ('127.0.0.1', 54231)
INFO 2024-08-29 08:13:40,891 basehttp 99375 6233714688 "GET /static/css/app.css HTTP/1.1" 200 3013
INFO 2024-08-29 08:13:40,892 basehttp 99375 6200061952 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 08:13:40,897 basehttp 99375 6233714688 "GET /static/js/app.js HTTP/1.1" 200 37478
INFO 2024-08-29 08:13:40,904 basehttp 99375 6200061952 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 08:13:41,068 basehttp 99375 6200061952 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:13:41,075 basehttp 99375 6233714688 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:13:41,116 basehttp 99375 6233714688 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 08:13:41,141 basehttp 99375 6233714688 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:13:41,146 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54237] to WebSocket
INFO 2024-08-29 08:13:41,151 basehttp 99375 6200061952 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 08:13:41,156 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54237] open and established
DEBUG 2024-08-29 08:13:41,156 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54237] accepted by application
INFO 2024-08-29 08:13:41,157 basehttp 99375 6233714688 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 08:13:41,157 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54237]
WARNING 2024-08-29 08:13:41,160 log 99375 6233714688 Not Found: /api/messages/
WARNING 2024-08-29 08:13:41,160 basehttp 99375 6233714688 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 08:13:41,163 log 99375 6233714688 Not Found: /api/messages/
WARNING 2024-08-29 08:13:41,164 basehttp 99375 6233714688 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 08:13:41,172 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54238] to WebSocket
INFO 2024-08-29 08:13:41,184 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 08:13:41,184 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54238] open and established
DEBUG 2024-08-29 08:13:41,184 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54238] accepted by application
INFO 2024-08-29 08:13:41,184 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 08:13:41,798 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 08:13:41,822 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54238]
DEBUG 2024-08-29 08:13:42,272 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54239] to WebSocket
INFO 2024-08-29 08:13:42,277 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:13:42,277 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54239] open and established
DEBUG 2024-08-29 08:13:42,278 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54239] accepted by application
INFO 2024-08-29 08:13:42,278 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:13:42,280 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54239]
DEBUG 2024-08-29 08:13:42,296 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54241] to WebSocket
INFO 2024-08-29 08:13:42,296 basehttp 99375 6216888320 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
INFO 2024-08-29 08:13:42,300 basehttp 99375 6200061952 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:13:42,300 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:13:42,301 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54241] open and established
DEBUG 2024-08-29 08:13:42,301 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54241] accepted by application
INFO 2024-08-29 08:13:42,301 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-29 08:13:42,301 basehttp 99375 6233714688 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:13:42,304 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54241]
INFO 2024-08-29 08:13:42,311 basehttp 99375 6233714688 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
DEBUG 2024-08-29 08:13:42,313 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54242] to WebSocket
INFO 2024-08-29 08:13:42,314 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:13:42,315 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54242] open and established
DEBUG 2024-08-29 08:13:42,315 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54242] accepted by application
INFO 2024-08-29 08:13:42,315 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-29 08:13:42,315 basehttp 99375 6233714688 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:13:42,316 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54242]
INFO 2024-08-29 08:13:42,316 basehttp 99375 6200061952 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:13:42,324 basehttp 99375 6200061952 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:13:42,324 basehttp 99375 6233714688 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:13:42,327 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54243] to WebSocket
INFO 2024-08-29 08:13:42,328 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:13:42,328 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54243] open and established
DEBUG 2024-08-29 08:13:42,329 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54243] accepted by application
INFO 2024-08-29 08:13:42,329 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:13:42,330 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54243]
DEBUG 2024-08-29 08:13:42,342 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54244] to WebSocket
INFO 2024-08-29 08:13:42,346 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:13:42,346 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54244] open and established
DEBUG 2024-08-29 08:13:42,346 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54244] accepted by application
INFO 2024-08-29 08:13:42,346 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:13:42,348 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54244]
DEBUG 2024-08-29 08:13:42,361 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54245] to WebSocket
INFO 2024-08-29 08:13:42,365 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:13:42,365 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54245] open and established
DEBUG 2024-08-29 08:13:42,365 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54245] accepted by application
INFO 2024-08-29 08:13:42,365 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:13:42,367 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54245]
DEBUG 2024-08-29 08:13:42,381 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54246] to WebSocket
INFO 2024-08-29 08:13:42,385 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:13:42,385 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54246] open and established
DEBUG 2024-08-29 08:13:42,385 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54246] accepted by application
INFO 2024-08-29 08:13:42,386 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:13:42,387 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54246]
DEBUG 2024-08-29 08:13:44,690 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54246]
INFO 2024-08-29 08:13:44,703 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 08:13:44,706 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54247] to WebSocket
INFO 2024-08-29 08:13:44,709 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:13:44,710 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54247] open and established
DEBUG 2024-08-29 08:13:44,710 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54247] accepted by application
INFO 2024-08-29 08:13:44,710 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:13:44,712 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54247]
INFO 2024-08-29 08:13:44,714 basehttp 99375 6233714688 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 08:13:44,725 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54248] to WebSocket
INFO 2024-08-29 08:13:44,726 basehttp 99375 6233714688 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:13:44,728 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:13:44,728 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54248] open and established
DEBUG 2024-08-29 08:13:44,728 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54248] accepted by application
INFO 2024-08-29 08:13:44,728 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:13:44,729 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54248]
DEBUG 2024-08-29 08:13:44,747 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54249] to WebSocket
INFO 2024-08-29 08:13:44,749 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:13:44,750 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54249] open and established
DEBUG 2024-08-29 08:13:44,750 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54249] accepted by application
INFO 2024-08-29 08:13:44,750 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:13:44,751 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54249]
DEBUG 2024-08-29 08:13:44,762 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54250] to WebSocket
INFO 2024-08-29 08:13:44,766 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:13:44,766 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54250] open and established
DEBUG 2024-08-29 08:13:44,766 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54250] accepted by application
INFO 2024-08-29 08:13:44,766 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:13:44,768 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54250]
INFO 2024-08-29 08:19:32,651 autoreload 99865 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 08:19:35,817 basehttp 99865 6190034944 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 08:19:35,819 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54250]
INFO 2024-08-29 08:19:35,820 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 08:19:35,850 basehttp 99865 6190034944 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 08:19:41,829 basehttp 99865 6190034944 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 08:19:42,763 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54305] to WebSocket
INFO 2024-08-29 08:19:42,771 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:19:42,776 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54305] open and established
DEBUG 2024-08-29 08:19:42,776 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54305] accepted by application
INFO 2024-08-29 08:19:42,776 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:19:42,789 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54305]
INFO 2024-08-29 08:19:42,788 basehttp 99865 6223687680 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:19:42,800 basehttp 99865 6190034944 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 08:19:42,801 basehttp 99865 6223687680 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:19:42,803 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54249]
DEBUG 2024-08-29 08:19:42,804 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54305]
DEBUG 2024-08-29 08:19:42,804 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54237]
DEBUG 2024-08-29 08:19:42,804 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54239]
DEBUG 2024-08-29 08:19:42,804 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54244]
DEBUG 2024-08-29 08:19:42,804 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54245]
DEBUG 2024-08-29 08:19:42,804 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54247]
DEBUG 2024-08-29 08:19:42,804 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54248]
DEBUG 2024-08-29 08:19:42,804 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54242]
DEBUG 2024-08-29 08:19:42,805 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54243]
DEBUG 2024-08-29 08:19:42,805 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54241]
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:19:42,805 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:19:42,806 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
WARNING 2024-08-29 08:19:42,807 log 99865 6206861312 Not Found: /api/get_icon_color/
INFO 2024-08-29 08:19:42,807 basehttp 99865 6206861312 - Broken pipe from ('127.0.0.1', 54306)
INFO 2024-08-29 08:19:42,824 basehttp 99865 6223687680 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 08:19:42,827 basehttp 99865 6190034944 "GET /static/css/app.css HTTP/1.1" 200 2868
INFO 2024-08-29 08:19:42,831 basehttp 99865 6223687680 "GET /static/js/app.js HTTP/1.1" 200 37426
INFO 2024-08-29 08:19:42,847 basehttp 99865 6190034944 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 08:19:43,000 basehttp 99865 6190034944 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:19:43,002 basehttp 99865 6223687680 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:19:43,049 basehttp 99865 6223687680 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 08:19:43,073 basehttp 99865 6223687680 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:19:43,083 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54312] to WebSocket
DEBUG 2024-08-29 08:19:43,086 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54312] open and established
DEBUG 2024-08-29 08:19:43,086 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54312] accepted by application
INFO 2024-08-29 08:19:43,086 basehttp 99865 6190034944 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 08:19:43,087 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54312]
INFO 2024-08-29 08:19:43,088 basehttp 99865 6223687680 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 08:19:43,093 log 99865 6223687680 Not Found: /api/messages/
WARNING 2024-08-29 08:19:43,094 basehttp 99865 6223687680 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 08:19:43,097 log 99865 6223687680 Not Found: /api/messages/
WARNING 2024-08-29 08:19:43,097 basehttp 99865 6223687680 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 08:19:43,097 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54313] to WebSocket
INFO 2024-08-29 08:19:43,099 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 08:19:43,099 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54313] open and established
DEBUG 2024-08-29 08:19:43,099 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54313] accepted by application
INFO 2024-08-29 08:19:43,099 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 08:19:43,263 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 08:19:43,269 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54313]
DEBUG 2024-08-29 08:19:43,904 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54314] to WebSocket
INFO 2024-08-29 08:19:43,908 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:19:43,908 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54314] open and established
DEBUG 2024-08-29 08:19:43,908 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54314] accepted by application
INFO 2024-08-29 08:19:43,908 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:19:43,910 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54314]
INFO 2024-08-29 08:19:43,926 basehttp 99865 6190034944 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:19:43,926 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54316] to WebSocket
INFO 2024-08-29 08:19:43,930 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:19:43,931 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54316] open and established
DEBUG 2024-08-29 08:19:43,931 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54316] accepted by application
INFO 2024-08-29 08:19:43,931 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:19:43,933 basehttp 99865 6223687680 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:19:43,934 basehttp 99865 6206861312 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
DEBUG 2024-08-29 08:19:43,934 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54316]
DEBUG 2024-08-29 08:19:43,947 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54317] to WebSocket
INFO 2024-08-29 08:19:43,950 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:19:43,950 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54317] open and established
DEBUG 2024-08-29 08:19:43,950 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54317] accepted by application
INFO 2024-08-29 08:19:43,950 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:19:43,950 basehttp 99865 6223687680 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:19:43,952 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54317]
INFO 2024-08-29 08:19:43,952 basehttp 99865 6190034944 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:19:43,953 basehttp 99865 6206861312 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 08:19:43,957 basehttp 99865 6206861312 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:19:43,963 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54318] to WebSocket
INFO 2024-08-29 08:19:43,965 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:19:43,965 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54318] open and established
DEBUG 2024-08-29 08:19:43,965 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54318] accepted by application
INFO 2024-08-29 08:19:43,965 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:19:43,966 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54318]
DEBUG 2024-08-29 08:19:43,980 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54319] to WebSocket
INFO 2024-08-29 08:19:43,984 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:19:43,984 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54319] open and established
DEBUG 2024-08-29 08:19:43,984 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54319] accepted by application
INFO 2024-08-29 08:19:43,984 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:19:43,985 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54319]
DEBUG 2024-08-29 08:19:43,999 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54320] to WebSocket
INFO 2024-08-29 08:19:44,003 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:19:44,004 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54320] open and established
DEBUG 2024-08-29 08:19:44,004 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54320] accepted by application
INFO 2024-08-29 08:19:44,004 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:19:44,005 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54320]
DEBUG 2024-08-29 08:19:44,018 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54321] to WebSocket
INFO 2024-08-29 08:19:44,024 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:19:44,025 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54321] open and established
DEBUG 2024-08-29 08:19:44,025 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54321] accepted by application
INFO 2024-08-29 08:19:44,025 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:19:44,027 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54321]
DEBUG 2024-08-29 08:19:52,348 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54321]
INFO 2024-08-29 08:19:52,349 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 08:19:52,363 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54323] to WebSocket
INFO 2024-08-29 08:19:52,370 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:19:52,371 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54323] open and established
DEBUG 2024-08-29 08:19:52,371 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54323] accepted by application
INFO 2024-08-29 08:19:52,371 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:19:52,373 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54323]
INFO 2024-08-29 08:19:52,374 basehttp 99865 6206861312 "GET /api/messages/?room_id=2 HTTP/1.1" 200 758
INFO 2024-08-29 08:19:52,385 basehttp 99865 6206861312 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:19:52,385 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54324] to WebSocket
INFO 2024-08-29 08:19:52,387 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:19:52,387 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54324] open and established
DEBUG 2024-08-29 08:19:52,388 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54324] accepted by application
INFO 2024-08-29 08:19:52,388 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:19:52,389 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54324]
DEBUG 2024-08-29 08:19:52,401 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54325] to WebSocket
INFO 2024-08-29 08:19:52,404 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:19:52,404 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54325] open and established
DEBUG 2024-08-29 08:19:52,404 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54325] accepted by application
INFO 2024-08-29 08:19:52,404 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:19:52,405 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54325]
DEBUG 2024-08-29 08:19:52,417 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54326] to WebSocket
INFO 2024-08-29 08:19:52,420 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:19:52,420 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54326] open and established
DEBUG 2024-08-29 08:19:52,420 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54326] accepted by application
INFO 2024-08-29 08:19:52,420 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:19:52,421 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54326]
DEBUG 2024-08-29 08:19:55,261 ws_protocol 88965 8540262208 WebSocket incoming frame on ['127.0.0.1', 54326]
DEBUG 2024-08-29 08:19:55,270 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54323]
DEBUG 2024-08-29 08:19:55,270 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54324]
DEBUG 2024-08-29 08:19:55,270 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54325]
DEBUG 2024-08-29 08:19:55,270 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54326]
DEBUG 2024-08-29 08:20:34,694 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54326]
INFO 2024-08-29 08:20:34,695 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 08:20:34,716 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54330] to WebSocket
INFO 2024-08-29 08:20:34,722 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:20:34,723 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54330] open and established
DEBUG 2024-08-29 08:20:34,723 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54330] accepted by application
INFO 2024-08-29 08:20:34,723 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:20:34,734 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54330]
DEBUG 2024-08-29 08:20:34,740 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54331] to WebSocket
INFO 2024-08-29 08:20:34,742 basehttp 99865 6206861312 "GET /api/messages/?room_id=1 HTTP/1.1" 200 969
INFO 2024-08-29 08:20:34,751 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-08-29 08:20:34,751 basehttp 99865 6206861312 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:20:34,751 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54331] open and established
DEBUG 2024-08-29 08:20:34,751 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54331] accepted by application
INFO 2024-08-29 08:20:34,751 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:20:34,753 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54331]
DEBUG 2024-08-29 08:20:34,767 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54332] to WebSocket
INFO 2024-08-29 08:20:34,771 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:20:34,780 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54332] open and established
DEBUG 2024-08-29 08:20:34,780 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54332] accepted by application
INFO 2024-08-29 08:20:34,781 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:20:34,786 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54332]
DEBUG 2024-08-29 08:20:34,796 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54333] to WebSocket
INFO 2024-08-29 08:20:34,801 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:20:34,801 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54333] open and established
DEBUG 2024-08-29 08:20:34,801 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54333] accepted by application
INFO 2024-08-29 08:20:34,801 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:20:34,802 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54333]
DEBUG 2024-08-29 08:20:38,215 ws_protocol 88965 8540262208 WebSocket incoming frame on ['127.0.0.1', 54333]
DEBUG 2024-08-29 08:20:38,228 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54314]
DEBUG 2024-08-29 08:20:38,229 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54316]
DEBUG 2024-08-29 08:20:38,229 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54317]
DEBUG 2024-08-29 08:20:38,229 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54318]
DEBUG 2024-08-29 08:20:38,230 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54319]
DEBUG 2024-08-29 08:20:38,230 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54320]
DEBUG 2024-08-29 08:20:38,230 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54330]
DEBUG 2024-08-29 08:20:38,230 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54331]
DEBUG 2024-08-29 08:20:38,230 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54332]
DEBUG 2024-08-29 08:20:38,230 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54333]
INFO 2024-08-29 08:38:45,583 autoreload 2243 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 08:38:51,237 basehttp 2243 6159118336 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 08:38:51,242 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54333]
INFO 2024-08-29 08:38:51,243 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 08:38:51,279 basehttp 2243 6159118336 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 08:38:56,264 basehttp 2243 6159118336 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 08:38:57,330 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54789] to WebSocket
INFO 2024-08-29 08:38:57,342 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:38:57,344 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54789] open and established
DEBUG 2024-08-29 08:38:57,344 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54789] accepted by application
INFO 2024-08-29 08:38:57,345 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:38:57,352 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54789]
INFO 2024-08-29 08:38:57,353 basehttp 2243 6159118336 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 08:38:57,358 basehttp 2243 6192771072 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:38:57,361 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54324]
DEBUG 2024-08-29 08:38:57,364 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54320]
INFO 2024-08-29 08:38:57,370 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
DEBUG 2024-08-29 08:38:57,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54325]
DEBUG 2024-08-29 08:38:57,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54332]
DEBUG 2024-08-29 08:38:57,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54316]
DEBUG 2024-08-29 08:38:57,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54312]
DEBUG 2024-08-29 08:38:57,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54319]
DEBUG 2024-08-29 08:38:57,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54323]
DEBUG 2024-08-29 08:38:57,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54317]
DEBUG 2024-08-29 08:38:57,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54314]
DEBUG 2024-08-29 08:38:57,371 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54330]
DEBUG 2024-08-29 08:38:57,371 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54789]
INFO 2024-08-29 08:38:57,371 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
DEBUG 2024-08-29 08:38:57,371 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54318]
DEBUG 2024-08-29 08:38:57,371 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54331]
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:38:57,372 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
WARNING 2024-08-29 08:38:57,373 log 2243 6175944704 Not Found: /api/get_icon_color/
WARNING 2024-08-29 08:38:57,373 basehttp 2243 6175944704 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 08:38:57,373 basehttp 2243 6175944704 - Broken pipe from ('127.0.0.1', 54790)
INFO 2024-08-29 08:38:57,382 basehttp 2243 6159118336 "GET /static/css/app.css HTTP/1.1" 200 2868
INFO 2024-08-29 08:38:57,383 basehttp 2243 6192771072 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 08:38:57,390 basehttp 2243 6159118336 "GET /static/js/app.js HTTP/1.1" 200 39971
INFO 2024-08-29 08:38:57,400 basehttp 2243 6192771072 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 08:38:57,582 basehttp 2243 6159118336 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:38:57,583 basehttp 2243 6192771072 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:38:57,616 basehttp 2243 6192771072 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:38:57,637 basehttp 2243 6192771072 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-08-29 08:38:57,672 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54796] to WebSocket
INFO 2024-08-29 08:38:57,678 basehttp 2243 6192771072 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-29 08:38:57,681 basehttp 2243 6159118336 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 08:38:57,683 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54796] open and established
WARNING 2024-08-29 08:38:57,683 log 2243 6192771072 Not Found: /api/messages/
DEBUG 2024-08-29 08:38:57,683 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54796] accepted by application
WARNING 2024-08-29 08:38:57,683 basehttp 2243 6192771072 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 08:38:57,684 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54796]
WARNING 2024-08-29 08:38:57,687 log 2243 6192771072 Not Found: /api/messages/
WARNING 2024-08-29 08:38:57,687 basehttp 2243 6192771072 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 08:38:57,698 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54797] to WebSocket
INFO 2024-08-29 08:38:57,705 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 08:38:57,706 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54797] open and established
DEBUG 2024-08-29 08:38:57,706 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54797] accepted by application
INFO 2024-08-29 08:38:57,706 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 08:38:57,733 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 08:38:57,739 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54797]
DEBUG 2024-08-29 08:38:58,914 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54798] to WebSocket
INFO 2024-08-29 08:38:58,919 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:38:58,920 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54798] open and established
DEBUG 2024-08-29 08:38:58,920 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54798] accepted by application
INFO 2024-08-29 08:38:58,920 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:38:58,925 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54798]
INFO 2024-08-29 08:38:58,931 basehttp 2243 6192771072 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:38:58,934 basehttp 2243 6159118336 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:38:58,938 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54800] to WebSocket
INFO 2024-08-29 08:38:58,944 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:38:58,944 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54800] open and established
INFO 2024-08-29 08:38:58,944 basehttp 2243 6175944704 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
DEBUG 2024-08-29 08:38:58,944 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54800] accepted by application
INFO 2024-08-29 08:38:58,944 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:38:58,946 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54800]
INFO 2024-08-29 08:38:58,947 basehttp 2243 6159118336 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 08:38:58,954 basehttp 2243 6159118336 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:38:58,955 basehttp 2243 6175944704 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:38:58,957 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54801] to WebSocket
INFO 2024-08-29 08:38:58,959 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:38:58,959 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54801] open and established
DEBUG 2024-08-29 08:38:58,959 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54801] accepted by application
INFO 2024-08-29 08:38:58,959 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:38:58,959 basehttp 2243 6159118336 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:38:58,959 basehttp 2243 6175944704 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:38:58,960 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54801]
DEBUG 2024-08-29 08:38:58,972 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54802] to WebSocket
INFO 2024-08-29 08:38:58,974 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:38:58,974 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54802] open and established
DEBUG 2024-08-29 08:38:58,975 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54802] accepted by application
INFO 2024-08-29 08:38:58,975 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:38:58,976 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54802]
DEBUG 2024-08-29 08:38:58,987 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54803] to WebSocket
INFO 2024-08-29 08:38:58,989 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:38:58,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54803] open and established
DEBUG 2024-08-29 08:38:58,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54803] accepted by application
INFO 2024-08-29 08:38:58,989 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:38:58,990 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54803]
DEBUG 2024-08-29 08:38:59,003 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54804] to WebSocket
INFO 2024-08-29 08:38:59,007 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:38:59,007 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54804] open and established
DEBUG 2024-08-29 08:38:59,007 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54804] accepted by application
INFO 2024-08-29 08:38:59,007 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:38:59,009 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54804]
DEBUG 2024-08-29 08:38:59,022 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54805] to WebSocket
INFO 2024-08-29 08:38:59,027 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:38:59,027 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54805] open and established
DEBUG 2024-08-29 08:38:59,027 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54805] accepted by application
INFO 2024-08-29 08:38:59,027 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:38:59,029 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54805]
DEBUG 2024-08-29 08:39:00,113 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54805]
INFO 2024-08-29 08:39:00,115 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 08:39:00,129 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54806] to WebSocket
INFO 2024-08-29 08:39:00,139 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:39:00,140 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54806] open and established
DEBUG 2024-08-29 08:39:00,140 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54806] accepted by application
INFO 2024-08-29 08:39:00,140 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:39:00,144 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54806]
INFO 2024-08-29 08:39:00,147 basehttp 2243 6159118336 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
DEBUG 2024-08-29 08:39:00,155 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54807] to WebSocket
INFO 2024-08-29 08:39:00,156 basehttp 2243 6159118336 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:39:00,172 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:39:00,172 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54807] open and established
DEBUG 2024-08-29 08:39:00,172 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54807] accepted by application
INFO 2024-08-29 08:39:00,173 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:39:00,174 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54807]
DEBUG 2024-08-29 08:39:00,185 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54808] to WebSocket
INFO 2024-08-29 08:39:00,187 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:39:00,187 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54808] open and established
DEBUG 2024-08-29 08:39:00,187 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54808] accepted by application
INFO 2024-08-29 08:39:00,187 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:39:00,188 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54808]
DEBUG 2024-08-29 08:39:00,211 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54809] to WebSocket
INFO 2024-08-29 08:39:00,213 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:39:00,213 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54809] open and established
DEBUG 2024-08-29 08:39:00,213 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54809] accepted by application
INFO 2024-08-29 08:39:00,213 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:39:00,214 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54809]
DEBUG 2024-08-29 08:39:00,924 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54809]
INFO 2024-08-29 08:39:00,925 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 08:39:00,938 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54810] to WebSocket
INFO 2024-08-29 08:39:00,946 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:39:00,947 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54810] open and established
DEBUG 2024-08-29 08:39:00,947 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54810] accepted by application
INFO 2024-08-29 08:39:00,947 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:39:00,949 basehttp 2243 6159118336 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
DEBUG 2024-08-29 08:39:00,951 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54810]
DEBUG 2024-08-29 08:39:00,966 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54811] to WebSocket
INFO 2024-08-29 08:39:00,969 basehttp 2243 6159118336 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:39:00,971 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:39:00,971 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54811] open and established
DEBUG 2024-08-29 08:39:00,972 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54811] accepted by application
INFO 2024-08-29 08:39:00,972 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:39:00,973 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54811]
DEBUG 2024-08-29 08:39:00,986 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54812] to WebSocket
INFO 2024-08-29 08:39:00,988 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:39:00,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54812] open and established
DEBUG 2024-08-29 08:39:00,989 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54812] accepted by application
INFO 2024-08-29 08:39:00,989 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:39:00,990 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54812]
DEBUG 2024-08-29 08:39:01,002 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54813] to WebSocket
INFO 2024-08-29 08:39:01,003 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:39:01,004 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54813] open and established
DEBUG 2024-08-29 08:39:01,004 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54813] accepted by application
INFO 2024-08-29 08:39:01,004 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:39:01,005 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54813]
DEBUG 2024-08-29 08:39:01,537 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54813]
INFO 2024-08-29 08:39:01,538 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 08:39:01,551 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54815] to WebSocket
INFO 2024-08-29 08:39:01,554 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:39:01,555 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54815] open and established
DEBUG 2024-08-29 08:39:01,555 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54815] accepted by application
INFO 2024-08-29 08:39:01,555 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-29 08:39:01,565 basehttp 2243 6159118336 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
DEBUG 2024-08-29 08:39:01,563 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54815]
DEBUG 2024-08-29 08:39:01,576 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54816] to WebSocket
INFO 2024-08-29 08:39:01,576 basehttp 2243 6159118336 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:39:01,578 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:39:01,578 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54816] open and established
DEBUG 2024-08-29 08:39:01,578 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54816] accepted by application
INFO 2024-08-29 08:39:01,578 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:39:01,580 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54816]
DEBUG 2024-08-29 08:39:01,590 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54817] to WebSocket
INFO 2024-08-29 08:39:01,592 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:39:01,592 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54817] open and established
DEBUG 2024-08-29 08:39:01,592 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54817] accepted by application
INFO 2024-08-29 08:39:01,592 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:39:01,593 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54817]
DEBUG 2024-08-29 08:39:01,606 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54818] to WebSocket
INFO 2024-08-29 08:39:01,612 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:39:01,612 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54818] open and established
DEBUG 2024-08-29 08:39:01,612 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54818] accepted by application
INFO 2024-08-29 08:39:01,612 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:39:01,614 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54818]
DEBUG 2024-08-29 08:40:09,364 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54818]
INFO 2024-08-29 08:40:09,365 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 08:40:09,388 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54822] to WebSocket
INFO 2024-08-29 08:40:09,397 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:09,398 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54822] open and established
DEBUG 2024-08-29 08:40:09,398 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54822] accepted by application
INFO 2024-08-29 08:40:09,398 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:40:09,400 basehttp 2243 6159118336 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
DEBUG 2024-08-29 08:40:09,406 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54822]
DEBUG 2024-08-29 08:40:09,412 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54823] to WebSocket
INFO 2024-08-29 08:40:09,413 basehttp 2243 6159118336 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:40:09,418 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:09,418 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54823] open and established
DEBUG 2024-08-29 08:40:09,418 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54823] accepted by application
INFO 2024-08-29 08:40:09,418 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:09,422 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54823]
DEBUG 2024-08-29 08:40:09,429 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54824] to WebSocket
INFO 2024-08-29 08:40:09,431 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:09,432 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54824] open and established
DEBUG 2024-08-29 08:40:09,432 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54824] accepted by application
INFO 2024-08-29 08:40:09,432 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:09,433 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54824]
DEBUG 2024-08-29 08:40:09,443 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54825] to WebSocket
INFO 2024-08-29 08:40:09,445 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:09,445 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54825] open and established
DEBUG 2024-08-29 08:40:09,445 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54825] accepted by application
INFO 2024-08-29 08:40:09,445 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:09,447 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54825]
DEBUG 2024-08-29 08:40:10,262 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54825]
INFO 2024-08-29 08:40:10,263 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 08:40:10,275 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54826] to WebSocket
INFO 2024-08-29 08:40:10,281 basehttp 2243 6159118336 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
INFO 2024-08-29 08:40:10,283 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:10,283 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54826] open and established
DEBUG 2024-08-29 08:40:10,283 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54826] accepted by application
INFO 2024-08-29 08:40:10,284 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:40:10,288 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54826]
INFO 2024-08-29 08:40:10,292 basehttp 2243 6159118336 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:40:10,297 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54827] to WebSocket
INFO 2024-08-29 08:40:10,299 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:10,299 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54827] open and established
DEBUG 2024-08-29 08:40:10,299 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54827] accepted by application
INFO 2024-08-29 08:40:10,299 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:40:10,300 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54827]
DEBUG 2024-08-29 08:40:10,314 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54828] to WebSocket
INFO 2024-08-29 08:40:10,318 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:10,319 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54828] open and established
DEBUG 2024-08-29 08:40:10,319 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54828] accepted by application
INFO 2024-08-29 08:40:10,319 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:40:10,320 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54828]
DEBUG 2024-08-29 08:40:10,332 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54829] to WebSocket
INFO 2024-08-29 08:40:10,338 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:10,338 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54829] open and established
DEBUG 2024-08-29 08:40:10,339 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54829] accepted by application
INFO 2024-08-29 08:40:10,339 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:40:10,340 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54829]
INFO 2024-08-29 08:40:11,583 basehttp 2243 6159118336 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 08:40:11,588 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54829]
INFO 2024-08-29 08:40:11,592 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-08-29 08:40:11,611 basehttp 2243 6159118336 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 08:40:16,790 basehttp 2243 6159118336 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 08:40:18,162 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54831] to WebSocket
INFO 2024-08-29 08:40:18,174 basehttp 2243 6159118336 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 08:40:18,175 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:18,175 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54831] open and established
DEBUG 2024-08-29 08:40:18,176 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54831] accepted by application
INFO 2024-08-29 08:40:18,176 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:40:18,180 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54831]
WARNING 2024-08-29 08:40:18,182 log 2243 6175944704 Not Found: /api/get_icon_color/
WARNING 2024-08-29 08:40:18,183 basehttp 2243 6175944704 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 08:40:18,183 basehttp 2243 6192771072 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:40:18,194 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54827]
DEBUG 2024-08-29 08:40:18,195 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54804]
DEBUG 2024-08-29 08:40:18,195 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54810]
DEBUG 2024-08-29 08:40:18,195 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54816]
DEBUG 2024-08-29 08:40:18,195 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54803]
DEBUG 2024-08-29 08:40:18,195 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54824]
DEBUG 2024-08-29 08:40:18,195 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54828]
DEBUG 2024-08-29 08:40:18,195 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54798]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54802]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54817]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54796]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54801]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54826]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54811]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54800]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54806]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54823]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54831]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54808]
DEBUG 2024-08-29 08:40:18,196 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54812]
DEBUG 2024-08-29 08:40:18,197 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54807]
DEBUG 2024-08-29 08:40:18,197 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54822]
DEBUG 2024-08-29 08:40:18,197 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54815]
INFO 2024-08-29 08:40:18,197 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,197 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,197 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,197 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,197 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,197 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:18,198 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:18,208 basehttp 2243 6192771072 "GET /static/css/app.css HTTP/1.1" 200 2868
INFO 2024-08-29 08:40:18,208 basehttp 2243 6175944704 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 08:40:18,211 basehttp 2243 6192771072 "GET /static/js/app.js HTTP/1.1" 200 39999
INFO 2024-08-29 08:40:18,221 basehttp 2243 6175944704 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 08:40:18,330 basehttp 2243 6175944704 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:40:18,333 basehttp 2243 6192771072 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:40:18,360 basehttp 2243 6192771072 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 08:40:18,383 basehttp 2243 6192771072 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:40:18,391 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54835] to WebSocket
INFO 2024-08-29 08:40:18,400 basehttp 2243 6175944704 "GET /static/chat.svg HTTP/1.1" 200 405
DEBUG 2024-08-29 08:40:18,408 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54835] open and established
DEBUG 2024-08-29 08:40:18,408 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54835] accepted by application
INFO 2024-08-29 08:40:18,409 basehttp 2243 6192771072 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 08:40:18,409 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54835]
WARNING 2024-08-29 08:40:18,413 log 2243 6192771072 Not Found: /api/messages/
WARNING 2024-08-29 08:40:18,413 basehttp 2243 6192771072 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 08:40:18,419 log 2243 6192771072 Not Found: /api/messages/
WARNING 2024-08-29 08:40:18,419 basehttp 2243 6192771072 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 08:40:18,420 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54836] to WebSocket
INFO 2024-08-29 08:40:18,422 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 08:40:18,422 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54836] open and established
DEBUG 2024-08-29 08:40:18,422 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54836] accepted by application
INFO 2024-08-29 08:40:18,422 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 08:40:18,826 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 08:40:18,842 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54836]
DEBUG 2024-08-29 08:40:19,676 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54837] to WebSocket
INFO 2024-08-29 08:40:19,680 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:19,681 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54837] open and established
DEBUG 2024-08-29 08:40:19,681 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54837] accepted by application
INFO 2024-08-29 08:40:19,681 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:19,683 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54837]
INFO 2024-08-29 08:40:19,694 basehttp 2243 6175944704 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:40:19,695 basehttp 2243 6192771072 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:40:19,695 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54838] to WebSocket
INFO 2024-08-29 08:40:19,699 basehttp 2243 6159118336 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 08:40:19,702 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:19,702 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54838] open and established
DEBUG 2024-08-29 08:40:19,702 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54838] accepted by application
INFO 2024-08-29 08:40:19,702 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:19,708 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54838]
INFO 2024-08-29 08:40:19,711 basehttp 2243 6159118336 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 08:40:19,715 basehttp 2243 6159118336 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:40:19,715 basehttp 2243 6192771072 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:40:19,716 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54839] to WebSocket
INFO 2024-08-29 08:40:19,719 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:19,719 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54839] open and established
INFO 2024-08-29 08:40:19,719 basehttp 2243 6159118336 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:40:19,719 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54839] accepted by application
INFO 2024-08-29 08:40:19,719 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:40:19,721 basehttp 2243 6192771072 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:40:19,721 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54839]
DEBUG 2024-08-29 08:40:19,733 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54840] to WebSocket
INFO 2024-08-29 08:40:19,735 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:19,735 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54840] open and established
DEBUG 2024-08-29 08:40:19,735 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54840] accepted by application
INFO 2024-08-29 08:40:19,735 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:19,737 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54840]
DEBUG 2024-08-29 08:40:19,749 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54841] to WebSocket
INFO 2024-08-29 08:40:19,750 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:19,751 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54841] open and established
DEBUG 2024-08-29 08:40:19,751 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54841] accepted by application
INFO 2024-08-29 08:40:19,751 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:19,752 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54841]
DEBUG 2024-08-29 08:40:19,765 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54842] to WebSocket
INFO 2024-08-29 08:40:19,769 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:19,769 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54842] open and established
DEBUG 2024-08-29 08:40:19,769 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54842] accepted by application
INFO 2024-08-29 08:40:19,769 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:19,771 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54842]
DEBUG 2024-08-29 08:40:19,782 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54843] to WebSocket
INFO 2024-08-29 08:40:19,786 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:19,786 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54843] open and established
DEBUG 2024-08-29 08:40:19,786 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54843] accepted by application
INFO 2024-08-29 08:40:19,786 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:19,789 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54843]
DEBUG 2024-08-29 08:40:20,795 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54843]
INFO 2024-08-29 08:40:20,796 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-08-29 08:40:20,808 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54845] to WebSocket
INFO 2024-08-29 08:40:20,812 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:20,812 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54845] open and established
DEBUG 2024-08-29 08:40:20,812 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54845] accepted by application
INFO 2024-08-29 08:40:20,812 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-08-29 08:40:20,825 basehttp 2243 6192771072 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
DEBUG 2024-08-29 08:40:20,827 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54846] to WebSocket
DEBUG 2024-08-29 08:40:20,828 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54845]
INFO 2024-08-29 08:40:20,830 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:20,830 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54846] open and established
DEBUG 2024-08-29 08:40:20,830 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54846] accepted by application
INFO 2024-08-29 08:40:20,830 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:40:20,832 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54846]
INFO 2024-08-29 08:40:20,833 basehttp 2243 6192771072 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:40:20,843 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54847] to WebSocket
INFO 2024-08-29 08:40:20,845 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:20,845 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54847] open and established
DEBUG 2024-08-29 08:40:20,846 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54847] accepted by application
INFO 2024-08-29 08:40:20,846 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:40:20,847 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54847]
DEBUG 2024-08-29 08:40:20,858 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54848] to WebSocket
INFO 2024-08-29 08:40:20,862 consumers 88965 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-08-29 08:40:20,863 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54848] open and established
DEBUG 2024-08-29 08:40:20,863 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54848] accepted by application
INFO 2024-08-29 08:40:20,863 consumers 88965 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-08-29 08:40:20,864 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54848]
DEBUG 2024-08-29 08:40:21,413 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54848]
INFO 2024-08-29 08:40:21,417 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-08-29 08:40:21,426 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54849] to WebSocket
INFO 2024-08-29 08:40:21,435 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:21,435 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54849] open and established
DEBUG 2024-08-29 08:40:21,435 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54849] accepted by application
INFO 2024-08-29 08:40:21,435 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:40:21,438 basehttp 2243 6192771072 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
DEBUG 2024-08-29 08:40:21,440 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54849]
DEBUG 2024-08-29 08:40:21,450 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54850] to WebSocket
INFO 2024-08-29 08:40:21,454 basehttp 2243 6192771072 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:40:21,458 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:21,459 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54850] open and established
DEBUG 2024-08-29 08:40:21,459 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54850] accepted by application
INFO 2024-08-29 08:40:21,459 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:21,464 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54850]
DEBUG 2024-08-29 08:40:21,472 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54851] to WebSocket
INFO 2024-08-29 08:40:21,474 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:21,474 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54851] open and established
DEBUG 2024-08-29 08:40:21,474 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54851] accepted by application
INFO 2024-08-29 08:40:21,474 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:21,476 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54851]
DEBUG 2024-08-29 08:40:21,488 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54852] to WebSocket
INFO 2024-08-29 08:40:21,492 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:21,493 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54852] open and established
DEBUG 2024-08-29 08:40:21,493 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54852] accepted by application
INFO 2024-08-29 08:40:21,493 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:21,495 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54852]
INFO 2024-08-29 08:40:28,097 autoreload 2521 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 08:40:30,728 basehttp 2521 6134738944 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 08:40:30,733 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54852]
INFO 2024-08-29 08:40:30,734 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 08:40:30,769 basehttp 2521 6134738944 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-08-29 08:40:35,672 basehttp 2521 6134738944 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 08:40:36,508 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54856] to WebSocket
INFO 2024-08-29 08:40:36,519 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:36,520 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54856] open and established
DEBUG 2024-08-29 08:40:36,520 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54856] accepted by application
INFO 2024-08-29 08:40:36,520 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:36,522 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54856]
INFO 2024-08-29 08:40:36,527 basehttp 2521 6168391680 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:40:36,528 basehttp 2521 6134738944 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 08:40:36,530 basehttp 2521 6168391680 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:40:36,532 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54840]
DEBUG 2024-08-29 08:40:36,532 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54845]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54837]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54842]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54851]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54847]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54838]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54846]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54835]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54849]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54856]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54839]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54850]
DEBUG 2024-08-29 08:40:36,533 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54841]
INFO 2024-08-29 08:40:36,533 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:40:36,534 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
WARNING 2024-08-29 08:40:36,535 log 2521 6151565312 Not Found: /api/get_icon_color/
WARNING 2024-08-29 08:40:36,535 basehttp 2521 6151565312 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-08-29 08:40:36,535 basehttp 2521 6151565312 - Broken pipe from ('127.0.0.1', 54857)
INFO 2024-08-29 08:40:36,551 basehttp 2521 6168391680 "GET /static/js/chunk-vendors.js HTTP/1.1" 304 0
INFO 2024-08-29 08:40:36,553 basehttp 2521 6151565312 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 08:40:36,553 basehttp 2521 6134738944 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 08:40:36,553 basehttp 2521 6185218048 "GET /static/js/app.js HTTP/1.1" 304 0
INFO 2024-08-29 08:40:36,683 basehttp 2521 6185218048 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:40:36,686 basehttp 2521 6134738944 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:40:36,706 basehttp 2521 6134738944 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 08:40:36,734 basehttp 2521 6134738944 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:40:36,735 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54861] to WebSocket
INFO 2024-08-29 08:40:36,736 basehttp 2521 6185218048 "GET /static/chat.svg HTTP/1.1" 304 0
INFO 2024-08-29 08:40:36,744 basehttp 2521 6185218048 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 08:40:36,745 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54861] open and established
DEBUG 2024-08-29 08:40:36,745 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54861] accepted by application
DEBUG 2024-08-29 08:40:36,746 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54861]
WARNING 2024-08-29 08:40:36,750 log 2521 6185218048 Not Found: /api/messages/
WARNING 2024-08-29 08:40:36,750 basehttp 2521 6185218048 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 08:40:36,756 log 2521 6185218048 Not Found: /api/messages/
WARNING 2024-08-29 08:40:36,757 basehttp 2521 6185218048 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-08-29 08:40:36,758 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54862] to WebSocket
INFO 2024-08-29 08:40:36,760 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 08:40:36,760 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54862] open and established
DEBUG 2024-08-29 08:40:36,760 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54862] accepted by application
INFO 2024-08-29 08:40:36,760 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-08-29 08:40:36,864 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 08:40:36,870 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54862]
DEBUG 2024-08-29 08:40:37,871 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54863] to WebSocket
INFO 2024-08-29 08:40:37,876 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:37,877 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54863] open and established
DEBUG 2024-08-29 08:40:37,877 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54863] accepted by application
INFO 2024-08-29 08:40:37,877 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:37,880 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54863]
DEBUG 2024-08-29 08:40:37,894 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54864] to WebSocket
INFO 2024-08-29 08:40:37,888 basehttp 2521 6185218048 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:40:37,893 basehttp 2521 6134738944 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:40:37,898 basehttp 2521 6151565312 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 08:40:37,899 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:37,900 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54864] open and established
DEBUG 2024-08-29 08:40:37,900 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54864] accepted by application
INFO 2024-08-29 08:40:37,900 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:37,901 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54864]
INFO 2024-08-29 08:40:37,901 basehttp 2521 6134738944 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 08:40:37,908 basehttp 2521 6134738944 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:40:37,909 basehttp 2521 6151565312 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:40:37,911 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54865] to WebSocket
INFO 2024-08-29 08:40:37,912 basehttp 2521 6151565312 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:40:37,913 basehttp 2521 6134738944 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:40:37,913 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:37,913 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54865] open and established
DEBUG 2024-08-29 08:40:37,913 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54865] accepted by application
INFO 2024-08-29 08:40:37,913 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:37,915 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54865]
DEBUG 2024-08-29 08:40:37,927 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54866] to WebSocket
INFO 2024-08-29 08:40:37,928 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:37,929 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54866] open and established
DEBUG 2024-08-29 08:40:37,929 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54866] accepted by application
INFO 2024-08-29 08:40:37,929 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:37,930 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54866]
DEBUG 2024-08-29 08:40:37,942 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54867] to WebSocket
INFO 2024-08-29 08:40:37,946 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:37,946 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54867] open and established
DEBUG 2024-08-29 08:40:37,946 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54867] accepted by application
INFO 2024-08-29 08:40:37,946 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:37,947 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54867]
DEBUG 2024-08-29 08:40:37,961 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54868] to WebSocket
INFO 2024-08-29 08:40:37,966 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:37,966 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54868] open and established
DEBUG 2024-08-29 08:40:37,966 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54868] accepted by application
INFO 2024-08-29 08:40:37,966 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:37,968 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54868]
DEBUG 2024-08-29 08:40:37,979 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 54869] to WebSocket
INFO 2024-08-29 08:40:37,984 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:40:37,984 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54869] open and established
DEBUG 2024-08-29 08:40:37,984 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 54869] accepted by application
INFO 2024-08-29 08:40:37,984 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:40:37,986 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 54869]
INFO 2024-08-29 08:40:47,819 basehttp 2521 6134738944 "GET /static/css/chunk-vendors.css HTTP/1.1" 304 0
INFO 2024-08-29 08:40:47,820 basehttp 2521 6151565312 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-08-29 08:40:48,130 basehttp 2521 6134738944 "GET /static/js/app.js.map HTTP/1.1" 200 114003
INFO 2024-08-29 08:40:48,181 basehttp 2521 6151565312 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 08:42:38,071 basehttp 2521 6151565312 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-08-29 08:42:38,074 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54869]
INFO 2024-08-29 08:42:38,076 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=None
INFO 2024-08-29 08:42:38,099 basehttp 2521 6151565312 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-08-29 08:42:43,327 basehttp 2521 6151565312 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-08-29 08:42:44,320 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55345] to WebSocket
INFO 2024-08-29 08:42:44,335 basehttp 2521 6151565312 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 08:42:44,336 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:42:44,336 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55345] open and established
DEBUG 2024-08-29 08:42:44,336 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55345] accepted by application
INFO 2024-08-29 08:42:44,337 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-08-29 08:42:44,339 basehttp 2521 6185218048 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:42:44,339 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55345]
WARNING 2024-08-29 08:42:44,342 log 2521 6134738944 Not Found: /api/get_icon_color/
WARNING 2024-08-29 08:42:44,342 basehttp 2521 6134738944 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-08-29 08:42:44,364 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54867]
DEBUG 2024-08-29 08:42:44,364 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54863]
DEBUG 2024-08-29 08:42:44,368 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54866]
DEBUG 2024-08-29 08:42:44,369 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54861]
DEBUG 2024-08-29 08:42:44,369 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54868]
DEBUG 2024-08-29 08:42:44,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54865]
DEBUG 2024-08-29 08:42:44,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55345]
DEBUG 2024-08-29 08:42:44,370 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 54864]
INFO 2024-08-29 08:42:44,370 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:42:44,371 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:42:44,371 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:42:44,371 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:42:44,371 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:42:44,371 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:42:44,371 consumers 88965 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-08-29 08:42:44,376 basehttp 2521 6134738944 "GET /static/css/app.css HTTP/1.1" 200 2868
INFO 2024-08-29 08:42:44,378 basehttp 2521 6185218048 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 08:42:44,410 basehttp 2521 6185218048 "GET /static/js/app.js HTTP/1.1" 200 40148
INFO 2024-08-29 08:42:44,425 basehttp 2521 6134738944 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 08:42:44,699 basehttp 2521 6134738944 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 08:42:44,707 basehttp 2521 6151565312 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:42:44,708 basehttp 2521 6185218048 "GET /static/js/app.js.map HTTP/1.1" 200 114308
INFO 2024-08-29 08:42:44,727 basehttp 2521 6185218048 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 08:42:44,737 basehttp 2521 6168391680 "GET /static/js/chunk-vendors.js.map HTTP/1.1" 200 12873752
INFO 2024-08-29 08:42:44,770 basehttp 2521 6168391680 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-08-29 08:42:44,774 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55349] to WebSocket
DEBUG 2024-08-29 08:42:44,777 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55349] open and established
DEBUG 2024-08-29 08:42:44,777 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55349] accepted by application
DEBUG 2024-08-29 08:42:44,778 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55349]
INFO 2024-08-29 08:42:44,785 basehttp 2521 6168391680 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-08-29 08:42:44,837 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55350] to WebSocket
WARNING 2024-08-29 08:42:44,844 log 2521 6168391680 Not Found: /api/messages/
WARNING 2024-08-29 08:42:44,845 basehttp 2521 6168391680 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 08:42:44,847 basehttp 2521 6185218048 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-29 08:42:44,853 consumers 88965 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-08-29 08:42:44,853 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55350] open and established
DEBUG 2024-08-29 08:42:44,853 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55350] accepted by application
INFO 2024-08-29 08:42:44,854 consumers 88965 8540262208 WebSocket connected: room=0, user=keita
WARNING 2024-08-29 08:42:44,879 log 2521 6185218048 Not Found: /api/messages/
WARNING 2024-08-29 08:42:44,880 basehttp 2521 6185218048 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
ERROR 2024-08-29 08:42:45,015 server 88965 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-08-29 08:42:45,020 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55350]
DEBUG 2024-08-29 08:42:47,160 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55361] to WebSocket
INFO 2024-08-29 08:42:47,167 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:42:47,167 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55361] open and established
DEBUG 2024-08-29 08:42:47,167 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55361] accepted by application
INFO 2024-08-29 08:42:47,167 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:42:47,170 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55361]
DEBUG 2024-08-29 08:42:47,186 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55364] to WebSocket
INFO 2024-08-29 08:42:47,186 basehttp 2521 6168391680 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:42:47,187 basehttp 2521 6185218048 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:42:47,191 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:42:47,191 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55364] open and established
DEBUG 2024-08-29 08:42:47,191 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55364] accepted by application
INFO 2024-08-29 08:42:47,191 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:42:47,193 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55364]
INFO 2024-08-29 08:42:47,193 basehttp 2521 6151565312 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
DEBUG 2024-08-29 08:42:47,202 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55365] to WebSocket
INFO 2024-08-29 08:42:47,204 basehttp 2521 6151565312 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 08:42:47,204 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:42:47,204 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55365] open and established
DEBUG 2024-08-29 08:42:47,205 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55365] accepted by application
INFO 2024-08-29 08:42:47,205 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:42:47,206 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55365]
INFO 2024-08-29 08:42:47,211 basehttp 2521 6151565312 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:42:47,212 basehttp 2521 6185218048 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-08-29 08:42:47,216 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55366] to WebSocket
INFO 2024-08-29 08:42:47,217 basehttp 2521 6185218048 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 08:42:47,218 basehttp 2521 6151565312 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 08:42:47,218 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:42:47,219 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55366] open and established
DEBUG 2024-08-29 08:42:47,219 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55366] accepted by application
INFO 2024-08-29 08:42:47,219 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:42:47,220 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55366]
DEBUG 2024-08-29 08:42:47,232 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55367] to WebSocket
INFO 2024-08-29 08:42:47,233 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:42:47,233 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55367] open and established
DEBUG 2024-08-29 08:42:47,233 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55367] accepted by application
INFO 2024-08-29 08:42:47,233 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:42:47,235 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55367]
DEBUG 2024-08-29 08:42:47,248 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55368] to WebSocket
INFO 2024-08-29 08:42:47,253 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:42:47,253 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55368] open and established
DEBUG 2024-08-29 08:42:47,254 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55368] accepted by application
INFO 2024-08-29 08:42:47,254 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:42:47,255 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55368]
DEBUG 2024-08-29 08:42:47,267 http_protocol 88965 8540262208 Upgraded connection ['127.0.0.1', 55369] to WebSocket
INFO 2024-08-29 08:42:47,272 consumers 88965 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-08-29 08:42:47,272 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55369] open and established
DEBUG 2024-08-29 08:42:47,272 ws_protocol 88965 8540262208 WebSocket ['127.0.0.1', 55369] accepted by application
INFO 2024-08-29 08:42:47,272 consumers 88965 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-08-29 08:42:47,276 ws_protocol 88965 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 55369]
INFO 2024-08-29 08:44:34,352 server 88965 8540262208 Killed 8 pending application instances
DEBUG 2024-08-29 08:44:34,355 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55366]
DEBUG 2024-08-29 08:44:34,355 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55368]
DEBUG 2024-08-29 08:44:34,356 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55361]
DEBUG 2024-08-29 08:44:34,356 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55367]
DEBUG 2024-08-29 08:44:34,356 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55349]
DEBUG 2024-08-29 08:44:34,356 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55364]
DEBUG 2024-08-29 08:44:34,356 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55365]
DEBUG 2024-08-29 08:44:34,357 ws_protocol 88965 8540262208 WebSocket closed for ['127.0.0.1', 55369]
INFO 2024-08-29 09:13:29,555 autoreload 3944 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 09:13:33,088 basehttp 3944 6195113984 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 09:13:33,125 basehttp 3944 6195113984 "GET /static/css/app.css HTTP/1.1" 200 2868
INFO 2024-08-29 09:13:33,126 basehttp 3944 6211940352 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 09:13:33,138 basehttp 3944 6195113984 "GET /static/js/app.js HTTP/1.1" 200 41635
INFO 2024-08-29 09:13:33,156 basehttp 3944 6211940352 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 09:13:33,309 basehttp 3944 6211940352 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 09:13:33,312 basehttp 3944 6195113984 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:13:33,343 basehttp 3944 6195113984 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 09:13:33,412 basehttp 3944 6195113984 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:13:33,444 basehttp 3944 6195113984 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-29 09:13:33,445 basehttp 3944 6211940352 "GET /static/chat.svg HTTP/1.1" 200 405
WARNING 2024-08-29 09:13:33,456 log 3944 6211940352 Not Found: /api/messages/
WARNING 2024-08-29 09:13:33,456 basehttp 3944 6211940352 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 09:13:33,460 log 3944 6211940352 Not Found: /api/messages/
WARNING 2024-08-29 09:13:33,460 basehttp 3944 6211940352 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 09:13:34,434 basehttp 3944 6211940352 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:13:34,439 basehttp 3944 6195113984 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:13:34,442 basehttp 3944 6228766720 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 09:13:34,451 basehttp 3944 6228766720 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 09:13:34,458 basehttp 3944 6228766720 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:13:34,463 basehttp 3944 6195113984 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:13:34,464 basehttp 3944 6228766720 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:13:34,465 basehttp 3944 6211940352 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:13:42,697 basehttp 3944 6211940352 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-29 09:13:58,615 basehttp 3944 6211940352 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-29 09:14:04,523 basehttp 3944 6211940352 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-29 09:16:17,023 autoreload 4266 8540262208 Watching for file changes with StatReloader
INFO 2024-08-29 09:16:21,244 basehttp 4266 6222983168 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:16:21,246 basehttp 4266 6206156800 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:16:21,248 basehttp 4266 6222983168 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:16:21,249 basehttp 4266 6189330432 "GET /home HTTP/1.1" 200 1008
INFO 2024-08-29 09:16:21,255 basehttp 4266 6189330432 "POST /api/create_default_room/ HTTP/1.1" 200 76
INFO 2024-08-29 09:16:21,256 basehttp 4266 6189330432 - Broken pipe from ('127.0.0.1', 56185)
INFO 2024-08-29 09:16:21,280 basehttp 4266 6189330432 "GET /static/css/app.css HTTP/1.1" 200 2868
INFO 2024-08-29 09:16:21,282 basehttp 4266 6239809536 "GET /static/js/app.js HTTP/1.1" 200 42079
INFO 2024-08-29 09:16:21,282 basehttp 4266 6206156800 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-08-29 09:16:21,287 basehttp 4266 6222983168 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-08-29 09:16:21,382 basehttp 4266 6222983168 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-08-29 09:16:21,391 basehttp 4266 6206156800 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:16:21,408 basehttp 4266 6206156800 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-08-29 09:16:21,430 basehttp 4266 6206156800 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:16:21,438 basehttp 4266 6206156800 "GET /static/chat.svg HTTP/1.1" 200 405
INFO 2024-08-29 09:16:21,446 basehttp 4266 6222983168 "POST /api/create_default_room/ HTTP/1.1" 200 76
WARNING 2024-08-29 09:16:21,454 log 4266 6222983168 Not Found: /api/messages/
WARNING 2024-08-29 09:16:21,455 basehttp 4266 6222983168 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
WARNING 2024-08-29 09:16:21,465 log 4266 6222983168 Not Found: /api/messages/
WARNING 2024-08-29 09:16:21,465 basehttp 4266 6222983168 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-08-29 09:16:22,240 basehttp 4266 6222983168 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:16:22,244 basehttp 4266 6206156800 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:16:22,251 basehttp 4266 6239809536 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 09:16:22,258 basehttp 4266 6206156800 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-08-29 09:16:22,263 basehttp 4266 6206156800 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:16:22,264 basehttp 4266 6239809536 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:16:22,266 basehttp 4266 6222983168 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-08-29 09:16:22,267 basehttp 4266 6206156800 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-08-29 09:17:10,105 basehttp 4266 6206156800 "POST /api/record/ HTTP/1.1" 201 21
INFO 2024-08-29 09:17:19,223 basehttp 4266 6206156800 "POST /api/logout/ HTTP/1.1" 200 59
INFO 2024-08-29 09:17:19,262 basehttp 4266 6206156800 "GET /static/img/chat-icon.svg HTTP/1.1" 200 1615
INFO 2024-09-04 07:12:14,748 cli 76698 8540262208 Starting server at tcp:port=8001:interface=127.0.0.1
INFO 2024-09-04 07:12:14,749 server 76698 8540262208 HTTP/2 support not enabled (install the http2 and tls Twisted extras)
INFO 2024-09-04 07:12:14,749 server 76698 8540262208 Configuring endpoint tcp:port=8001:interface=127.0.0.1
INFO 2024-09-04 07:12:14,749 server 76698 8540262208 Listening on TCP address 127.0.0.1:8001
INFO 2024-09-04 07:12:25,276 autoreload 76740 8540262208 Watching for file changes with StatReloader
INFO 2024-09-04 07:12:36,366 basehttp 76740 6169636864 "GET / HTTP/1.1" 200 1008
INFO 2024-09-04 07:12:36,537 basehttp 76740 6186463232 "GET /static/css/app.css HTTP/1.1" 304 0
INFO 2024-09-04 07:12:36,551 basehttp 76740 6169636864 "GET /static/css/chunk-vendors.css HTTP/1.1" 200 188207
INFO 2024-09-04 07:12:36,551 basehttp 76740 6203289600 "GET /static/js/app.js HTTP/1.1" 200 42079
INFO 2024-09-04 07:12:36,582 basehttp 76740 6186463232 "GET /static/js/chunk-vendors.js HTTP/1.1" 200 4999809
INFO 2024-09-04 07:12:36,731 basehttp 76740 6186463232 "GET /api/check_login_status/ HTTP/1.1" 200 21
INFO 2024-09-04 07:12:36,742 basehttp 76740 6186463232 "GET /static/img/chat-icon.svg HTTP/1.1" 304 0
INFO 2024-09-04 07:12:44,576 basehttp 76740 6186463232 "POST /api/login/ HTTP/1.1" 200 42
INFO 2024-09-04 07:12:46,052 basehttp 76740 6186463232 "GET /home HTTP/1.1" 200 1008
INFO 2024-09-04 07:12:46,066 basehttp 76740 6169636864 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-09-04 07:12:46,076 log 76740 6203289600 Not Found: /api/get_icon_color/
WARNING 2024-09-04 07:12:46,076 basehttp 76740 6203289600 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
INFO 2024-09-04 07:12:46,229 basehttp 76740 6203289600 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-09-04 07:12:46,235 basehttp 76740 6169636864 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 07:12:46,258 basehttp 76740 6169636864 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-09-04 07:12:46,274 basehttp 76740 6169636864 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-09-04 07:12:46,282 basehttp 76740 6203289600 "GET /static/chat.svg HTTP/1.1" 304 0
INFO 2024-09-04 07:12:46,290 basehttp 76740 6169636864 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-09-04 07:12:46,290 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62239] to WebSocket
WARNING 2024-09-04 07:12:46,299 log 76740 6169636864 Not Found: /api/messages/
WARNING 2024-09-04 07:12:46,300 basehttp 76740 6169636864 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-09-04 07:12:46,304 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62239] open and established
DEBUG 2024-09-04 07:12:46,304 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62239] accepted by application
DEBUG 2024-09-04 07:12:46,305 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62239]
WARNING 2024-09-04 07:12:46,305 log 76740 6169636864 Not Found: /api/messages/
WARNING 2024-09-04 07:12:46,305 basehttp 76740 6169636864 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-09-04 07:12:46,316 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62240] to WebSocket
INFO 2024-09-04 07:12:46,318 consumers 76698 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-09-04 07:12:46,318 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62240] open and established
DEBUG 2024-09-04 07:12:46,318 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62240] accepted by application
INFO 2024-09-04 07:12:46,318 consumers 76698 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-09-04 07:12:46,772 server 76698 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-09-04 07:12:46,794 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62240]
DEBUG 2024-09-04 07:12:48,710 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62241] to WebSocket
INFO 2024-09-04 07:12:48,715 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:48,716 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62241] open and established
DEBUG 2024-09-04 07:12:48,716 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62241] accepted by application
INFO 2024-09-04 07:12:48,716 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:48,719 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62241]
DEBUG 2024-09-04 07:12:48,733 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62242] to WebSocket
INFO 2024-09-04 07:12:48,733 basehttp 76740 6186463232 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
INFO 2024-09-04 07:12:48,734 basehttp 76740 6169636864 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-09-04 07:12:48,736 basehttp 76740 6203289600 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 07:12:48,739 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:48,739 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62242] open and established
DEBUG 2024-09-04 07:12:48,739 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62242] accepted by application
INFO 2024-09-04 07:12:48,739 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:48,742 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62242]
INFO 2024-09-04 07:12:48,746 basehttp 76740 6203289600 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
DEBUG 2024-09-04 07:12:48,753 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62243] to WebSocket
INFO 2024-09-04 07:12:48,755 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
INFO 2024-09-04 07:12:48,755 basehttp 76740 6203289600 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-09-04 07:12:48,755 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62243] open and established
DEBUG 2024-09-04 07:12:48,756 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62243] accepted by application
INFO 2024-09-04 07:12:48,756 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
INFO 2024-09-04 07:12:48,757 basehttp 76740 6169636864 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-09-04 07:12:48,759 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62243]
INFO 2024-09-04 07:12:48,760 basehttp 76740 6169636864 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-09-04 07:12:48,761 basehttp 76740 6203289600 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-09-04 07:12:48,769 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62244] to WebSocket
INFO 2024-09-04 07:12:48,771 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:48,771 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62244] open and established
DEBUG 2024-09-04 07:12:48,771 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62244] accepted by application
INFO 2024-09-04 07:12:48,771 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:48,772 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62244]
DEBUG 2024-09-04 07:12:48,784 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62245] to WebSocket
INFO 2024-09-04 07:12:48,789 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:48,789 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62245] open and established
DEBUG 2024-09-04 07:12:48,789 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62245] accepted by application
INFO 2024-09-04 07:12:48,789 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:48,791 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62245]
DEBUG 2024-09-04 07:12:48,804 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62246] to WebSocket
INFO 2024-09-04 07:12:48,807 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:48,807 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62246] open and established
DEBUG 2024-09-04 07:12:48,807 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62246] accepted by application
INFO 2024-09-04 07:12:48,807 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:48,809 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62246]
DEBUG 2024-09-04 07:12:48,820 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62247] to WebSocket
INFO 2024-09-04 07:12:48,825 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:48,825 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62247] open and established
DEBUG 2024-09-04 07:12:48,825 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62247] accepted by application
INFO 2024-09-04 07:12:48,826 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:48,827 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62247]
DEBUG 2024-09-04 07:12:49,495 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62247]
INFO 2024-09-04 07:12:49,496 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-09-04 07:12:49,505 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62248] to WebSocket
INFO 2024-09-04 07:12:49,511 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:12:49,511 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62248] open and established
DEBUG 2024-09-04 07:12:49,511 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62248] accepted by application
INFO 2024-09-04 07:12:49,512 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:12:49,514 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62248]
INFO 2024-09-04 07:12:49,525 basehttp 76740 6203289600 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
DEBUG 2024-09-04 07:12:49,532 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62249] to WebSocket
INFO 2024-09-04 07:12:49,536 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:12:49,536 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62249] open and established
DEBUG 2024-09-04 07:12:49,536 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62249] accepted by application
INFO 2024-09-04 07:12:49,536 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-09-04 07:12:49,536 basehttp 76740 6203289600 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-09-04 07:12:49,538 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62249]
DEBUG 2024-09-04 07:12:49,550 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62250] to WebSocket
INFO 2024-09-04 07:12:49,552 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:12:49,552 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62250] open and established
DEBUG 2024-09-04 07:12:49,552 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62250] accepted by application
INFO 2024-09-04 07:12:49,552 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:12:49,553 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62250]
DEBUG 2024-09-04 07:12:49,566 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62251] to WebSocket
INFO 2024-09-04 07:12:49,572 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:12:49,572 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62251] open and established
DEBUG 2024-09-04 07:12:49,572 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62251] accepted by application
INFO 2024-09-04 07:12:49,572 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:12:49,574 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62251]
DEBUG 2024-09-04 07:12:50,944 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62251]
INFO 2024-09-04 07:12:50,945 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=None
DEBUG 2024-09-04 07:12:50,963 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62252] to WebSocket
INFO 2024-09-04 07:12:50,967 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:50,968 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62252] open and established
DEBUG 2024-09-04 07:12:50,968 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62252] accepted by application
INFO 2024-09-04 07:12:50,968 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:50,975 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62252]
INFO 2024-09-04 07:12:50,978 basehttp 76740 6203289600 "GET /api/messages/?room_id=1 HTTP/1.1" 200 1071
DEBUG 2024-09-04 07:12:50,986 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62253] to WebSocket
INFO 2024-09-04 07:12:50,991 basehttp 76740 6203289600 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 07:12:50,991 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:50,991 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62253] open and established
DEBUG 2024-09-04 07:12:50,992 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62253] accepted by application
INFO 2024-09-04 07:12:50,992 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:50,993 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62253]
DEBUG 2024-09-04 07:12:51,008 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62254] to WebSocket
INFO 2024-09-04 07:12:51,011 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:51,012 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62254] open and established
DEBUG 2024-09-04 07:12:51,012 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62254] accepted by application
INFO 2024-09-04 07:12:51,012 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:51,013 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62254]
DEBUG 2024-09-04 07:12:51,026 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62255] to WebSocket
INFO 2024-09-04 07:12:51,031 consumers 76698 8540262208 WebSocket connection attempt: room=1, user=keita
DEBUG 2024-09-04 07:12:51,031 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62255] open and established
DEBUG 2024-09-04 07:12:51,031 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62255] accepted by application
INFO 2024-09-04 07:12:51,031 consumers 76698 8540262208 WebSocket connected: room=1, user=keita
DEBUG 2024-09-04 07:12:51,033 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62255]
DEBUG 2024-09-04 07:12:52,329 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62255]
INFO 2024-09-04 07:12:52,330 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=None
DEBUG 2024-09-04 07:12:52,340 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62257] to WebSocket
INFO 2024-09-04 07:12:52,344 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:12:52,344 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62257] open and established
DEBUG 2024-09-04 07:12:52,345 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62257] accepted by application
INFO 2024-09-04 07:12:52,345 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:12:52,349 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62257]
INFO 2024-09-04 07:12:52,355 basehttp 76740 6203289600 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
DEBUG 2024-09-04 07:12:52,363 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62258] to WebSocket
INFO 2024-09-04 07:12:52,369 basehttp 76740 6203289600 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 07:12:52,370 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:12:52,370 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62258] open and established
DEBUG 2024-09-04 07:12:52,370 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62258] accepted by application
INFO 2024-09-04 07:12:52,370 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:12:52,372 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62258]
DEBUG 2024-09-04 07:12:52,386 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62259] to WebSocket
INFO 2024-09-04 07:12:52,392 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:12:52,392 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62259] open and established
DEBUG 2024-09-04 07:12:52,392 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62259] accepted by application
INFO 2024-09-04 07:12:52,392 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:12:52,394 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62259]
DEBUG 2024-09-04 07:12:52,405 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62260] to WebSocket
INFO 2024-09-04 07:12:52,407 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:12:52,407 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62260] open and established
DEBUG 2024-09-04 07:12:52,407 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62260] accepted by application
INFO 2024-09-04 07:12:52,407 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:12:52,408 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62260]
INFO 2024-09-04 07:13:22,880 basehttp 76740 6203289600 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-09-04 07:13:22,887 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62260]
INFO 2024-09-04 07:13:22,887 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-09-04 07:14:42,858 basehttp 76740 6203289600 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-09-04 07:14:44,313 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62261] to WebSocket
INFO 2024-09-04 07:14:44,317 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:14:44,318 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62261] open and established
DEBUG 2024-09-04 07:14:44,319 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62261] accepted by application
INFO 2024-09-04 07:14:44,319 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:14:44,328 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62261]
INFO 2024-09-04 07:14:44,338 basehttp 76740 6203289600 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-09-04 07:14:44,340 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62243]
DEBUG 2024-09-04 07:14:44,340 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62246]
DEBUG 2024-09-04 07:14:44,340 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62253]
DEBUG 2024-09-04 07:14:44,340 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62257]
DEBUG 2024-09-04 07:14:44,341 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62249]
DEBUG 2024-09-04 07:14:44,341 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62252]
DEBUG 2024-09-04 07:14:44,341 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62244]
DEBUG 2024-09-04 07:14:44,341 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62259]
DEBUG 2024-09-04 07:14:44,341 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62245]
DEBUG 2024-09-04 07:14:44,341 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62258]
DEBUG 2024-09-04 07:14:44,342 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62242]
DEBUG 2024-09-04 07:14:44,342 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62241]
DEBUG 2024-09-04 07:14:44,342 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62239]
DEBUG 2024-09-04 07:14:44,342 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62250]
DEBUG 2024-09-04 07:14:44,342 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62248]
DEBUG 2024-09-04 07:14:44,342 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62254]
DEBUG 2024-09-04 07:14:44,343 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62261]
INFO 2024-09-04 07:14:44,343 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,343 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,343 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,343 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 07:14:44,343 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 07:14:44,343 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,343 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,343 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 07:14:44,344 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,344 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 07:14:44,344 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,344 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,344 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 07:14:44,344 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 07:14:44,344 consumers 76698 8540262208 WebSocket disconnected: room=1, user=keita, code=1001
INFO 2024-09-04 07:14:44,344 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
WARNING 2024-09-04 07:14:44,345 log 76740 6169636864 Not Found: /api/get_icon_color/
INFO 2024-09-04 07:14:44,346 basehttp 76740 6169636864 - Broken pipe from ('127.0.0.1', 62231)
INFO 2024-09-04 07:14:44,346 basehttp 76740 6186463232 - Broken pipe from ('127.0.0.1', 62232)
INFO 2024-09-04 07:14:44,498 basehttp 76740 6169636864 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 07:14:44,505 basehttp 76740 6203289600 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-09-04 07:14:44,511 basehttp 76740 6203289600 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-09-04 07:14:44,526 basehttp 76740 6203289600 "GET /api/room/ HTTP/1.1" 200 51
DEBUG 2024-09-04 07:14:44,547 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62264] to WebSocket
INFO 2024-09-04 07:14:44,550 basehttp 76740 6203289600 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-09-04 07:14:44,551 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62264] open and established
DEBUG 2024-09-04 07:14:44,551 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62264] accepted by application
WARNING 2024-09-04 07:14:44,559 log 76740 6203289600 Not Found: /api/messages/
WARNING 2024-09-04 07:14:44,559 basehttp 76740 6203289600 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-09-04 07:14:44,559 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62264]
DEBUG 2024-09-04 07:14:44,565 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62265] to WebSocket
WARNING 2024-09-04 07:14:44,565 log 76740 6203289600 Not Found: /api/messages/
WARNING 2024-09-04 07:14:44,565 basehttp 76740 6203289600 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-09-04 07:14:44,570 consumers 76698 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-09-04 07:14:44,570 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62265] open and established
DEBUG 2024-09-04 07:14:44,570 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62265] accepted by application
INFO 2024-09-04 07:14:44,570 consumers 76698 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-09-04 07:14:44,957 server 76698 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-09-04 07:14:44,965 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62265]
DEBUG 2024-09-04 07:14:48,095 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62266] to WebSocket
INFO 2024-09-04 07:14:48,099 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:14:48,099 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62266] open and established
DEBUG 2024-09-04 07:14:48,099 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62266] accepted by application
INFO 2024-09-04 07:14:48,099 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:14:48,102 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62266]
INFO 2024-09-04 07:14:48,116 basehttp 76740 6169636864 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-09-04 07:14:48,116 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62268] to WebSocket
INFO 2024-09-04 07:14:48,120 basehttp 76740 6186463232 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
INFO 2024-09-04 07:14:48,125 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:14:48,125 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62268] open and established
DEBUG 2024-09-04 07:14:48,125 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62268] accepted by application
INFO 2024-09-04 07:14:48,125 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-09-04 07:14:48,123 basehttp 76740 6203289600 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-09-04 07:14:48,127 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62268]
INFO 2024-09-04 07:14:48,128 basehttp 76740 6186463232 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
INFO 2024-09-04 07:14:48,131 basehttp 76740 6186463232 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-09-04 07:14:48,132 basehttp 76740 6203289600 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 07:14:48,134 basehttp 76740 6203289600 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-09-04 07:14:48,135 basehttp 76740 6186463232 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-09-04 07:14:48,137 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62269] to WebSocket
INFO 2024-09-04 07:14:48,139 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:14:48,139 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62269] open and established
DEBUG 2024-09-04 07:14:48,139 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62269] accepted by application
INFO 2024-09-04 07:14:48,139 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:14:48,140 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62269]
DEBUG 2024-09-04 07:14:48,154 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62270] to WebSocket
INFO 2024-09-04 07:14:48,159 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:14:48,160 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62270] open and established
DEBUG 2024-09-04 07:14:48,160 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62270] accepted by application
INFO 2024-09-04 07:14:48,160 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:14:48,162 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62270]
DEBUG 2024-09-04 07:14:48,175 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62271] to WebSocket
INFO 2024-09-04 07:14:48,179 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:14:48,179 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62271] open and established
DEBUG 2024-09-04 07:14:48,179 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62271] accepted by application
INFO 2024-09-04 07:14:48,179 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:14:48,180 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62271]
DEBUG 2024-09-04 07:14:48,194 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62272] to WebSocket
INFO 2024-09-04 07:14:48,199 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:14:48,199 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62272] open and established
DEBUG 2024-09-04 07:14:48,199 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62272] accepted by application
INFO 2024-09-04 07:14:48,199 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:14:48,201 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62272]
DEBUG 2024-09-04 07:14:48,211 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 62273] to WebSocket
INFO 2024-09-04 07:14:48,213 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 07:14:48,213 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62273] open and established
DEBUG 2024-09-04 07:14:48,213 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 62273] accepted by application
INFO 2024-09-04 07:14:48,213 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 07:14:48,216 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 62273]
INFO 2024-09-04 08:05:20,423 basehttp 76740 6169636864 "GET / HTTP/1.1" 200 1008
INFO 2024-09-04 08:05:20,574 basehttp 76740 6169636864 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-09-04 08:05:20,602 basehttp 76740 6169636864 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-09-04 09:08:19,153 basehttp 76740 6169636864 "POST /api/logout/ HTTP/1.1" 200 59
DEBUG 2024-09-04 09:08:19,155 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62273]
INFO 2024-09-04 09:08:19,157 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=None
INFO 2024-09-04 09:08:25,783 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:25,846 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:25,951 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:26,456 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:26,613 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:27,083 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:27,361 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:27,449 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:27,539 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:27,607 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
WARNING 2024-09-04 09:08:27,743 log 76740 6169636864 Bad Request: /api/check_username/
WARNING 2024-09-04 09:08:27,744 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 400 63
INFO 2024-09-04 09:08:28,260 basehttp 76740 6169636864 "POST /api/check_username/ HTTP/1.1" 200 17
INFO 2024-09-04 09:08:41,910 basehttp 76740 6169636864 "POST /api/login/ HTTP/1.1" 200 42
DEBUG 2024-09-04 09:08:43,657 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63387] to WebSocket
INFO 2024-09-04 09:08:43,667 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 09:08:43,667 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63387] open and established
DEBUG 2024-09-04 09:08:43,668 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63387] accepted by application
INFO 2024-09-04 09:08:43,668 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
INFO 2024-09-04 09:08:43,671 basehttp 76740 6169636864 "GET /home HTTP/1.1" 200 1008
DEBUG 2024-09-04 09:08:43,675 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63387]
INFO 2024-09-04 09:08:43,679 basehttp 76740 6203289600 "GET /api/get_current_user/ HTTP/1.1" 200 21
WARNING 2024-09-04 09:08:43,680 log 76740 6186463232 Not Found: /api/get_icon_color/
WARNING 2024-09-04 09:08:43,680 basehttp 76740 6186463232 "GET /api/get_icon_color/ HTTP/1.1" 404 4346
DEBUG 2024-09-04 09:08:43,687 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62269]
DEBUG 2024-09-04 09:08:43,688 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62272]
DEBUG 2024-09-04 09:08:43,688 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62266]
DEBUG 2024-09-04 09:08:43,688 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62271]
DEBUG 2024-09-04 09:08:43,688 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62264]
DEBUG 2024-09-04 09:08:43,688 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62270]
DEBUG 2024-09-04 09:08:43,688 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 62268]
DEBUG 2024-09-04 09:08:43,688 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63387]
INFO 2024-09-04 09:08:43,688 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 09:08:43,689 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 09:08:43,689 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 09:08:43,689 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 09:08:43,690 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 09:08:43,690 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 09:08:43,690 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1001
INFO 2024-09-04 09:08:43,828 basehttp 76740 6186463232 "GET /api/check_login_status/ HTTP/1.1" 200 20
INFO 2024-09-04 09:08:43,829 basehttp 76740 6203289600 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 09:08:43,884 basehttp 76740 6203289600 "GET /api/room/ HTTP/1.1" 200 51
INFO 2024-09-04 09:08:43,913 basehttp 76740 6203289600 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-09-04 09:08:43,924 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63393] to WebSocket
INFO 2024-09-04 09:08:43,927 basehttp 76740 6203289600 "POST /api/create_default_room/ HTTP/1.1" 200 76
DEBUG 2024-09-04 09:08:43,929 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63393] open and established
DEBUG 2024-09-04 09:08:43,929 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63393] accepted by application
DEBUG 2024-09-04 09:08:43,931 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63393]
WARNING 2024-09-04 09:08:43,938 log 76740 6203289600 Not Found: /api/messages/
WARNING 2024-09-04 09:08:43,938 basehttp 76740 6203289600 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
DEBUG 2024-09-04 09:08:43,944 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63394] to WebSocket
WARNING 2024-09-04 09:08:43,948 log 76740 6203289600 Not Found: /api/messages/
WARNING 2024-09-04 09:08:43,955 basehttp 76740 6203289600 "GET /api/messages/?room_id=0 HTTP/1.1" 404 54
INFO 2024-09-04 09:08:43,957 consumers 76698 8540262208 WebSocket connection attempt: room=0, user=keita
DEBUG 2024-09-04 09:08:43,957 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63394] open and established
DEBUG 2024-09-04 09:08:43,957 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63394] accepted by application
INFO 2024-09-04 09:08:43,957 consumers 76698 8540262208 WebSocket connected: room=0, user=keita
ERROR 2024-09-04 09:08:44,761 server 76698 8540262208 Exception inside application: Room matching query does not exist.
Traceback (most recent call last):
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 62, in __call__
    return await application(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 47, in __call__
    return await self.inner(dict(scope, cookies=cookies), receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/sessions.py", line 263, in __call__
    return await self.inner(wrapper.scope, receive, wrapper.send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/auth.py", line 185, in __call__
    return await super().__call__(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/middleware.py", line 24, in __call__
    return await self.inner(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/routing.py", line 132, in __call__
    return await application(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 94, in app
    return await consumer(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 58, in __call__
    await await_many_dispatch(
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/utils.py", line 50, in await_many_dispatch
    await dispatch(result)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/consumer.py", line 73, in dispatch
    await handler(message)
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/channels/generic/websocket.py", line 179, in websocket_connect
    await self.connect()
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 24, in connect
    messages = await self.get_messages()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat_backend/consumers.py", line 90, in get_messages
    room = Room.objects.get(id=self.room_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/keis/dev/chat_backend/chat/lib/python3.12/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
chat_backend.models.Room.DoesNotExist: Room matching query does not exist.
DEBUG 2024-09-04 09:08:44,779 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63394]
DEBUG 2024-09-04 09:08:45,896 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63395] to WebSocket
INFO 2024-09-04 09:08:45,900 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 09:08:45,900 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63395] open and established
DEBUG 2024-09-04 09:08:45,900 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63395] accepted by application
INFO 2024-09-04 09:08:45,900 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 09:08:45,903 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63395]
INFO 2024-09-04 09:08:45,915 basehttp 76740 6203289600 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
DEBUG 2024-09-04 09:08:45,916 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63396] to WebSocket
INFO 2024-09-04 09:08:45,916 basehttp 76740 6186463232 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 09:08:45,921 basehttp 76740 6169636864 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
INFO 2024-09-04 09:08:45,924 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 09:08:45,925 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63396] open and established
DEBUG 2024-09-04 09:08:45,926 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63396] accepted by application
INFO 2024-09-04 09:08:45,926 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 09:08:45,927 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63396]
INFO 2024-09-04 09:08:45,928 basehttp 76740 6169636864 "GET /api/messages/?room_id=2 HTTP/1.1" 200 859
INFO 2024-09-04 09:08:45,931 basehttp 76740 6169636864 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-09-04 09:08:45,932 basehttp 76740 6186463232 "GET /api/get_current_user/ HTTP/1.1" 200 21
INFO 2024-09-04 09:08:45,936 basehttp 76740 6169636864 "GET /api/get_icon_color/?username=keita HTTP/1.1" 200 20
INFO 2024-09-04 09:08:45,938 basehttp 76740 6186463232 "GET /api/get_current_user/ HTTP/1.1" 200 21
DEBUG 2024-09-04 09:08:45,939 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63397] to WebSocket
INFO 2024-09-04 09:08:45,940 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 09:08:45,941 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63397] open and established
DEBUG 2024-09-04 09:08:45,941 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63397] accepted by application
INFO 2024-09-04 09:08:45,941 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 09:08:45,942 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63397]
DEBUG 2024-09-04 09:08:45,953 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63398] to WebSocket
INFO 2024-09-04 09:08:45,955 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 09:08:45,955 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63398] open and established
DEBUG 2024-09-04 09:08:45,955 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63398] accepted by application
INFO 2024-09-04 09:08:45,955 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 09:08:45,957 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63398]
DEBUG 2024-09-04 09:08:45,971 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63399] to WebSocket
INFO 2024-09-04 09:08:45,974 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 09:08:45,974 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63399] open and established
DEBUG 2024-09-04 09:08:45,975 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63399] accepted by application
INFO 2024-09-04 09:08:45,975 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 09:08:45,976 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63399]
DEBUG 2024-09-04 09:08:45,989 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63400] to WebSocket
INFO 2024-09-04 09:08:45,994 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 09:08:45,995 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63400] open and established
DEBUG 2024-09-04 09:08:45,995 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63400] accepted by application
INFO 2024-09-04 09:08:45,995 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 09:08:45,997 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63400]
DEBUG 2024-09-04 09:08:46,009 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 63401] to WebSocket
INFO 2024-09-04 09:08:46,012 consumers 76698 8540262208 WebSocket connection attempt: room=2, user=keita
DEBUG 2024-09-04 09:08:46,013 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63401] open and established
DEBUG 2024-09-04 09:08:46,013 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 63401] accepted by application
INFO 2024-09-04 09:08:46,013 consumers 76698 8540262208 WebSocket connected: room=2, user=keita
DEBUG 2024-09-04 09:08:46,015 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 63401]
DEBUG 2024-09-04 10:56:51,531 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63400]
DEBUG 2024-09-04 10:56:51,538 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63399]
DEBUG 2024-09-04 10:56:51,539 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63398]
DEBUG 2024-09-04 10:56:51,539 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63397]
DEBUG 2024-09-04 10:56:51,540 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63396]
DEBUG 2024-09-04 10:56:51,541 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63395]
DEBUG 2024-09-04 10:56:51,542 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63393]
DEBUG 2024-09-04 10:56:51,542 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 63401]
INFO 2024-09-04 10:56:51,544 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-09-04 10:56:51,544 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-09-04 10:56:51,545 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-09-04 10:56:51,545 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-09-04 10:56:51,545 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-09-04 10:56:51,545 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
INFO 2024-09-04 10:56:51,545 consumers 76698 8540262208 WebSocket disconnected: room=2, user=keita, code=1006
DEBUG 2024-09-04 10:56:55,182 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 64211] to WebSocket
DEBUG 2024-09-04 10:56:55,207 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 64211] open and established
DEBUG 2024-09-04 10:56:55,207 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 64211] accepted by application
DEBUG 2024-09-04 10:56:55,208 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64211]
DEBUG 2024-09-04 13:00:04,044 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 64211]
DEBUG 2024-09-04 13:00:07,640 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 64372] to WebSocket
DEBUG 2024-09-04 13:00:07,653 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 64372] open and established
DEBUG 2024-09-04 13:00:07,653 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 64372] accepted by application
DEBUG 2024-09-04 13:00:07,661 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64372]
DEBUG 2024-09-04 16:51:08,184 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 64372]
DEBUG 2024-09-04 16:51:11,354 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 64911] to WebSocket
DEBUG 2024-09-04 16:51:11,376 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 64911] open and established
DEBUG 2024-09-04 16:51:11,376 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 64911] accepted by application
DEBUG 2024-09-04 16:51:11,378 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 64911]
DEBUG 2024-09-05 02:17:40,474 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 64911]
DEBUG 2024-09-05 02:17:43,612 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 50919] to WebSocket
DEBUG 2024-09-05 02:17:43,622 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 50919] open and established
DEBUG 2024-09-05 02:17:43,623 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 50919] accepted by application
DEBUG 2024-09-05 02:17:43,629 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 50919]
DEBUG 2024-09-05 03:44:48,267 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 50919]
DEBUG 2024-09-05 03:44:51,654 http_protocol 76698 8540262208 Upgraded connection ['127.0.0.1', 51639] to WebSocket
DEBUG 2024-09-05 03:44:51,674 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 51639] open and established
DEBUG 2024-09-05 03:44:51,675 ws_protocol 76698 8540262208 WebSocket ['127.0.0.1', 51639] accepted by application
DEBUG 2024-09-05 03:44:51,676 ws_protocol 76698 8540262208 Sent WebSocket packet to client for ['127.0.0.1', 51639]
DEBUG 2024-09-05 05:06:56,752 ws_protocol 76698 8540262208 WebSocket closed for ['127.0.0.1', 51639]
