{"version":3,"file":"js/app.js","mappings":"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","sources":["webpack://chat/./src/App.vue","webpack://chat/./src/App.vue?7ccd","webpack://chat/./src/components/HomePage.vue","webpack://chat/./src/components/MessageList.vue","webpack://chat/./src/components/CommandPalette.vue","webpack://chat/./src/components/CommandPalette.vue?c72f","webpack://chat/./src/components/MessageList.vue?2e85","webpack://chat/./src/components/PromptDisplay.vue","webpack://chat/./src/components/PromptDisplay.vue?acf6","webpack://chat/./src/components/HomePage.vue?8b1a","webpack://chat/./src/components/LoginPage.vue","webpack://chat/./src/components/LoginPage.vue?8d24","webpack://chat/./src/components/RegisterPage.vue","webpack://chat/./src/components/RegisterPage.vue?471c","webpack://chat/./src/components/UserProfile.vue","webpack://chat/./src/components/UserProfile.vue?6e82","webpack://chat/./src/components/RoomPage.vue","webpack://chat/./src/components/RoomPage.vue?6017","webpack://chat/./src/router/index.js","webpack://chat/./src/store/index.js","webpack://chat/./src/main.js","webpack://chat/webpack/bootstrap","webpack://chat/webpack/runtime/chunk loaded","webpack://chat/webpack/runtime/compat get default export","webpack://chat/webpack/runtime/define property getters","webpack://chat/webpack/runtime/global","webpack://chat/webpack/runtime/hasOwnProperty shorthand","webpack://chat/webpack/runtime/make namespace object","webpack://chat/webpack/runtime/node module decorator","webpack://chat/webpack/runtime/publicPath","webpack://chat/webpack/runtime/jsonp chunk loading","webpack://chat/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"container\">\n      <va-sidebar v-model:collapsed=\"isCollapsed\" v-if=\"isAuthenticated\">\n        <va-list>\n          <va-sidebar-item @click=\"goToHome\">\n            <va-sidebar-item-content>\n              <va-icon name=\"home\" size=\"large\" />\n              <va-sidebar-item-title>Home</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"goToProfile\">\n            <va-sidebar-item-content>\n              <va-icon name=\"person\" size=\"large\" />\n              <va-sidebar-item-title>Profile</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"createNewRoom\">\n            <va-sidebar-item-content>\n              <va-icon name=\"add\" size=\"large\" />\n              <va-sidebar-item-title>Create New Room</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item\n            v-for=\"room in rooms\"\n            :key=\"room.name\"\n            @click=\"selectRoom(room)\"\n          >\n            <va-sidebar-item-content>\n              <va-icon name=\"chat\" size=\"large\" />\n              <va-sidebar-item-title>{{ room.name }}</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"logout\">\n            <va-sidebar-item-content>\n              <va-icon name=\"logout\" size=\"large\" />\n              <va-sidebar-item-title>Log Out</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n        </va-list>\n      </va-sidebar>\n      <main class=\"main-content\">\n        <router-view />\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  computed: {\n    ...mapState({\n      isAuthenticated: (state) => state.isLoggedIn,\n      rooms: (state) => state.rooms,\n    }),\n  },\n  data() {\n    return {\n      isCollapsed: false,\n    };\n  },\n  created() {\n    this.initializeApp();\n  },\n  methods: {\n    ...mapActions([\n      \"logOut\",\n      \"addRoom\",\n      \"fetchAuthentication\",\n      \"fetchRooms\",\n      \"fetchMessages\",\n      \"initWebSocket\",\n      \"initRoomListWebSocket\",\n      \"initRoomListWebSocket\",\n      \"selectRoom\",\n    ]),\n    async initializeApp() {\n      await this.fetchAuthentication();\n      if (this.isAuthenticated) {\n        await this.fetchRooms();\n        this.initRoomListWebSocket();\n        if (this.$route.params.roomId) {\n          this.selectRoom({ id: this.$route.params.roomId });\n        }\n      }\n    },\n    goToHome() {\n      this.$router.push(\"/home\").then(() => {\n        location.reload();\n      });\n    },\n    goToProfile() {\n      this.$router.push(\"/user-profile\");\n    },\n    selectRoom(room) {\n      this.$router.push(`/room/${room.id}`);\n      this.$store.commit(\"setCurrentRoom\", room.id);\n      this.initWebSocket(); // WebSocket接続を初期化\n      // this.fetchMessages();\n    },\n    logout() {\n      const csrfToken = this.getCookie(\"csrftoken\");\n      console.log(\"CSRF Token:\", csrfToken);\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"logout/\",\n          {},\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken,\n            },\n            withCredentials: true,\n          }\n        )\n        .then(() => {\n          if (this.$store.state.socket) {\n            this.$store.state.socket.close();\n          }\n          this.$store.dispatch(\"logOut\");\n          this.$router.push(\"/login\");\n        })\n        .catch((error) => {\n          console.error(\"Failed to log out:\", error);\n          alert(\n            `Logout failed: ${error.response.data.detail || \"Please try again.\"}`\n          );\n        });\n    },\n    getCookie(name) {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== \"\") {\n        const cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + \"=\") {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    },\n    createNewRoom() {\n      const roomName = prompt(\"Enter a name for the new chat room:\");\n      if (roomName) {\n        axios\n          .post(\n            process.env.VUE_APP_BASE_URL + \"create-room/\",\n            { roomName: roomName },\n            {\n              headers: {\n                \"X-CSRFToken\": window.csrfToken,\n              },\n            }\n          )\n          .then((response) => {\n            const roomId = response.data.roomId;\n            this.addRoom({ name: roomName, id: roomId });\n            this.selectRoom({ id: roomId });\n            this.$router.push(`/room/${roomId}`);\n          })\n          .catch((error) => {\n            console.error(\"Failed to create room:\", error);\n            console.error(\"Server response:\", error.response.data);\n            alert(\n              `Room creation failed: ${error.response.data.detail || \"Please try again.\"}`\n            );\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  text-align: center;\n  height: 100vh;\n}\n.container {\n  display: flex;\n  height: 100%;\n}\n.sidebar {\n  flex: 0 0 250px;\n}\n.main-content {\n  flex: 1;\n  height: 100%;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=084dd5c2\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=084dd5c2&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-full-width\"\n    >\n      Chatting Room\n    </VaAlert>\n    <div class=\"chat-container\">\n      <!-- チャットメッセージのリストとメッセージ入力フィールドを包含するコンテナ -->\n      <div class=\"chat-section\">\n        <message-list\n          :messages=\"messages\"\n          @quote=\"quoteMessage\"\n          @update-messages=\"updateMessages\"\n        ></message-list>\n        <message-input :value=\"inputMessage\" @send=\"addMessage\"></message-input>\n      </div>\n      <prompt-display v-if=\"userType === 'NNS'\"></prompt-display>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MessageList from \"@/components/MessageList.vue\";\nimport PromptDisplay from \"@/components/PromptDisplay.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"HomePage\",\n  components: {\n    MessageList,\n    PromptDisplay,\n  },\n  data() {\n    return {\n      inputMessage: \"\",\n    };\n  },\n  async mounted() {\n    try {\n      await this.$store.dispatch(\"fetchCurrentUser\");\n      if (this.currentUser) {\n        console.log(\"Current user:\", this.currentUser);\n        console.log(\"User type:\", this.userType);\n        // ローカルストレージからユーザータイプを取得して設定\n        const storedUserType = localStorage.getItem(\"userType\");\n        if (storedUserType) {\n          this.$store.commit(\"setUserType\", storedUserType);\n        }\n        await this.$store.dispatch(\"fetchIconColor\");\n        const csrfToken = this.getCookie(\"csrftoken\");\n        await this.createDefaultRoom(csrfToken);\n        // メッセージを取得\n        await this.$store.dispatch(\"fetchMessages\");\n      } else {\n        console.error(\"Current user is null\");\n      }\n    } catch (error) {\n      console.error(\"Error in mounted hook:\", error);\n    }\n  },\n\n  computed: {\n    messages() {\n      return this.$store.state.messages;\n    },\n    currentRoom() {\n      return this.$store.state.currentRoom;\n    },\n    currentUser() {\n      return this.$store.state.currentUser;\n    },\n    userType() {\n      return this.$store.state.userType;\n    },\n  },\n\n  created() {\n    this.$store.dispatch(\"fetchIconColor\");\n  },\n  methods: {\n    initWebSocket() {\n      const wsUrl = \"YOUR_WEBSOCKET_ENDPOINT\";\n      this.socket = new WebSocket(wsUrl);\n\n      // WebSocket接続が開かれた時のイベントハンドラ\n      this.socket.onopen = () => {\n        console.log(\"WebSocket connection opened\");\n      };\n\n      // メッセージを受信した時のイベントハンドラ\n      this.socket.onmessage = (event) => {\n        console.log(\"Message from server \", event.data);\n        const receivedMessage = JSON.parse(event.data);\n        // 受信したメッセージを処理\n        this.updateMessages(receivedMessage);\n      };\n\n      // WebSocket接続が閉じられた時のイベントハンドラ\n      this.socket.onclose = () => {\n        console.log(\"WebSocket connection closed\");\n      };\n\n      // エラーが発生した時のイベントハンドラ\n      this.socket.onerror = (error) => {\n        console.error(\"WebSocket error: \", error);\n      };\n    },\n    beforeUnmount() {\n      // WebSocket接続をクローズ\n      if (this.socket) {\n        this.socket.close();\n      }\n    },\n    sendMessage() {\n      if (this.inputMessage.trim() && this.socket) {\n        // メッセージをサーバーに送信\n        this.socket.send(JSON.stringify({ message: this.inputMessage }));\n        this.inputMessage = \"\"; // 入力フィールドをクリア\n      }\n    },\n    async createDefaultRoom(csrfToken) {\n      try {\n        const response = await axios.post(\n          `${process.env.VUE_APP_BASE_URL}create_default_room/`,\n          {\n            room_name: \"HomePage\",\n            room_id: 1,\n          },\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken,\n            },\n          }\n        );\n        console.log(response.data);\n        this.$store.commit(\"setCurrentRoom\", 0);\n        await this.$store.dispatch(\"fetchMessages\");\n      } catch (error) {\n        console.error(\"Error creating default room:\", error);\n      }\n    },\n    getCookie(name) {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== \"\") {\n        const cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + \"=\") {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    },\n    async addMessage() {\n      if (!this.currentRoom) {\n        console.error(\"currentRoom is not set\");\n        return;\n      }\n      console.log(this.inputMessage);\n      const messageData = this.inputMessage;\n      try {\n        await this.$store.dispatch(\"addMessage\", messageData);\n        this.inputMessage = \"\";\n      } catch (error) {\n        console.error(\"Error sending message:\", error);\n      }\n    },\n    quoteMessage(message) {\n      this.inputMessage = `> ${message}\\n`;\n    },\n    updateMessages(newMessages) {\n      this.$store.commit(\"SET_MESSAGES\", newMessages);\n    },\n  },\n};\n</script>\n\n<!-- スタイル -->\n<style>\n.home {\n  /* フレックスコンテナとして設定 */\n  display: flex;\n  flex-direction: column;\n}\n\n.alert-full-width {\n  width: 100%; /* VaAlertコンポーネントの幅を100%に設定 */\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: row; /* 横並びにする */\n}\n\n.chat-section {\n  max-height: 500px;\n  flex: 1; /* チャットセクションを適切に伸縮させる */\n}\n</style>\n","<template>\n  <div class=\"message-list\">\n    <VaCard\n      v-for=\"msg in messages\"\n      :key=\"msg.id\"\n      class=\"mb-2 message-card\"\n      @mouseover=\"handleMouseOver(msg.id)\"\n      @mouseleave=\"handleMouseLeave(msg.id)\"\n    >\n      <VaCardTitle>\n        <div\n          class=\"icon\"\n          :style=\"{ backgroundColor: getIconColor(msg.user__username) }\"\n        ></div>\n        <span class=\"message-user\">{{ msg.user__username }}</span>\n      </VaCardTitle>\n      <VaCardContent>\n        <div v-if=\"msg.text\" v-html=\"msg.text\"></div>\n        <VaButton\n          v-show=\"showQuoteButton[msg.id]\"\n          @click=\"quoteMessage(msg.text, msg.id)\"\n          class=\"quote-button\"\n        >\n          <Return32 />\n        </VaButton>\n      </VaCardContent>\n    </VaCard>\n  </div>\n  <div class=\"command-palette-wrapper\">\n    <CommandPalette\n      v-if=\"isAuthenticated\"\n      :quotedMessage=\"quotedMessage\"\n      @send=\"handleSend\"\n      @clear-quote=\"clearQuotedMessage\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Return32 } from \"@carbon/icons-vue\";\nimport CommandPalette from \"./CommandPalette.vue\";\nimport { mapState, useStore } from \"vuex\";\nimport axios from \"axios\";\nimport {\n  reactive,\n  toRefs,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n} from \"vue\";\n\nexport default {\n  name: \"MessageList\",\n  components: {\n    Return32,\n    CommandPalette,\n  },\n  props: {\n    roomName: String,\n  },\n  computed: {\n    ...mapState([\"messages\"]),\n  },\n  setup() {\n    const store = useStore();\n    const state = reactive({\n      showQuoteButton: {},\n      quotedMessage: \"\",\n    });\n    const iconColors = reactive({});\n\n    const isAuthenticated = computed(() => store.state.isLoggedIn);\n    // const currentUser = computed(() => store.state.currentUser);\n    const currentRoom = computed(() => store.state.currentRoom);\n\n    onMounted(() => {\n      if (currentRoom.value) {\n        store.dispatch(\"initWebSocket\");\n      }\n    });\n\n    onBeforeUnmount(() => {\n      if (\n        store.state.socket &&\n        store.state.socket.readyState === WebSocket.OPEN\n      ) {\n        store.state.socket.close();\n        store.commit(\"setSocket\", null);\n      }\n    });\n\n    watch(currentRoom, (newRoom, oldRoom) => {\n      if (newRoom !== oldRoom) {\n        if (\n          store.state.socket &&\n          store.state.socket.readyState === WebSocket.OPEN\n        ) {\n          store.state.socket.close();\n          store.commit(\"setSocket\", null);\n        }\n        store.dispatch(\"initWebSocket\");\n      }\n    });\n\n    watch(\n      () => store.state.messages,\n      (newMessages, oldMessages) => {\n        // ここでUIの更新処理を行う\n        // 例: 新しいメッセージが追加されたことをユーザーに通知する\n        console.log(\n          \"Messages updated\",\n          newMessages.length - oldMessages.length,\n          \"new messages added\"\n        );\n      },\n      { deep: true }\n    );\n\n    /*function connectWebSocket() {\n      if (!currentRoom.value) {\n        console.error(\"Cannot connect WebSocket: Room is not set\");\n        return;\n      }\n\n      const wsUrl =\n        `${process.env.VUE_APP_WS_URL}/ws/chat/${currentRoom.value}/`.replace(\n          /\\/\\//g,\n          \"/\"\n        );\n      state.websocket = new WebSocket(wsUrl);\n\n      state.websocket.onopen = () => {\n        console.log(\"WebSocket connected\");\n      };\n\n      state.websocket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"chat_message\") {\n          state.messages.unshift(data.message);\n          updateIconColor(data.message.user__username);\n        }\n      };\n\n      state.websocket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      state.websocket.onclose = () => {\n        console.log(\"WebSocket disconnected\");\n      };\n    }\n\n    function disconnectWebSocket() {\n      if (state.websocket && state.websocket.readyState === WebSocket.OPEN) {\n        state.websocket.close();\n        console.log(\"WebSocket is safely closed.\");\n      }\n    }\n    */\n\n    async function updateIconColor(username) {\n      try {\n        const response = await axios.get(\n          `${process.env.VUE_APP_BASE_URL}get_icon_color/`,\n          {\n            params: { username: username },\n          }\n        );\n        if (response.data && response.data.color) {\n          iconColors[username] = response.data.color;\n        }\n      } catch (error) {\n        console.error(`Error fetching icon color for ${username}:`, error);\n      }\n    }\n\n    watch(\n      () => store.state.messages,\n      async (newMessages) => {\n        for (const msg of newMessages) {\n          if (!iconColors[msg.user__username]) {\n            await updateIconColor(msg.user__username);\n          }\n        }\n      },\n      { deep: true }\n    );\n\n    function getIconColor(username) {\n      return iconColors[username] || \"#000000\";\n    }\n\n    function handleMouseOver(id) {\n      state.showQuoteButton[id] = true;\n    }\n\n    function handleMouseLeave(id) {\n      state.showQuoteButton[id] = false;\n    }\n\n    function quoteMessage(messageText, id) {\n      state.quotedMessage = messageText;\n      state.showQuoteButton[id] = false;\n    }\n\n    function clearQuotedMessage() {\n      state.quotedMessage = \"\";\n    }\n\n    function handleSend(content) {\n      if (!content || content.trim() === \"\") {\n        return;\n      }\n      store.dispatch(\"sendMessage\", content);\n    }\n\n    return {\n      ...toRefs(state),\n      quoteMessage,\n      clearQuotedMessage,\n      handleSend,\n      isAuthenticated,\n      getIconColor,\n      handleMouseOver,\n      handleMouseLeave,\n    };\n  },\n};\n</script>\n\n<style>\n.message-card {\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  position: relative;\n  z-index: 1;\n}\n\n.icon {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n}\n\n.quote-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: none;\n  padding: 5px;\n}\n\n.message-card:hover .quote-button {\n  display: block;\n}\n\n.message-card ul {\n  list-style-type: disc;\n  padding-left: 20px;\n}\n\n.message-card li {\n  margin-bottom: 10px;\n}\n\n.message-card ol {\n  list-style-type: decimal;\n  padding-left: 20px;\n}\n\n/* 引用のスタイル */\n.message-card blockquote {\n  border-left: 4px solid #ddd;\n  padding-left: 15px;\n  color: #666;\n}\n\n.message-icon {\n  margin-right: 10px;\n}\n\n.message-user {\n  font-weight: bold;\n  margin-right: 10px;\n  margin-left: 10px;\n}\n\n.message-list {\n  max-height: calc(100vh - 200px);\n  overflow-y: auto;\n  position: relative;\n}\n.command-palette-wrapper {\n  position: sticky;\n  bottom: 0;\n}\n\n.command-palette {\n  width: 100%;\n  height: 100px;\n  z-index: 2;\n}\n</style>\n","<template>\n  <div class=\"command-palette\">\n    <div v-if=\"quotedMessage\" class=\"quoted-message\">\n      <blockquote>{{ quotedMessage }}</blockquote>\n      <button @click=\"clearQuote\">x</button>\n    </div>\n    <ckeditor\n      :editor=\"editor\"\n      v-model=\"content\"\n      :config=\"editorConfig\"\n    ></ckeditor>\n    <div class=\"va-title\">Type your Message:</div>\n    <VaButton @click=\"sendMessage\">Send</VaButton>\n  </div>\n</template>\n\n<script>\nimport CKEditor from \"@ckeditor/ckeditor5-vue\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\n\nexport default {\n  name: \"CommandPalette\",\n  components: {\n    ckeditor: CKEditor.component,\n  },\n  props: {\n    quotedMessage: String,\n  },\n  data() {\n    return {\n      editor: ClassicEditor,\n      content: \"\",\n      editorConfig: {\n        toolbar: {\n          items: [\n            \"undo\",\n            \"redo\",\n            \"|\",\n            \"bold\",\n            \"italic\",\n            \"|\",\n            \"link\",\n            // \"uploadImage\",\n            \"blockQuote\",\n            \"|\",\n            \"bulletedList\",\n            \"numberedList\",\n          ],\n          shouldNotGroupWhenFull: false,\n        },\n      },\n    };\n  },\n  methods: {\n    sendMessage() {\n      if (this.content.trim() !== \"\") {\n        let messageContent = this.content;\n        if (this.quotedMessage) {\n          messageContent = `<blockquote>${this.quotedMessage}</blockquote>${messageContent}`;\n        }\n        this.$emit(\"send\", messageContent);\n        this.content = \"\"; // 送信後にエディタをクリア\n        this.$emit(\"clear-quote\");\n      }\n    },\n    clearQuote() {\n      this.$emit(\"clear-quote\");\n    },\n  },\n};\n</script>\n\n<style>\n.command-palette {\n  border: 1px solid #ccc;\n  padding: 10px;\n}\n.ck-content {\n  padding: 20px;\n}\n.va-title {\n  margin-top: 10px;\n  font-weight: bold;\n}\nbutton {\n  cursor: pointer;\n}\n.quoted-message {\n  border-left: 4px solid #ccc;\n  padding-left: 10px;\n  margin-bottom: 10px;\n  position: relative;\n}\n.quoted-message button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 16px;\n}\n</style>\n","import { render } from \"./CommandPalette.vue?vue&type=template&id=f3f5b1c0\"\nimport script from \"./CommandPalette.vue?vue&type=script&lang=js\"\nexport * from \"./CommandPalette.vue?vue&type=script&lang=js\"\n\nimport \"./CommandPalette.vue?vue&type=style&index=0&id=f3f5b1c0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MessageList.vue?vue&type=template&id=98e6e668\"\nimport script from \"./MessageList.vue?vue&type=script&lang=js\"\nexport * from \"./MessageList.vue?vue&type=script&lang=js\"\n\nimport \"./MessageList.vue?vue&type=style&index=0&id=98e6e668&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"prompt-display\">\n    <h2>🧑 Ask ChatGPT!</h2>\n    <div class=\"input-group\">\n      <textarea\n        class=\"input\"\n        placeholder=\"Please type in your questions.\"\n        v-model=\"state.prompt\"\n      ></textarea>\n    </div>\n    <div class=\"va-title\">\n      Please click the button that best suits your purpose:\n    </div>\n    <div class=\"input-group\">\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('translate')\">\n        Translation\n      </VaButton>\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('decision')\">\n        Decision\n      </VaButton>\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('opinion')\">\n        Opinion\n      </VaButton>\n      <!-- <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('keywords')\">\n        Keyword\n      </VaButton> -->\n    </div>\n    <div class=\"response\">\n      <pre>{{ state.response }}</pre>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, computed } from \"vue\";\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\n\nconst store = useStore();\n\nconst state = reactive({\n  prompt: \"\",\n  response:\n    \"✅ Answer from ChatGPT will appear here. You can type in any languages!\",\n  isCollapsed: false,\n});\n\nconst API_KEY = process.env.VUE_APP_API_KEY;\nconst http = axios.create({\n  baseURL: \"https://api.openai.com/v1/\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${API_KEY}`,\n  },\n});\n\nconst currentRoom = computed(() => store.state.currentRoom);\nconst messages = computed(() => store.state.messages);\n\nasync function askChatGPT(purpose) {\n  console.log(\"Messages:\", store.state.messages);\n  if (!state.prompt.trim()) {\n    state.response = \"⚠️ Please enter your question.\";\n    return;\n  }\n\n  const conversationHistory = messages.value\n    .filter((msg) => msg && msg.text)\n    .map((msg) => ({\n      role:\n        msg.user__username === store.state.currentUser.username\n          ? \"user\"\n          : \"assistant\",\n      content: msg.text.replace(/<\\/?p>/g, \"\").trim(),\n    }))\n    .filter((msg) => msg.content !== \"\");\n\n  let requestData = {\n    model: \"gpt-3.5-turbo\",\n    messages: [\n      ...conversationHistory,\n      {\n        role: \"user\",\n        content: generatePrompt(state.prompt, purpose, conversationHistory),\n      },\n    ],\n    max_tokens: 256,\n    temperature: 0.7,\n  };\n\n  console.log(\"Request Data:\", JSON.stringify(requestData, null, 2));\n\n  try {\n    const result = await makeRequestWithRetry(\n      \"chat/completions\",\n      requestData,\n      3,\n      2000\n    );\n    state.response = result.data.choices[0].message.content;\n\n    // ユーザーの質問をメッセージとして追加\n    /* store.dispatch(\"addMessage\", {\n      content: state.prompt,\n      sender: store.state.currentUser.username,\n      room: currentRoom.value,\n    }); */\n\n    // ChatGPTの応答をrecordとして記録\n    await axios.post(process.env.VUE_APP_BASE_URL + \"record/\", {\n      username: store.state.currentUser.username,\n      question: state.prompt,\n      answer: state.response,\n      purpose: purpose,\n      room: currentRoom.value,\n    });\n  } catch (error) {\n    console.error(\"Failed to get response from ChatGPT:\", error);\n    if (error.response && error.response.data && error.response.data.error) {\n      state.response = `⚠️ An error occurred: ${error.response.data.error.message}. Please refer to OpenAI's documentation for details.`;\n    } else if (error.message) {\n      state.response = `⚠️ An error occurred: ${error.message}. Please try again later.`;\n    } else {\n      state.response = \"⚠️ An unknown error occurred. Please contact support.\";\n    }\n  }\n}\n\nfunction generatePrompt(input, purpose, history) {\n  const background = `We are playing a desert survival game where participants rank essential items and work towards a unified team decision.`;\n  const selfIntroduction = `I am a non-native speaker participating in this discussion.`;\n\n  const context =\n    history.length > 0\n      ? history.map((msg) => `${msg.role}: ${msg.content}`).join(\"\\n\")\n      : \"No previous conversation.\";\n\n  // 言語レベルを固定値として設定\n  const userLanguageLevel = \"intermediate\";\n\n  let basePrompt = \"\";\n\n  switch (purpose) {\n    case \"translate\":\n      basePrompt = `You are a helpful assistant for language learners. Given this conversation:\\n${context}\\n\n1. Identify the source language of: \"${input}\"\n2. If it's Japanese, translate it to simple English suitable for a ${userLanguageLevel} level speaker.\n3. If it's English, translate it to natural Japanese.\n4. If it's neither, translate to both simple English and natural Japanese.\n5. Provide a brief explanation of any idiomatic expressions or cultural nuances.\n\nBased on the above steps, provide a single, most appropriate response that includes:\n- The identified source language\n- The translation (to English if source is Japanese, to Japanese if source is English, or both if source is neither)\n- A brief explanation of any idiomatic expressions or cultural nuances (if applicable)\n\nFormat your response as a concise paragraph, focusing on the most relevant information for the language learner.`;\n      break;\n\n    case \"decision\":\n      basePrompt = `You are assisting a non-native English speaker in a group discussion about desert survival. Based on this conversation:\\n${context}\\n\nThe group is considering the following decision: \"${input}\"\nPlease provide a structured response (2-3 sentences) that includes:\n1. A clear statement supporting or opposing this decision\n2. Two main reasons or factors to consider for this group decision\n3. A potential alternative or compromise, if applicable\nUse simple language suitable for a ${userLanguageLevel} level English speaker and focus on facilitating group consensus.`;\n      break;\n\n    case \"opinion\":\n      basePrompt = `You're helping a non-native English speaker express their personal view in a group discussion. Context:\\n${context}\\n\nThe speaker wants to express this opinion: \"${input}\"\nPlease rephrase and elaborate on this opinion in simple, conversational English (2-3 sentences):\n1. A clear statement of the personal opinion\n2. One main supporting point or example\n3. A brief conclusion or call for consideration from others\nUse language suitable for a ${userLanguageLevel} level English speaker and focus on individual perspective.`;\n      break;\n\n    /* case \"keywords\":\n      basePrompt = `You're assisting a non-native English speaker in a group discussion. Context:\\n${context}\\n\nThe speaker provided these keywords: \"${input}\"\nGenerate 2-3 short, simple sentences that:\n1. Use these keywords\n2. Relate to the desert survival topic\n3. Are easy for a ${userLanguageLevel} level English speaker to use in the discussion`;\n      break; */\n  }\n\n  return `${background}\\n\\n${selfIntroduction}\\n\\n${basePrompt}`;\n}\n\nasync function makeRequestWithRetry(url, data, retries, delay) {\n  for (let i = 0; i <= retries; i++) {\n    try {\n      return await http.post(url, data);\n    } catch (error) {\n      if (i < retries && error.response && error.response.status === 429) {\n        await new Promise((resolve) =>\n          setTimeout(resolve, delay * Math.pow(2, i))\n        );\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.prompt-display {\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n  gap: 20px;\n}\n.input-group {\n  display: flex;\n  gap: 10px;\n  justify-content: space-between;\n}\n.input {\n  flex-grow: 1;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  min-height: 100px;\n  resize: vertical;\n}\n.btn {\n  padding: 10px 20px;\n  border: none;\n  background-color: #007bff;\n  color: white;\n  border-radius: 5px;\n  cursor: pointer;\n}\n.btn:hover {\n  background-color: #0056b3;\n}\n.response {\n  background-color: #f8f9fa;\n  padding: 20px;\n  border-radius: 5px;\n  word-wrap: break-word;\n}\n.response > pre {\n  white-space: pre-wrap;\n}\n</style>\n","import script from \"./PromptDisplay.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PromptDisplay.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PromptDisplay.vue?vue&type=style&index=0&id=3dfe3bf0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3dfe3bf0\"]])\n\nexport default __exports__","import { render } from \"./HomePage.vue?vue&type=template&id=2cd24444\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=2cd24444&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login\">\n    <va-card class=\"login-card\">\n      <img src=\"@/assets/chat-icon.svg\" alt=\"Chat Icon\" />\n      <h2>Welcome to my chat app!</h2>\n      <form @submit.prevent=\"onLogin\" class=\"login-form\">\n        <div class=\"form-section\">\n          <va-input v-model=\"username\" placeholder=\"Enter your username\" />\n        </div>\n        <div class=\"form-section\">\n          <va-input\n            type=\"password\"\n            v-model=\"password\"\n            placeholder=\"Enter your password\"\n          />\n        </div>\n        <div class=\"form-section\">\n          <va-select\n            v-model=\"userType\"\n            :options=\"userTypes\"\n            label=\"User Type\"\n            placeholder=\"Select NNS or NS\"\n            clearable\n          />\n        </div>\n        <div class=\"form-section\">\n          <VaButton type=\"submit\" class=\"mr-6 mb-2\" color=\"primary\"\n            >Log In</VaButton\n          >\n        </div>\n      </form>\n      <div class=\"register-section\">\n        <VaBadge\n          text=\"If you don't have an account yet...\"\n          color=\"#B3D943\"\n          class=\"mr-2\"\n        />\n      </div>\n      <VaButton color=\"danger\" class=\"mr-6 mb-2\" @click=\"goToRegister\"\n        >Register</VaButton\n      >\n    </va-card>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\nimport { ref, reactive, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { VaSelect } from \"vuestic-ui\";\n\nexport default {\n  name: \"LoginPage\",\n  components: {\n    VaSelect,\n  },\n  setup() {\n    const router = useRouter();\n    const store = useStore();\n    const username = ref(\"\");\n    const password = ref(\"\");\n    const userType = ref(\"\");\n    const csrfToken = ref(\"\");\n    const userTypes = reactive([\n      { text: \"NNS\", value: \"NNS\" },\n      { text: \"NS\", value: \"NS\" },\n    ]);\n\n    onMounted(() => {\n      csrfToken.value = document.cookie\n        .split(\"; \")\n        .find((row) => row.startsWith(\"csrftoken\"))\n        ?.split(\"=\")[1];\n    });\n\n    const onLogin = () => {\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"login/\",\n          {\n            username: username.value,\n            password: password.value,\n          },\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken.value,\n            },\n          }\n        )\n        .then((response) => {\n          if (response.data && response.data.status == \"success\") {\n            const userTypeValue = userType.value.value;\n            store.commit(\"setCurrentUser\", username.value);\n            store.commit(\"setUserType\", userTypeValue);\n            localStorage.setItem(\"userType\", userTypeValue); // ローカルストレージに保存\n            store.dispatch(\"logIn\", {\n              username: username.value,\n              userType: userTypeValue,\n            });\n            alert(\"Login Success!\");\n            router.push(\"/home\").then(() => {\n              location.reload();\n            });\n          } else {\n            alert(\"Login Failed! \" + (response.data?.message || \"\"));\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          alert(\n            \"Incorrect username or password! \" +\n              (error.response?.data?.message || \"Unknown error\")\n          );\n        });\n    };\n\n    const goToRegister = () => {\n      router.push(\"/register\");\n    };\n\n    return {\n      username,\n      password,\n      userType,\n      userTypes,\n      onLogin,\n      goToRegister,\n    };\n  },\n};\n</script>\n\n<style>\n.login img {\n  width: 100px;\n  /* アイコンの幅を設定 */\n  height: auto;\n  /* 高さを自動調整 */\n  margin-bottom: 20px;\n  /* フォームとの間隔を設定 */\n}\n\n.login {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.login-card {\n  width: 300px;\n  padding: 20px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.login-form .form-section {\n  margin-bottom: 10px; /* Adjust this value as needed */\n}\n\n.login-card .register-section {\n  margin-bottom: 10px;\n}\n</style>\n","import { render } from \"./LoginPage.vue?vue&type=template&id=e9ea31ca\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=e9ea31ca&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"register\">\n    <VaInput\n      v-model=\"username\"\n      @input=\"checkUsername\"\n      :success=\"isUsernameValid && !usernameError\"\n      :error=\"usernameError.length > 0\"\n      :error-messages=\"usernameError\"\n      label=\"Username\"\n      placeholder=\"Enter your username\"\n    />\n    <VaInput\n      v-model=\"password\"\n      @input=\"checkPassword\"\n      :success=\"isPasswordValid && !passwordError\"\n      :error=\"passwordError.length > 0\"\n      :error-messages=\"passwordError\"\n      label=\"Password(at least 6 characters)\"\n      placeholder=\"Enter your password\"\n      type=\"password\"\n    />\n    <div></div>\n    <VaButton v-if=\"isFormValid\" @click=\"registerUser\">Register</VaButton>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n// import dummyData from '@/dummyData';\nimport axios from \"axios\";\n\nexport default {\n  name: \"RegisterPage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      usernameError: \"\",\n      passwordError: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\"isUsernameValid\", \"isPasswordValid\"]),\n    isFormValid() {\n      return this.isUsernameValid && this.isPasswordValid;\n    },\n  },\n  methods: {\n    ...mapActions([\"updateUsernameValidation\", \"updatePasswordValidation\"]),\n    checkUsername() {\n      /*\n      const userExists = dummyData.users.some(user => user.username === this.username);\n      if (userExists || !this.username) {\n        this.usernameError = 'This username is already taken or invalid.';\n        this.updateUsernameValidation(false);\n      } else {\n        this.usernameError = '';\n        this.updateUsernameValidation(true);\n      }\n      */\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"check_username/\",\n          { username: this.username },\n          {\n            headers: {\n              \"X-CSRFToken\": window.csrfToken,\n            },\n          }\n        )\n        .then((response) => {\n          if (!response.data.isValid) {\n            this.usernameError = \"This username is already taken or invalid.\";\n            this.updateUsernameValidation(false);\n          } else {\n            this.usernameError = \"\";\n            this.updateUsernameValidation(true);\n          }\n        })\n        .catch((error) => {\n          if (\n            error.response &&\n            error.response.data &&\n            error.response.data.message\n          ) {\n            this.usernameError = error.response.data.message;\n          } else {\n            this.usernameError = \"Network error or server is unreachable.\";\n          }\n        });\n    },\n    checkPassword() {\n      if (this.password.length < 6) {\n        this.passwordError = \"Password must be at least 6 characters long.\";\n        this.updatePasswordValidation(false);\n      } else {\n        this.passwordError = \"\";\n        this.updatePasswordValidation(true);\n      }\n    },\n    registerUser() {\n      /*\n      if (this.isFormValid) {\n        dummyData.users.push({ username: this.username, password: this.password });\n        this.$router.push('/login');\n      }\n      */\n      if (this.isFormValid) {\n        axios\n          .post(\n            process.env.VUE_APP_BASE_URL + \"register/\",\n            {\n              username: this.username,\n              password: this.password,\n            },\n            {\n              headers: {\n                \"X-CSRFToken\": window.csrfToken,\n              },\n            }\n          )\n          .then(() => {\n            this.$router.push(\"/login\");\n          })\n          .catch((error) => {\n            this.passwordError =\n              \"Registration failed: \" +\n              (error.response ? error.response.data.message : \"Server error\");\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.div {\n  margin-top: 10px;\n}\n</style>\n","import { render } from \"./RegisterPage.vue?vue&type=template&id=8b7f4a28\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterPage.vue?vue&type=style&index=0&id=8b7f4a28&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"user-profile\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-spacing\"\n    >\n      User Profile\n    </VaAlert>\n    <VaAlert color=\"info\" class=\"mb-6 alert-spacing\">\n      <template #icon>\n        <VaIcon name=\"info\" />\n      </template>\n      Please choose your icon color!\n    </VaAlert>\n    <div class=\"icon-container alert-spacing\">\n      <div class=\"icon\" :style=\"{ backgroundColor: cssColor }\"></div>\n    </div>\n    <VaButton\n      v-for=\"color in colors\"\n      :key=\"color\"\n      :color=\"color\"\n      class=\"button-spacing mr-6 mb-2\"\n      @click=\"changeIconColor(color)\"\n      >{{ color }}</VaButton\n    >\n  </div>\n</template>\n\n<script>\nimport { mapActions, useStore } from \"vuex\";\nimport { useColors } from \"vuestic-ui\";\nimport { ref, computed, onMounted, onUnmounted } from \"vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"UserProfile\",\n  setup() {\n    const store = useStore();\n    const iconColor = ref(\"primary\");\n    const username = store.state.currentUser.username;\n    const ws = ref(null);\n    const initializeWebSocket = () => {\n      ws.value = new WebSocket(`${process.env.VUE_APP_WS_URL}ws/room_list/`);\n      ws.value.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"icon_color_change\") {\n          iconColor.value = data.color;\n        }\n      };\n    };\n    const initializeIconColor = async () => {\n      try {\n        const response = await axios.get(\n          process.env.VUE_APP_BASE_URL + \"get_icon_color/\",\n          {\n            params: {\n              username: username,\n            },\n          }\n        );\n        if (response.data && response.data.color) {\n          iconColor.value = response.data.color;\n        } else {\n          console.error(\n            `Unexpected response format for ${username}:`,\n            response.data\n          );\n        }\n      } catch (error) {\n        console.error(`Error fetching icon color for ${username}:`, error);\n      }\n    };\n\n    initializeIconColor();\n    const colors = ref([\n      \"primary\",\n      \"secondary\",\n      \"success\",\n      \"info\",\n      \"danger\",\n      \"warning\",\n    ]);\n\n    const { getColor } = useColors();\n    const cssColor = computed(() => getColor(iconColor.value));\n\n    const changeIconColor = (colorName) => {\n      const color = getColor(colorName);\n      if (!color) {\n        console.error(`Color \"${colorName}\" not found in Vuestic config.`);\n        return;\n      }\n      if (ws.value) {\n        ws.value.send(\n          JSON.stringify({ type: \"icon_color_change\", color: color })\n        );\n      }\n      iconColor.value = color;\n      store.dispatch(\"updateIconColor\", color);\n    };\n\n    onMounted(() => {\n      initializeWebSocket();\n    });\n\n    onUnmounted(() => {\n      if (ws.value) {\n        ws.value.close();\n      }\n    });\n\n    const fetchIconColor = async () => {\n      const fetchedColor = await store.dispatch(\"fetchIconColor\");\n      console.log(fetchedColor);\n      if (fetchedColor) {\n        iconColor.value = fetchedColor;\n      }\n    };\n    fetchIconColor();\n\n    return {\n      iconColor,\n      colors,\n      changeIconColor,\n      cssColor,\n    };\n  },\n  methods: {\n    ...mapActions([\"updateIconColor\"]),\n    updateIconColor(color) {\n      this.changeIconColor(color);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.alert-spacing {\n  margin-bottom: 30px; /* ここで各要素間の距離を設定します */\n}\n\n.icon-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100px; /* Adjust this value as needed */\n}\n\n.icon {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n}\n\n.button-spacing {\n  margin-right: 10px;\n}\n</style>\n","import { render } from \"./UserProfile.vue?vue&type=template&id=54222cfc&scoped=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=54222cfc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54222cfc\"]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <div class=\"header-container\">\n      <VaAlert\n        color=\"primary\"\n        border=\"top\"\n        border-color=\"primary\"\n        class=\"mb-6 alert-partial-width\"\n      >\n        Chatting Room\n      </VaAlert>\n      <va-button class=\"mt-4\" @click=\"showSurvivalInfo = true\">\n        Survival Tasks Info\n      </va-button>\n      <va-button class=\"mt-4\" @click=\"showJapaneseSurvivalInfo = true\">\n        サバイバルタスクの情報\n      </va-button>\n    </div>\n    <div class=\"chat-container\">\n      <div class=\"chat-section\">\n        <message-list\n          :messages=\"messages\"\n          @quote=\"quoteMessage\"\n          @update-messages=\"updateMessages\"\n        ></message-list>\n      </div>\n      <prompt-display v-if=\"userType === 'NNS'\"></prompt-display>\n    </div>\n    <va-modal v-model=\"showSurvivalInfo\" ok-text=\"Understand\">\n      <template #content>\n        <h3 class=\"va-h3\">Survival Tasks</h3>\n\n        <h4 class=\"va-h4\">Experiment Flow</h4>\n        <p>\n          This experiment consists of 1 practice task and 2 main tasks. The flow\n          for each task is as follows:\n        </p>\n        <ol>\n          <li>Reading task introduction: 2 minutes</li>\n          <li>Individual ranking: 3 minutes</li>\n          <li>\n            Group discussion:\n            <ul>\n              <li>Practice task: 5 minutes</li>\n              <li>Main tasks: 10 minutes each</li>\n            </ul>\n          </li>\n        </ol>\n\n        <h4 class=\"va-h4\">Arctic Survival Task (Practice Task)</h4>\n        <p>\n          Your plane has crash-landed in the Arctic. Before the plane caught\n          fire, your group salvaged several items. Your task is to rank these 4\n          items in order of importance for survival:\n        </p>\n        <ul>\n          <li>A loaded .45-caliber pistol</li>\n          <li>Cigarette lighter (with fluid)</li>\n          <li>Extra shirt and pants for each survivor</li>\n          <li>A compass</li>\n        </ul>\n\n        <h4 class=\"va-h4\">Ocean Survival Task (Main Task)</h4>\n        <p>\n          You and two companions were sailing across the Atlantic Ocean when\n          your yacht sank. You managed to board a life raft, but you're\n          approximately 150 miles away from the nearest land. The weather is\n          clear, but the sea is rough. Your radio is broken, and you must decide\n          whether to wait for rescue or attempt to reach land on your own. You\n          were only able to salvage six items from the yacht before it sank.\n          Your task is to rank these 6 items in order of importance for your\n          survival:\n        </p>\n        <ul>\n          <li>5 liters of fresh water</li>\n          <li>Signal flares</li>\n          <li>Fishing kit</li>\n          <li>Waterproof tarpaulin</li>\n          <li>Solar-powered handheld GPS navigator</li>\n          <li>First aid kit</li>\n        </ul>\n\n        <h4 class=\"va-h4\">Desert Survival Task (Main Task)</h4>\n        <p>\n          It's mid-July at 10 am, and your plane has crash-landed in the desert.\n          The pilot died in the crash, but you and two other passengers survived\n          uninjured. Your location is 65 miles off-course, approximately 70\n          miles southeast of the nearest known inhabited area. Your task is to\n          rank these 6 items in order of importance for survival:\n        </p>\n        <ul>\n          <li>Folding knife</li>\n          <li>Torch with 4 battery-cells</li>\n          <li>Magnetic compass</li>\n          <li>2 liters of water per person</li>\n          <li>Sunglasses (for everyone)</li>\n          <li>First-aid kit</li>\n        </ul>\n\n        <p>\n          After each task, you will be asked to complete a short survey.\n          Following the entire experiment, there will be an interview lasting\n          approximately 30 minutes.\n        </p>\n      </template>\n      <template #footer>\n        <va-button @click=\"showSurvivalInfo = false\">Close</va-button>\n      </template>\n    </va-modal>\n\n    <va-modal v-model=\"showJapaneseSurvivalInfo\" ok-text=\"了解\">\n      <template #content>\n        <h3 class=\"va-h3\">サバイバルタスク</h3>\n\n        <h4 class=\"va-h4\">実験の流れ</h4>\n        <p>\n          この実験では、1つの練習タスクと2つのメインタスクを行います。各タスクの流れは以下の通りです：\n        </p>\n        <ol>\n          <li>タスク紹介の読み込み：2分間</li>\n          <li>個人でのランキング：3分間</li>\n          <li>\n            グループディスカッション：\n            <ul>\n              <li>練習タスク：5分間</li>\n              <li>メインタスク：10分間</li>\n            </ul>\n          </li>\n        </ol>\n\n        <h4 class=\"va-h4\">北極サバイバルタスク（練習タスク）</h4>\n        <p>\n          あなたの飛行機が北極で不時着しました。飛行機が炎上する前に、グループはいくつかのアイテムを回収しました。あなたの課題は、これらの4つのアイテムを生存のために重要な順に並べることです：\n        </p>\n        <ul>\n          <li>装填済みの.45口径ピストル</li>\n          <li>ライター（燃料あり）</li>\n          <li>各生存者用の予備のシャツとズボン</li>\n          <li>コンパス</li>\n        </ul>\n\n        <h4 class=\"va-h4\">海洋サバイバルタスク（メインタスク）</h4>\n        <p>\n          あなたと2人の仲間が大西洋を横断中にヨットが沈没しました。救命いかだに乗り込みましたが、最も近い陸地まで約240km離れています。天気は晴れていますが、海は荒れています。無線は故障しており、救助を待つか自力で陸地に向かうかを決めなければなりません。ヨットが沈む前に6つのアイテムだけを回収できました。あなたの課題は、これらの6つのアイテムを生存のために重要な順に並べることです：\n        </p>\n        <ul>\n          <li>5リットルの真水</li>\n          <li>信号用フレア</li>\n          <li>釣り道具セット</li>\n          <li>防水タープ</li>\n          <li>ソーラー充電式のハンドヘルドGPSナビゲーター</li>\n          <li>救急キット</li>\n        </ul>\n\n        <h4 class=\"va-h4\">砂漠サバイバルタスク（メインタスク）</h4>\n        <p>\n          7月中旬の午前10時、あなたの飛行機が砂漠に不時着しました。パイロットは事故で亡くなりましたが、あなたと他の2人の乗客は無傷で生き残りました。あなたたちの位置は予定のコースから105km外れており、最も近い既知の居住地から約110km南東にあります。あなたの課題は、これらの6つのアイテムを生存のために重要な順に並べることです：\n        </p>\n        <ul>\n          <li>折りたたみナイフ</li>\n          <li>4本の電池付き懐中電灯</li>\n          <li>磁気コンパス</li>\n          <li>1人あたり2リットルの水</li>\n          <li>サングラス（全員分）</li>\n          <li>救急キット</li>\n        </ul>\n\n        <p>\n          各タスク終了後、短いアンケートにご回答いただきます。実験全体の終了後、約30分間のインタビューを行います。\n        </p>\n      </template>\n      <template #footer>\n        <va-button @click=\"showJapaneseSurvivalInfo = false\">閉じる</va-button>\n      </template>\n    </va-modal>\n  </div>\n</template>\n\n<script>\nimport MessageList from \"@/components/MessageList.vue\";\n// import MessageInput from \"@/components/MessageInput.vue\"; // MessageInput コンポーネントをインポート\nimport PromptDisplay from \"@/components/PromptDisplay.vue\";\nimport { mapState, mapActions } from \"vuex\";\nimport { VaButton, VaModal } from \"vuestic-ui\";\n\nexport default {\n  name: \"RoomPage\",\n  components: {\n    MessageList,\n    PromptDisplay,\n    VaButton,\n    VaModal,\n  },\n  data() {\n    return {\n      inputMessage: \"\",\n      showSurvivalInfo: false,\n      showJapaneseSurvivalInfo: false,\n    };\n  },\n  computed: {\n    ...mapState([\n      \"messages\",\n      \"currentRoom\",\n      \"currentUser\",\n      \"iconColor\",\n      \"userType\",\n    ]),\n  },\n  watch: {\n    \"$route.params.id\": {\n      immediate: true,\n      handler(newId) {\n        this.initializeRoom(newId);\n      },\n    },\n  },\n  methods: {\n    ...mapActions([\n      \"fetchMessages\",\n      \"fetchCurrentUser\",\n      \"initWebSocket\",\n      \"addMessage\",\n      \"closeWebSocket\",\n    ]),\n    async initializeRoom(roomId) {\n      await this.closeWebSocket();\n      this.$store.commit(\"setMessages\", []);\n      await this.$store.commit(\"setCurrentRoom\", roomId);\n      await this.fetchMessages(roomId);\n      await this.fetchCurrentUser();\n      this.initWebSocket();\n    },\n    sendMessage() {\n      if (this.inputMessage.trim()) {\n        this.addMessage(this.inputMessage);\n        this.inputMessage = \"\";\n      }\n    },\n    quoteMessage(message) {\n      this.inputMessage = `> ${message}\\n`;\n    },\n    updateMessages(newMessages) {\n      this.$store.commit(\"SET_MESSAGES\", newMessages);\n    },\n  },\n  async created() {\n    await this.$store.dispatch(\"fetchIconColor\");\n    const storedUserType = localStorage.getItem(\"userType\");\n    if (storedUserType) {\n      this.$store.commit(\"setUserType\", storedUserType);\n    }\n  },\n  async mounted() {\n    try {\n      await this.fetchCurrentUser();\n      if (this.currentUser) {\n        console.log(\"Current user:\", this.currentUser);\n        console.log(\"User type:\", this.userType);\n        await this.initializeRoom(this.$route.params.id);\n        this.initWebSocket();\n      } else {\n        console.error(\"Current user is null\");\n      }\n    } catch (error) {\n      console.error(\"Error in mounted hook:\", error);\n    }\n  },\n  beforeUnmount() {\n    this.closeWebSocket();\n  },\n};\n</script>\n\n<style>\n.home {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n\n.header-container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.alert-partial-width {\n  flex-grow: 1;\n  margin-right: 1rem;\n}\n\n.arctic-info-button {\n  white-space: nowrap;\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: row;\n}\n\n.chat-section {\n  max-height: 500px;\n  flex: 1;\n}\n\n.mt-4 {\n  margin-top: 1rem;\n}\n\nul {\n  list-style-type: disc;\n  margin-left: 20px;\n}\n\nli {\n  margin-bottom: 5px;\n}\n</style>\n","import { render } from \"./RoomPage.vue?vue&type=template&id=ca564ffe\"\nimport script from \"./RoomPage.vue?vue&type=script&lang=js\"\nexport * from \"./RoomPage.vue?vue&type=script&lang=js\"\n\nimport \"./RoomPage.vue?vue&type=style&index=0&id=ca564ffe&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\nimport HomePage from \"@/components/HomePage.vue\";\nimport LoginPage from \"@/components/LoginPage.vue\";\nimport RegisterPage from \"@/components/RegisterPage.vue\";\nimport UserProfile from \"@/components/UserProfile.vue\";\nimport RoomPage from \"@/components/RoomPage.vue\";\n\nconst routes = [\n  { path: \"/\", component: LoginPage },\n  { path: \"/home\", component: HomePage },\n  { path: \"/room/:id\", component: RoomPage, props: true },\n  { path: \"/login\", component: LoginPage },\n  { path: \"/register\", component: RegisterPage },\n  { path: \"/user-profile\", component: UserProfile },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.STATIC_URL),\n  routes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\nimport axios from \"axios\";\n\nconst store = createStore({\n  state() {\n    return {\n      messages: [],\n      rooms: [],\n      currentRoom: null,\n      currentUser: null,\n      filteredMessages: [],\n      isUsernameValid: false,\n      isPasswordValid: false,\n      isLoggedIn: false,\n      socket: null,\n      roomId: null,\n      iconColor: \"primary\",\n      chatSocket: null,\n      roomListSocket: null,\n      userType: null,\n    };\n  },\n  mutations: {\n    setUserType(state, userType) {\n      state.userType = userType;\n    },\n    setIconColor(state, color) {\n      state.iconColor = color;\n    },\n    setRooms(state, rooms) {\n      state.rooms = rooms;\n    },\n    setLoggedIn(state, status) {\n      state.isLoggedIn = status;\n    },\n    setCurrentUser(state, user) {\n      state.currentUser = user;\n    },\n    setCurrentRoom(state, room) {\n      state.currentRoom = room;\n    },\n    setMessages(state, messages) {\n      state.messages = messages;\n    },\n    setSocket(state, socket) {\n      state.socket = socket;\n    },\n    setRoomListSocket(state, socket) {\n      state.roomListSocket = socket;\n    },\n    addRoom(state, room) {\n      state.rooms = [...state.rooms, room];\n    },\n    addMessage(state, message) {\n      if (!state.messages.some((m) => m.id === message.id)) {\n        state.messages.push(message);\n      }\n    },\n    updateUsernameValidation(state, isValid) {\n      state.isUsernameValid = isValid;\n    },\n    updatePasswordValidation(state, isValid) {\n      state.isPasswordValid = isValid;\n    },\n    SET_ROOM_ID(state, roomId) {\n      state.roomId = roomId;\n    },\n    SET_CHAT_SOCKET(state, socket) {\n      if (state.chatSocket) {\n        state.chatSocket.close();\n      }\n      state.chatSocket = socket;\n    },\n    SET_ROOM_LIST_SOCKET(state, socket) {\n      if (state.roomListSocket) {\n        state.roomListSocket.close();\n      }\n      state.roomListSocket = socket;\n    },\n  },\n  actions: {\n    fetchIconColor({ commit, state }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"get_icon_color/\", {\n          params: { username: state.currentUser.username },\n        })\n        .then((response) => {\n          commit(\"setIconColor\", response.data.color);\n          return response.data.color;\n        })\n        .catch((error) => {\n          console.error(\"Error fetching icon color:\", error);\n        });\n    },\n    updateIconColor({ commit, state }, color) {\n      const username = state.currentUser.username;\n      return axios\n        .post(process.env.VUE_APP_BASE_URL + \"update_icon_color/\", {\n          username: username,\n          color: color,\n        })\n        .then(() => {\n          commit(\"setIconColor\", color);\n        })\n        .catch((error) => {\n          console.error(\"Error updating icon color:\", error);\n        });\n    },\n    fetchRooms({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"room/\")\n        .then((response) => {\n          const rooms = response.data.map((room) => ({\n            id: room.id,\n            name: room.name,\n          }));\n          commit(\"setRooms\", rooms);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching rooms:\", error);\n        });\n    },\n    fetchAuthentication({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"check_login_status/\")\n        .then((response) => {\n          commit(\"setLoggedIn\", response.data.isLoggedIn);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching authentication status:\", error);\n          commit(\"setLoggedIn\", false);\n        });\n    },\n    fetchCurrentUser({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"get_current_user/\")\n        .then((response) => {\n          commit(\"setCurrentUser\", response.data);\n          localStorage.setItem(\"username\", response.data.username);\n          if (response.data.userType) {\n            commit(\"setUserType\", response.data.userType);\n            localStorage.setItem(\"userType\", response.data.userType);\n          }\n        })\n        .catch((error) => {\n          console.error(\"Error fetching current user:\", error);\n        });\n    },\n    fetchMessages({ state, commit }) {\n      if (state.currentRoom === null) {\n        console.error(\"currentRoom is not set\");\n        return Promise.reject(\"currentRoom is not set\");\n      }\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"messages/\", {\n          params: { room_id: state.currentRoom },\n        })\n        .then((response) => {\n          commit(\"setMessages\", response.data);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching messages:\", error);\n        });\n    },\n    initRoomListWebSocket({ commit, dispatch }) {\n      const wsUrl = `${process.env.VUE_APP_WS_URL}ws/room_list/`;\n      const socket = new WebSocket(wsUrl);\n\n      socket.onopen = () => {\n        console.log(\"Room List WebSocket connected\");\n      };\n\n      socket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"room_list_update\") {\n          dispatch(\"updateRoomList\", data.rooms);\n        }\n      };\n\n      socket.onclose = () => {\n        console.log(\"Room List WebSocket disconnected\");\n        setTimeout(() => dispatch(\"initRoomListWebSocket\"), 3000);\n      };\n\n      commit(\"SET_ROOM_LIST_SOCKET\", socket);\n    },\n\n    updateRoomList({ commit }, rooms) {\n      commit(\"setRooms\", rooms);\n    },\n\n    closeWebSocket({ state, commit }) {\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        state.socket.close();\n      }\n      commit(\"setSocket\", null);\n    },\n\n    initWebSocket({ state, commit }) {\n      if (!state.currentUser) {\n        console.error(\"Cannot initialize WebSocket: User not authenticated\");\n        return;\n      }\n      if (state.currentRoom === null) {\n        console.error(\"Cannot initialize WebSocket: Room not selected\");\n        return;\n      }\n\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        state.socket.close();\n      }\n\n      const wsUrl = `${process.env.VUE_APP_WS_URL}ws/chat/${state.currentRoom}/`;\n      console.log(\"Connecting to WebSocket:\", wsUrl);\n\n      const socket = new WebSocket(wsUrl);\n\n      socket.onopen = () => {\n        console.log(\"WebSocket connected successfully\");\n      };\n\n      socket.onmessage = (event) => {\n        console.log(\"WebSocket message received:\", event.data);\n        try {\n          const data = JSON.parse(event.data);\n          if (data.type === \"chat_message\") {\n            store.dispatch(\"addMessage\", data.message);\n          }\n        } catch (error) {\n          console.error(\"Error processing WebSocket message:\", error);\n        }\n      };\n\n      socket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      socket.onclose = (event) => {\n        console.log(\n          \"WebSocket closed. Code:\",\n          event.code,\n          \"Reason:\",\n          event.reason\n        );\n        commit(\"setSocket\", null);\n        /*\n        setTimeout(() => {\n          console.log(\"Attempting to reconnect...\");\n          store.dispatch(\"initWebSocket\");\n        }, 5000);\n        */\n      };\n      commit(\"setSocket\", socket);\n    },\n    switchRoom({ commit, state }, newRoomId) {\n      if (state.chatSocket) {\n        state.chatSocket.close();\n        commit(\"SET_CHAT_SOCKET\", null);\n      }\n\n      if (state.roomListSocket) {\n        state.roomListSocket.close();\n        commit(\"SET_ROOM_LIST_SOCKET\", null);\n      }\n\n      commit(\"SET_ROOM_ID\", newRoomId);\n\n      store.dispatch(\"initChatWebSocket\", newRoomId);\n\n      store.dispatch(\"initRoomListWebSocket\");\n    },\n    addMessage({ commit }, message) {\n      commit(\"addMessage\", message);\n    },\n    sendMessage({ state }, messageData) {\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        const message = {\n          type: \"chat_message\",\n          message: messageData,\n          username: state.currentUser.username,\n          room: state.currentRoom,\n        };\n        state.socket.send(JSON.stringify(message));\n      } else {\n        console.error(\"WebSocket is not open. Unable to send message.\");\n      }\n    },\n    logIn({ commit }, { username, userType }) {\n      commit(\"setLoggedIn\", true);\n      commit(\"setCurrentUser\", username);\n      commit(\"setUserType\", userType);\n      localStorage.setItem(\"username\", username);\n      localStorage.setItem(\"userType\", userType);\n    },\n    logOut({ commit }) {\n      commit(\"setLoggedIn\", false);\n      commit(\"setCurrentUser\", null);\n      commit(\"setUserType\", null);\n      localStorage.removeItem(\"username\");\n      localStorage.removeItem(\"userType\");\n    },\n    initializeApp({ commit }) {\n      const username = localStorage.getItem(\"username\");\n      const userType = localStorage.getItem(\"userType\");\n      if (username) {\n        commit(\"setCurrentUser\", username);\n      }\n      if (userType) {\n        commit(\"setUserType\", userType);\n      }\n    },\n    addRoom({ commit }, room) {\n      commit(\"addRoom\", room);\n    },\n    selectRoom({ commit, dispatch }, room) {\n      commit(\"setCurrentRoom\", room);\n      dispatch(\"initWebSocket\");\n    },\n    updateUsernameValidation({ commit }, isValid) {\n      commit(\"updateUsernameValidation\", isValid);\n    },\n    updatePasswordValidation({ commit }, isValid) {\n      commit(\"updatePasswordValidation\", isValid);\n    },\n    setRoomId({ commit }, roomId) {\n      commit(\"SET_ROOM_ID\", roomId);\n    },\n  },\n});\n\nexport default store;\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport axios from \"axios\";\nimport { createVuestic } from \"vuestic-ui\";\nimport \"vuestic-ui/styles/essential.css\";\nimport \"vuestic-ui/styles/grid.css\";\nimport \"vuestic-ui/styles/reset.css\";\nimport \"vuestic-ui/styles/typography.css\";\nimport mdiVue from \"mdi-vue/v3\";\nimport * as mdijs from \"@mdi/js\";\n// import 'vuestic-admin/src/scss/icon-fonts/fontelico/fontelico.scss';\n\naxios.interceptors.request.use((config) => {\n  config.headers[\"X-CSRFToken\"] = window.csrfToken;\n  return config;\n});\n\ncreateApp(App)\n  .use(mdiVue, {\n    icons: mdijs,\n  })\n  .use(router)\n  .use(store)\n  .use(\n    createVuestic({\n      config: {\n        colors: {\n          variables: {\n            primary: \"#154EC1\",\n            secondary: \"#666E75\",\n            success: \"#3D9209\",\n            info: \"#158DE3\",\n            danger: \"#E42222\",\n            warning: \"#FFD43A\",\n            backgroundPrimary: \"#FFFFFF\",\n            backgroundSecondary: \"#FFFFFF\",\n            backgroundElement: \"#ECF0F1\",\n            backgroundBorder: \"#DEE5F2\",\n            textPrimary: \"#262824\",\n            textInverted: \"#FFFFFF\",\n            shadow: \"rgba(0, 0, 0, 0.12)\",\n            focus: \"#49A8FF\",\n            transparent: \"rgba(0, 0, 0, 0)\",\n            backgroundLanding: \"#f4f9fc\",\n            backgroundLandingBorder: \"rgba(155, 179, 206, 0.8)\",\n            button: \"#000\",\n          },\n        },\n        components: {\n          VaButton: {\n            color: \"button\",\n          },\n        },\n      },\n    })\n  )\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/static/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchat\"] = self[\"webpackChunkchat\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3947); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_ctx","isAuthenticated","_createBlock","_component_va_sidebar","key","collapsed","$data","isCollapsed","_cache","$event","default","_withCtx","_createVNode","_component_va_list","_component_va_sidebar_item","onClick","$options","goToHome","_component_va_sidebar_item_content","_component_va_icon","name","size","_component_va_sidebar_item_title","_createTextVNode","_","goToProfile","createNewRoom","_Fragment","_renderList","rooms","room","selectRoom","_toDisplayString","logout","_createCommentVNode","_hoisted_3","_component_router_view","computed","mapState","state","isLoggedIn","data","created","this","initializeApp","methods","mapActions","fetchAuthentication","fetchRooms","initRoomListWebSocket","$route","params","roomId","$router","push","then","location","reload","$store","commit","initWebSocket","csrfToken","getCookie","console","log","axios","post","process","headers","withCredentials","socket","close","dispatch","catch","error","alert","response","detail","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","roomName","prompt","window","addRoom","__exports__","render","_component_VaAlert","color","border","_component_message_list","messages","onQuote","quoteMessage","onUpdateMessages","updateMessages","_component_message_input","value","inputMessage","onSend","addMessage","userType","_component_prompt_display","msg","_component_VaCard","onMouseover","$setup","handleMouseOver","onMouseleave","handleMouseLeave","_component_VaCardTitle","style","_normalizeStyle","backgroundColor","getIconColor","user__username","_component_VaCardContent","text","innerHTML","_component_VaButton","_component_Return32","showQuoteButton","_hoisted_4","_component_CommandPalette","quotedMessage","handleSend","onClearQuote","clearQuotedMessage","$props","args","clearQuote","_component_ckeditor","editor","modelValue","content","config","editorConfig","sendMessage","components","ckeditor","CKEditor","props","String","ClassicEditor","toolbar","items","shouldNotGroupWhenFull","messageContent","$emit","Return32","CommandPalette","setup","store","useStore","reactive","iconColors","currentRoom","async","updateIconColor","username","get","messageText","onMounted","onBeforeUnmount","readyState","WebSocket","OPEN","watch","newRoom","oldRoom","newMessages","oldMessages","deep","toRefs","API_KEY","http","create","baseURL","Authorization","askChatGPT","purpose","conversationHistory","filter","map","role","currentUser","replace","requestData","model","generatePrompt","max_tokens","temperature","JSON","stringify","result","makeRequestWithRetry","choices","message","question","answer","input","history","background","selfIntroduction","context","join","userLanguageLevel","basePrompt","url","retries","delay","status","Promise","resolve","setTimeout","Math","pow","MessageList","PromptDisplay","mounted","storedUserType","localStorage","getItem","createDefaultRoom","wsUrl","onopen","onmessage","event","receivedMessage","parse","onclose","onerror","beforeUnmount","send","room_name","room_id","messageData","src","_imports_0","alt","_component_va_card","onSubmit","_withModifiers","onLogin","_component_va_input","placeholder","_hoisted_5","type","password","_hoisted_6","_component_va_select","options","userTypes","label","clearable","_hoisted_7","_hoisted_8","_component_VaBadge","goToRegister","VaSelect","router","useRouter","ref","find","row","startsWith","userTypeValue","setItem","_component_VaInput","onInput","checkUsername","success","isUsernameValid","usernameError","checkPassword","isPasswordValid","passwordError","isFormValid","registerUser","isValid","updateUsernameValidation","updatePasswordValidation","icon","_component_VaIcon","cssColor","colors","changeIconColor","iconColor","ws","initializeWebSocket","initializeIconColor","getColor","useColors","colorName","onUnmounted","fetchIconColor","fetchedColor","_component_va_button","showSurvivalInfo","showJapaneseSurvivalInfo","_component_va_modal","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","footer","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","VaButton","VaModal","immediate","handler","newId","initializeRoom","closeWebSocket","fetchMessages","fetchCurrentUser","routes","path","component","LoginPage","HomePage","RoomPage","RegisterPage","UserProfile","createRouter","createWebHistory","STATIC_URL","createStore","filteredMessages","chatSocket","roomListSocket","mutations","setUserType","setIconColor","setRooms","setLoggedIn","setCurrentUser","user","setCurrentRoom","setMessages","setSocket","setRoomListSocket","some","m","SET_ROOM_ID","SET_CHAT_SOCKET","SET_ROOM_LIST_SOCKET","actions","reject","updateRoomList","code","reason","switchRoom","newRoomId","logIn","logOut","removeItem","setRoomId","interceptors","request","use","createApp","App","mdiVue","icons","mdijs","createVuestic","variables","primary","secondary","info","danger","warning","backgroundPrimary","backgroundSecondary","backgroundElement","backgroundBorder","textPrimary","textInverted","shadow","focus","transparent","backgroundLanding","backgroundLandingBorder","button","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}