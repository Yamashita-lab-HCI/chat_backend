<<<<<<< HEAD
{"version":3,"file":"js/app.js","mappings":"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","sources":["webpack://chat/./src/App.vue","webpack://chat/./src/App.vue?7ccd","webpack://chat/./src/components/HomePage.vue","webpack://chat/./src/components/MessageList.vue","webpack://chat/./src/components/CommandPalette.vue","webpack://chat/./src/components/CommandPalette.vue?c72f","webpack://chat/./src/components/MessageList.vue?2e85","webpack://chat/./src/components/PromptDisplay.vue","webpack://chat/./src/components/PromptDisplay.vue?acf6","webpack://chat/./src/components/HomePage.vue?8b1a","webpack://chat/./src/components/LoginPage.vue","webpack://chat/./src/components/LoginPage.vue?8d24","webpack://chat/./src/components/RegisterPage.vue","webpack://chat/./src/components/RegisterPage.vue?471c","webpack://chat/./src/components/UserProfile.vue","webpack://chat/./src/components/UserProfile.vue?6e82","webpack://chat/./src/components/RoomPage.vue","webpack://chat/./src/components/RoomPage.vue?6017","webpack://chat/./src/router/index.js","webpack://chat/./src/store/index.js","webpack://chat/./src/main.js","webpack://chat/webpack/bootstrap","webpack://chat/webpack/runtime/chunk loaded","webpack://chat/webpack/runtime/compat get default export","webpack://chat/webpack/runtime/define property getters","webpack://chat/webpack/runtime/global","webpack://chat/webpack/runtime/hasOwnProperty shorthand","webpack://chat/webpack/runtime/make namespace object","webpack://chat/webpack/runtime/node module decorator","webpack://chat/webpack/runtime/publicPath","webpack://chat/webpack/runtime/jsonp chunk loading","webpack://chat/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"container\">\n      <va-sidebar v-model:collapsed=\"isCollapsed\" v-if=\"isAuthenticated\">\n        <va-list>\n          <va-sidebar-item @click=\"goToHome\">\n            <va-sidebar-item-content>\n              <va-icon name=\"home\" size=\"large\" />\n              <va-sidebar-item-title>Home</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"goToProfile\">\n            <va-sidebar-item-content>\n              <va-icon name=\"person\" size=\"large\" />\n              <va-sidebar-item-title>Profile</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"createNewRoom\">\n            <va-sidebar-item-content>\n              <va-icon name=\"add\" size=\"large\" />\n              <va-sidebar-item-title>Create New Room</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item\n            v-for=\"room in rooms\"\n            :key=\"room.name\"\n            @click=\"selectRoom(room)\"\n          >\n            <va-sidebar-item-content>\n              <va-icon name=\"chat\" size=\"large\" />\n              <va-sidebar-item-title>{{ room.name }}</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"logout\">\n            <va-sidebar-item-content>\n              <va-icon name=\"logout\" size=\"large\" />\n              <va-sidebar-item-title>Log Out</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n        </va-list>\n      </va-sidebar>\n      <main class=\"main-content\">\n        <router-view />\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  computed: {\n    ...mapState({\n      isAuthenticated: (state) => state.isLoggedIn,\n      rooms: (state) => state.rooms,\n    }),\n  },\n  data() {\n    return {\n      isCollapsed: false,\n    };\n  },\n  created() {\n    this.initializeApp();\n  },\n  methods: {\n    ...mapActions([\n      \"logOut\",\n      \"addRoom\",\n      \"fetchAuthentication\",\n      \"fetchRooms\",\n      \"fetchMessages\",\n      \"initWebSocket\",\n      \"initRoomListWebSocket\",\n      \"initRoomListWebSocket\",\n      \"selectRoom\",\n    ]),\n    async initializeApp() {\n      await this.fetchAuthentication();\n      if (this.isAuthenticated) {\n        await this.fetchRooms();\n        this.initRoomListWebSocket();\n        if (this.$route.params.roomId) {\n          this.selectRoom({ id: this.$route.params.roomId });\n        }\n      }\n    },\n    goToHome() {\n      this.$router.push(\"/home\").then(() => {\n        location.reload();\n      });\n    },\n    goToProfile() {\n      this.$router.push(\"/user-profile\");\n    },\n    selectRoom(room) {\n      this.$router.push(`/room/${room.id}`);\n      this.$store.commit(\"setCurrentRoom\", room.id);\n      this.initWebSocket(); // WebSocket接続を初期化\n      // this.fetchMessages();\n    },\n    logout() {\n      const csrfToken = this.getCookie(\"csrftoken\");\n      console.log(\"CSRF Token:\", csrfToken);\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"logout/\",\n          {},\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken,\n            },\n          }\n        )\n        .then(() => {\n          if (this.$store.state.socket) {\n            this.$store.state.socket.close();\n          }\n          this.logOut();\n          this.$router.push(\"/login\");\n        })\n        .catch((error) => {\n          console.error(\"Failed to log out:\", error);\n          alert(\n            `Logout failed: ${error.response.data.detail || \"Please try again.\"}`\n          );\n        });\n    },\n    getCookie(name) {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== \"\") {\n        const cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + \"=\") {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    },\n    createNewRoom() {\n      const roomName = prompt(\"Enter a name for the new chat room:\");\n      if (roomName) {\n        axios\n          .post(\n            process.env.VUE_APP_BASE_URL + \"create-room/\",\n            { roomName: roomName },\n            {\n              headers: {\n                \"X-CSRFToken\": window.csrfToken,\n              },\n            }\n          )\n          .then((response) => {\n            const roomId = response.data.roomId;\n            this.addRoom({ name: roomName, id: roomId });\n            this.selectRoom({ id: roomId });\n            this.$router.push(`/room/${roomId}`);\n          })\n          .catch((error) => {\n            console.error(\"Failed to create room:\", error);\n            console.error(\"Server response:\", error.response.data);\n            alert(\n              `Room creation failed: ${error.response.data.detail || \"Please try again.\"}`\n            );\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  text-align: center;\n}\n.container {\n  display: flex;\n}\n.sidebar {\n  flex: 0 0 250px;\n}\n.main-content {\n  flex: 1;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=0ca49823\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0ca49823&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-full-width\"\n    >\n      Chatting Room\n    </VaAlert>\n    <div class=\"chat-container\">\n      <!-- チャットメッセージのリストとメッセージ入力フィールドを包含するコンテナ -->\n      <div class=\"chat-section\">\n        <message-list\n          :messages=\"messages\"\n          @quote=\"quoteMessage\"\n          @update-messages=\"updateMessages\"\n        ></message-list>\n        <message-input :value=\"inputMessage\" @send=\"addMessage\"></message-input>\n      </div>\n      <!-- プロンプト表示部分 -->\n      <prompt-display></prompt-display>\n    </div>\n  </div>\n</template>\n\n<script>\n// import dummyData from '@/dummyData';\nimport MessageList from \"@/components/MessageList.vue\";\n// import MessageInput from \"@/components/MessageInput.vue\";\nimport PromptDisplay from \"@/components/PromptDisplay.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"HomePage\",\n  components: {\n    MessageList,\n    PromptDisplay,\n  },\n  data() {\n    return {\n      inputMessage: \"\",\n    };\n  },\n  async mounted() {\n    try {\n      await this.$store.dispatch(\"fetchCurrentUser\");\n      if (this.currentUser) {\n        console.log(\"Current user:\", this.currentUser);\n        await this.$store.dispatch(\"fetchIconColor\");\n        const csrfToken = this.getCookie(\"csrftoken\");\n        await this.createDefaultRoom(csrfToken);\n      } else {\n        console.error(\"Current user is null\");\n      }\n    } catch (error) {\n      console.error(\"Error in mounted hook:\", error);\n    }\n  },\n\n  computed: {\n    messages() {\n      return this.$store.state.messages;\n    },\n    currentRoom() {\n      return this.$store.state.currentRoom;\n    },\n    currentUser() {\n      return this.$store.state.currentUser;\n    },\n  },\n\n  created() {\n    this.$store.dispatch(\"fetchIconColor\");\n  },\n  methods: {\n    initWebSocket() {\n      // WebSocketのURLを指定します。例: ws://localhost:3000\n      const wsUrl = \"YOUR_WEBSOCKET_ENDPOINT\";\n      this.socket = new WebSocket(wsUrl);\n\n      // WebSocket接続が開かれた時のイベントハンドラ\n      this.socket.onopen = () => {\n        console.log(\"WebSocket connection opened\");\n        // 必要に応じてサーバーにメッセージを送信\n        // this.socket.send(\"Hello Server!\");\n      };\n\n      // メッセージを受信した時のイベントハンドラ\n      this.socket.onmessage = (event) => {\n        console.log(\"Message from server \", event.data);\n        const receivedMessage = JSON.parse(event.data);\n        // 受信したメッセージを処理\n        this.updateMessages(receivedMessage);\n      };\n\n      // WebSocket接続が閉じられた時のイベントハンドラ\n      this.socket.onclose = () => {\n        console.log(\"WebSocket connection closed\");\n      };\n\n      // エラーが発生した時のイベントハンドラ\n      this.socket.onerror = (error) => {\n        console.error(\"WebSocket error: \", error);\n      };\n    },\n    beforeUnmount() {\n      // WebSocket接続をクローズ\n      if (this.socket) {\n        this.socket.close();\n      }\n    },\n    sendMessage() {\n      if (this.inputMessage.trim() && this.socket) {\n        // メッセージをサーバーに送信\n        this.socket.send(JSON.stringify({ message: this.inputMessage }));\n        this.inputMessage = \"\"; // 入力フィールドをクリア\n      }\n    },\n    async createDefaultRoom(csrfToken) {\n      try {\n        const response = await axios.post(\n          `${process.env.VUE_APP_BASE_URL}create_default_room/`,\n          {\n            room_name: \"HomePage\",\n            room_id: 1,\n          },\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken,\n            },\n          }\n        );\n        console.log(response.data);\n        this.$store.commit(\"setCurrentRoom\", 0);\n        await this.$store.dispatch(\"fetchMessages\");\n      } catch (error) {\n        console.error(\"Error creating default room:\", error);\n      }\n    },\n    getCookie(name) {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== \"\") {\n        const cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + \"=\") {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    },\n    async addMessage() {\n      if (!this.currentRoom) {\n        console.error(\"currentRoom is not set\");\n        return;\n      }\n      console.log(this.inputMessage);\n      const messageData = this.inputMessage;\n      try {\n        await this.$store.dispatch(\"addMessage\", messageData);\n        this.inputMessage = \"\";\n      } catch (error) {\n        console.error(\"Error sending message:\", error);\n      }\n    },\n    quoteMessage(message) {\n      this.inputMessage = `> ${message}\\n`;\n    },\n    updateMessages(newMessages) {\n      this.$store.commit(\"SET_MESSAGES\", newMessages);\n    },\n  },\n};\n</script>\n\n<!-- スタイル -->\n<style>\n.home {\n  /* フレックスコンテナとして設定 */\n  display: flex;\n  flex-direction: column;\n}\n\n.alert-full-width {\n  width: 100%; /* VaAlertコンポーネントの幅を100%に設定 */\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: row; /* 横並びにする */\n}\n\n.chat-section {\n  max-height: 500px;\n  flex: 1; /* チャットセクションを適切に伸縮させる */\n}\n</style>\n","<template>\n  <div class=\"message-list\">\n    <VaCard\n      v-for=\"msg in messages\"\n      :key=\"msg.id\"\n      class=\"mb-2 message-card\"\n      @mouseover=\"handleMouseOver(msg.id)\"\n      @mouseleave=\"handleMouseLeave(msg.id)\"\n    >\n      <VaCardTitle>\n        <div\n          class=\"icon\"\n          :style=\"{ backgroundColor: getIconColor(msg.user__username) }\"\n        ></div>\n        <span class=\"message-user\">{{ msg.user__username }}</span>\n      </VaCardTitle>\n      <VaCardContent>\n        <div v-if=\"msg.text\" v-html=\"msg.text\"></div>\n        <VaButton\n          v-show=\"showQuoteButton[msg.id]\"\n          @click=\"quoteMessage(msg.text, msg.id)\"\n          class=\"quote-button\"\n        >\n          <Return32 />\n        </VaButton>\n      </VaCardContent>\n    </VaCard>\n  </div>\n  <div class=\"command-palette-wrapper\">\n    <CommandPalette\n      v-if=\"isAuthenticated\"\n      :quotedMessage=\"quotedMessage\"\n      @send=\"handleSend\"\n      @clear-quote=\"clearQuotedMessage\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Return32 } from \"@carbon/icons-vue\";\nimport CommandPalette from \"./CommandPalette.vue\";\nimport { mapState, useStore } from \"vuex\";\nimport axios from \"axios\";\nimport {\n  reactive,\n  toRefs,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n} from \"vue\";\n\nexport default {\n  name: \"MessageList\",\n  components: {\n    Return32,\n    CommandPalette,\n  },\n  props: {\n    roomName: String,\n  },\n  computed: {\n    ...mapState([\"messages\"]),\n  },\n  setup() {\n    const store = useStore();\n    const state = reactive({\n      showQuoteButton: {},\n      quotedMessage: \"\",\n    });\n    const iconColors = reactive({});\n\n    const isAuthenticated = computed(() => store.state.isLoggedIn);\n    // const currentUser = computed(() => store.state.currentUser);\n    const currentRoom = computed(() => store.state.currentRoom);\n\n    onMounted(() => {\n      if (currentRoom.value) {\n        store.dispatch(\"initWebSocket\");\n      }\n    });\n\n    onBeforeUnmount(() => {\n      if (\n        store.state.socket &&\n        store.state.socket.readyState === WebSocket.OPEN\n      ) {\n        store.state.socket.close();\n        store.commit(\"setSocket\", null);\n      }\n    });\n\n    watch(currentRoom, (newRoom, oldRoom) => {\n      if (newRoom !== oldRoom) {\n        if (\n          store.state.socket &&\n          store.state.socket.readyState === WebSocket.OPEN\n        ) {\n          store.state.socket.close();\n          store.commit(\"setSocket\", null);\n        }\n        store.dispatch(\"initWebSocket\");\n      }\n    });\n\n    watch(\n      () => store.state.messages,\n      (newMessages, oldMessages) => {\n        // ここでUIの更新処理を行う\n        // 例: 新しいメッセージが追加されたことをユーザーに通知する\n        console.log(\n          \"Messages updated\",\n          newMessages.length - oldMessages.length,\n          \"new messages added\"\n        );\n      },\n      { deep: true }\n    );\n\n    /*function connectWebSocket() {\n      if (!currentRoom.value) {\n        console.error(\"Cannot connect WebSocket: Room is not set\");\n        return;\n      }\n\n      const wsUrl =\n        `${process.env.VUE_APP_WS_URL}/ws/chat/${currentRoom.value}/`.replace(\n          /\\/\\//g,\n          \"/\"\n        );\n      state.websocket = new WebSocket(wsUrl);\n\n      state.websocket.onopen = () => {\n        console.log(\"WebSocket connected\");\n      };\n\n      state.websocket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"chat_message\") {\n          state.messages.unshift(data.message);\n          updateIconColor(data.message.user__username);\n        }\n      };\n\n      state.websocket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      state.websocket.onclose = () => {\n        console.log(\"WebSocket disconnected\");\n      };\n    }\n\n    function disconnectWebSocket() {\n      if (state.websocket && state.websocket.readyState === WebSocket.OPEN) {\n        state.websocket.close();\n        console.log(\"WebSocket is safely closed.\");\n      }\n    }\n    */\n\n    async function updateIconColor(username) {\n      try {\n        const response = await axios.get(\n          `${process.env.VUE_APP_BASE_URL}get_icon_color/`,\n          {\n            params: { username: username },\n          }\n        );\n        if (response.data && response.data.color) {\n          iconColors[username] = response.data.color;\n        }\n      } catch (error) {\n        console.error(`Error fetching icon color for ${username}:`, error);\n      }\n    }\n\n    watch(\n      () => store.state.messages,\n      async (newMessages) => {\n        for (const msg of newMessages) {\n          if (!iconColors[msg.user__username]) {\n            await updateIconColor(msg.user__username);\n          }\n        }\n      },\n      { deep: true }\n    );\n\n    function getIconColor(username) {\n      return iconColors[username] || \"#000000\";\n    }\n\n    function handleMouseOver(id) {\n      state.showQuoteButton[id] = true;\n    }\n\n    function handleMouseLeave(id) {\n      state.showQuoteButton[id] = false;\n    }\n\n    function quoteMessage(messageText, id) {\n      state.quotedMessage = messageText;\n      state.showQuoteButton[id] = false;\n    }\n\n    function clearQuotedMessage() {\n      state.quotedMessage = \"\";\n    }\n\n    function handleSend(content) {\n      if (!content || content.trim() === \"\") {\n        return;\n      }\n      store.dispatch(\"sendMessage\", content);\n    }\n\n    return {\n      ...toRefs(state),\n      quoteMessage,\n      clearQuotedMessage,\n      handleSend,\n      isAuthenticated,\n      getIconColor,\n      handleMouseOver,\n      handleMouseLeave,\n    };\n  },\n};\n</script>\n\n<style>\n.message-card {\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  position: relative;\n  z-index: 1;\n}\n\n.icon {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n}\n\n.quote-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: none;\n  padding: 5px;\n}\n\n.message-card:hover .quote-button {\n  display: block;\n}\n\n.message-card ul {\n  list-style-type: disc;\n  padding-left: 20px;\n}\n\n.message-card li {\n  margin-bottom: 10px;\n}\n\n.message-card ol {\n  list-style-type: decimal;\n  padding-left: 20px;\n}\n\n/* 引用のスタイル */\n.message-card blockquote {\n  border-left: 4px solid #ddd;\n  padding-left: 15px;\n  color: #666;\n}\n\n.message-icon {\n  margin-right: 10px;\n}\n\n.message-user {\n  font-weight: bold;\n  margin-right: 10px;\n  margin-left: 10px;\n}\n\n.message-list {\n  max-height: calc(100vh - 200px);\n  overflow-y: auto;\n  position: relative;\n}\n.command-palette-wrapper {\n  position: sticky;\n  bottom: 0;\n}\n\n.command-palette {\n  width: 100%;\n  height: 100px;\n  z-index: 2;\n}\n</style>\n","<template>\n  <div class=\"command-palette\">\n    <div v-if=\"quotedMessage\" class=\"quoted-message\">\n      <blockquote>{{ quotedMessage }}</blockquote>\n      <button @click=\"clearQuote\">x</button>\n    </div>\n    <ckeditor\n      :editor=\"editor\"\n      v-model=\"content\"\n      :config=\"editorConfig\"\n    ></ckeditor>\n    <div class=\"va-title\">Type your Message:</div>\n    <VaButton @click=\"sendMessage\">Send</VaButton>\n  </div>\n</template>\n\n<script>\nimport CKEditor from \"@ckeditor/ckeditor5-vue\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\n\nexport default {\n  name: \"CommandPalette\",\n  components: {\n    ckeditor: CKEditor.component,\n  },\n  props: {\n    quotedMessage: String,\n  },\n  data() {\n    return {\n      editor: ClassicEditor,\n      content: \"\",\n      editorConfig: {\n        toolbar: {\n          items: [\n            \"undo\",\n            \"redo\",\n            \"|\",\n            \"bold\",\n            \"italic\",\n            \"|\",\n            \"link\",\n            // \"uploadImage\",\n            \"blockQuote\",\n            \"|\",\n            \"bulletedList\",\n            \"numberedList\",\n          ],\n          shouldNotGroupWhenFull: false,\n        },\n      },\n    };\n  },\n  methods: {\n    sendMessage() {\n      if (this.content.trim() !== \"\") {\n        let messageContent = this.content;\n        if (this.quotedMessage) {\n          messageContent = `<blockquote>${this.quotedMessage}</blockquote>${messageContent}`;\n        }\n        this.$emit(\"send\", messageContent);\n        this.content = \"\"; // 送信後にエディタをクリア\n        this.$emit(\"clear-quote\");\n      }\n    },\n    clearQuote() {\n      this.$emit(\"clear-quote\");\n    },\n  },\n};\n</script>\n\n<style>\n.command-palette {\n  border: 1px solid #ccc;\n  padding: 10px;\n}\n.ck-content {\n  padding: 20px;\n}\n.va-title {\n  margin-top: 10px;\n  font-weight: bold;\n}\nbutton {\n  cursor: pointer;\n}\n.quoted-message {\n  border-left: 4px solid #ccc;\n  padding-left: 10px;\n  margin-bottom: 10px;\n  position: relative;\n}\n.quoted-message button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 16px;\n}\n</style>\n","import { render } from \"./CommandPalette.vue?vue&type=template&id=f3f5b1c0\"\nimport script from \"./CommandPalette.vue?vue&type=script&lang=js\"\nexport * from \"./CommandPalette.vue?vue&type=script&lang=js\"\n\nimport \"./CommandPalette.vue?vue&type=style&index=0&id=f3f5b1c0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MessageList.vue?vue&type=template&id=98e6e668\"\nimport script from \"./MessageList.vue?vue&type=script&lang=js\"\nexport * from \"./MessageList.vue?vue&type=script&lang=js\"\n\nimport \"./MessageList.vue?vue&type=style&index=0&id=98e6e668&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"prompt-display\">\n    <h2>🧑 Ask ChatGPT!</h2>\n    <div class=\"input-group\">\n      <textarea\n        class=\"input\"\n        placeholder=\"Please type in your questions.\"\n        v-model=\"state.prompt\"\n      ></textarea>\n    </div>\n    <div class=\"va-title\">\n      Please click the button that best suits your purpose:\n    </div>\n    <div class=\"input-group\">\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('translate')\">\n        Translation\n      </VaButton>\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('decision')\">\n        Decision\n      </VaButton>\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('opinion')\">\n        Opinion\n      </VaButton>\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('keywords')\">\n        Keyword\n      </VaButton>\n    </div>\n    <div class=\"response\">\n      <pre>{{ state.response }}</pre>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive } from \"vue\";\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\n\nconst state = reactive({\n  prompt: \"\",\n  response:\n    \"✅ Answer from ChatGPT will appear here. You can type in any languages!\",\n  isCollapsed: false,\n});\n\nconst API_KEY = process.env.VUE_APP_API_KEY;\nconst http = axios.create({\n  baseURL: \"https://api.openai.com/v1/\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${API_KEY}`,\n  },\n});\n\nconst store = useStore();\n\nasync function askChatGPT(purpose) {\n  if (!state.prompt.trim()) {\n    state.response = \"⚠️ Please enter your question.\";\n    return;\n  }\n\n  let requestData = {\n    model: \"gpt-3.5-turbo\",\n    messages: [\n      { role: \"user\", content: generatePrompt(state.prompt, purpose) },\n    ],\n    max_tokens: 256,\n    temperature: 0.7,\n  };\n\n  try {\n    const result = await makeRequestWithRetry(\n      \"chat/completions\",\n      requestData,\n      3,\n      2000\n    );\n    state.response = result.data.choices[0].message.content;\n\n    await axios.post(process.env.VUE_APP_BASE_URL + \"record/\", {\n      username: store.state.currentUser,\n      question: state.prompt,\n      answer: state.response,\n    });\n  } catch (error) {\n    console.error(\"Failed to get response from ChatGPT:\", error);\n    if (error.response && error.response.data && error.response.data.error) {\n      state.response = `⚠️ An error occurred: ${error.response.data.error.message}. Please refer to OpenAI's documentation for details.`;\n    } else {\n      state.response = \"⚠️ An unknown error occurred. Please contact support.\";\n    }\n  }\n}\n\nfunction generatePrompt(input, purpose) {\n  let basePrompt = \"\";\n  switch (purpose) {\n    case \"translate\":\n      basePrompt = `Please translate the following word or phrase into the specified language (if no language is specified, translate into English): ${input}`;\n      break;\n    case \"decision\":\n      basePrompt = `Please provide decision-making support based on the following information (if no language is specified, respond in English): ${input}`;\n      break;\n    case \"opinion\":\n      basePrompt = `Please provide your opinion on the following topic (if no language is specified, respond in English): ${input}`;\n      break;\n    case \"keywords\":\n      basePrompt = `Please provide ideas or suggestions related to the following keyword (if no language is specified, respond in English): ${input}`;\n      break;\n  }\n  return basePrompt;\n}\n\nasync function makeRequestWithRetry(url, data, retries, delay) {\n  for (let i = 0; i <= retries; i++) {\n    try {\n      return await http.post(url, data);\n    } catch (error) {\n      if (i < retries && error.response && error.response.status === 429) {\n        await new Promise((resolve) =>\n          setTimeout(resolve, delay * Math.pow(2, i))\n        );\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.prompt-display {\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n  gap: 20px;\n}\n.input-group {\n  display: flex;\n  gap: 10px;\n  justify-content: space-between;\n}\n.input {\n  flex-grow: 1;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  min-height: 100px;\n  resize: vertical;\n}\n.btn {\n  padding: 10px 20px;\n  border: none;\n  background-color: #007bff;\n  color: white;\n  border-radius: 5px;\n  cursor: pointer;\n}\n.btn:hover {\n  background-color: #0056b3;\n}\n.response {\n  background-color: #f8f9fa;\n  padding: 20px;\n  border-radius: 5px;\n  word-wrap: break-word;\n}\n.response > pre {\n  white-space: pre-wrap;\n}\n</style>\n","import script from \"./PromptDisplay.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PromptDisplay.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PromptDisplay.vue?vue&type=style&index=0&id=56152384&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-56152384\"]])\n\nexport default __exports__","import { render } from \"./HomePage.vue?vue&type=template&id=c5ae8c8e\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=c5ae8c8e&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login\">\n    <va-card class=\"login-card\">\n      <img src=\"@/assets/chat-icon.svg\" alt=\"Chat Icon\" />\n      <h2>Welcome to my chat app!</h2>\n      <form @submit.prevent=\"onLogin\" class=\"login-form\">\n        <div class=\"form-section\">\n          <va-input v-model=\"username\" placeholder=\"Enter your username\" />\n        </div>\n        <div class=\"form-section\">\n          <va-input\n            type=\"password\"\n            v-model=\"password\"\n            placeholder=\"Enter your password\"\n          />\n        </div>\n        <div class=\"form-section\">\n          <VaButton type=\"submit\" class=\"mr-6 mb-2\" color=\"primary\"\n            >Log In</VaButton\n          >\n        </div>\n      </form>\n      <div class=\"register-section\">\n        <VaBadge\n          text=\"If you don't have an account yet...\"\n          color=\"#B3D943\"\n          class=\"mr-2\"\n        />\n      </div>\n      <VaButton color=\"danger\" class=\"mr-6 mb-2\" @click=\"goToRegister\"\n        >Register</VaButton\n      >\n    </va-card>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  name: \"LoginPage\",\n  setup() {\n    const router = useRouter();\n    const store = useStore();\n    const username = ref(\"\");\n    const password = ref(\"\");\n    const csrfToken = ref(\"\");\n\n    onMounted(() => {\n      csrfToken.value = document.cookie\n        .split(\"; \")\n        .find((row) => row.startsWith(\"csrftoken\"))\n        ?.split(\"=\")[1];\n    });\n\n    const onLogin = () => {\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"login/\",\n          {\n            username: username.value,\n            password: password.value,\n          },\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken.value,\n            },\n          }\n        )\n        .then((response) => {\n          if (response.data && response.data.status == \"success\") {\n            store.commit(\"setCurrentUser\", username.value);\n            store.dispatch(\"logIn\");\n            alert(\"Login Success!\");\n            router.push(\"/home\").then(() => {\n              location.reload();\n            });\n          } else {\n            alert(\"Login Failed! \" + (response.data?.message || \"\"));\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          alert(\n            \"Incorrect username or password! \" +\n              (error.response?.data?.message || \"Unknown error\")\n          );\n        });\n    };\n\n    const goToRegister = () => {\n      router.push(\"/register\");\n    };\n\n    return {\n      username,\n      password,\n      onLogin,\n      goToRegister,\n    };\n  },\n};\n</script>\n\n<style>\n.login img {\n  width: 100px;\n  /* アイコンの幅を設定 */\n  height: auto;\n  /* 高さを自動調整 */\n  margin-bottom: 20px;\n  /* フォームとの間隔を設定 */\n}\n\n.login {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.login-card {\n  width: 300px;\n  padding: 20px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.login-form .form-section {\n  margin-bottom: 10px; /* Adjust this value as needed */\n}\n\n.login-card .register-section {\n  margin-bottom: 10px;\n}\n</style>\n","import { render } from \"./LoginPage.vue?vue&type=template&id=6ce154bf\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=6ce154bf&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"register\">\n    <VaInput\n      v-model=\"username\"\n      @input=\"checkUsername\"\n      :success=\"isUsernameValid && !usernameError\"\n      :error=\"usernameError.length > 0\"\n      :error-messages=\"usernameError\"\n      label=\"Username\"\n      placeholder=\"Enter your username\"\n    />\n    <VaInput\n      v-model=\"password\"\n      @input=\"checkPassword\"\n      :success=\"isPasswordValid && !passwordError\"\n      :error=\"passwordError.length > 0\"\n      :error-messages=\"passwordError\"\n      label=\"Password(at least 6 characters)\"\n      placeholder=\"Enter your password\"\n      type=\"password\"\n    />\n    <div></div>\n    <VaButton v-if=\"isFormValid\" @click=\"registerUser\">Register</VaButton>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n// import dummyData from '@/dummyData';\nimport axios from \"axios\";\n\nexport default {\n  name: \"RegisterPage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      usernameError: \"\",\n      passwordError: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\"isUsernameValid\", \"isPasswordValid\"]),\n    isFormValid() {\n      return this.isUsernameValid && this.isPasswordValid;\n    },\n  },\n  methods: {\n    ...mapActions([\"updateUsernameValidation\", \"updatePasswordValidation\"]),\n    checkUsername() {\n      /*\n      const userExists = dummyData.users.some(user => user.username === this.username);\n      if (userExists || !this.username) {\n        this.usernameError = 'This username is already taken or invalid.';\n        this.updateUsernameValidation(false);\n      } else {\n        this.usernameError = '';\n        this.updateUsernameValidation(true);\n      }\n      */\n      console.log(process.env.VUE_APP_BASE_URL); // 正しく 'https://chatawesome.net/api/' を出力することを確認します\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"check_username/\",\n          { username: this.username },\n          {\n            headers: {\n              \"X-CSRFToken\": window.csrfToken,\n            },\n          }\n        )\n        .then((response) => {\n          if (!response.data.isValid) {\n            this.usernameError = \"This username is already taken or invalid.\";\n            this.updateUsernameValidation(false);\n          } else {\n            this.usernameError = \"\";\n            this.updateUsernameValidation(true);\n          }\n        })\n        .catch((error) => {\n          if (\n            error.response &&\n            error.response.data &&\n            error.response.data.message\n          ) {\n            this.usernameError = error.response.data.message;\n          } else {\n            this.usernameError = \"Network error or server is unreachable.\";\n          }\n        });\n    },\n    checkPassword() {\n      if (this.password.length < 6) {\n        this.passwordError = \"Password must be at least 6 characters long.\";\n        this.updatePasswordValidation(false);\n      } else {\n        this.passwordError = \"\";\n        this.updatePasswordValidation(true);\n      }\n    },\n    registerUser() {\n      /*\n      if (this.isFormValid) {\n        dummyData.users.push({ username: this.username, password: this.password });\n        this.$router.push('/login');\n      }\n      */\n      if (this.isFormValid) {\n        axios\n          .post(\n            process.env.VUE_APP_BASE_URL + \"register/\",\n            {\n              username: this.username,\n              password: this.password,\n            },\n            {\n              headers: {\n                \"X-CSRFToken\": window.csrfToken,\n              },\n            }\n          )\n          .then(() => {\n            this.$router.push(\"/login\");\n          })\n          .catch((error) => {\n            this.passwordError =\n              \"Registration failed: \" +\n              (error.response ? error.response.data.message : \"Server error\");\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.div {\n  margin-top: 10px;\n}\n</style>\n","import { render } from \"./RegisterPage.vue?vue&type=template&id=5c39fdb2\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterPage.vue?vue&type=style&index=0&id=5c39fdb2&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"user-profile\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-spacing\"\n    >\n      User Profile\n    </VaAlert>\n    <VaAlert color=\"info\" class=\"mb-6 alert-spacing\">\n      <template #icon>\n        <VaIcon name=\"info\" />\n      </template>\n      Please choose your icon color!\n    </VaAlert>\n    <div class=\"icon-container alert-spacing\">\n      <div class=\"icon\" :style=\"{ backgroundColor: cssColor }\"></div>\n    </div>\n    <VaButton\n      v-for=\"color in colors\"\n      :key=\"color\"\n      :color=\"color\"\n      class=\"button-spacing mr-6 mb-2\"\n      @click=\"changeIconColor(color)\"\n      >{{ color }}</VaButton\n    >\n  </div>\n</template>\n\n<script>\nimport { mapActions, useStore } from \"vuex\";\nimport { useColors } from \"vuestic-ui\";\nimport { ref, computed, onMounted, onUnmounted } from \"vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"UserProfile\",\n  setup() {\n    const store = useStore();\n    const iconColor = ref(\"primary\");\n    const username = store.state.currentUser.username;\n    const ws = ref(null);\n    const initializeWebSocket = () => {\n      ws.value = new WebSocket(`${process.env.VUE_APP_WS_URL}ws/room_list/`);\n      ws.value.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"icon_color_change\") {\n          iconColor.value = data.color;\n        }\n      };\n    };\n    const initializeIconColor = async () => {\n      try {\n        const response = await axios.get(\n          process.env.VUE_APP_BASE_URL + \"get_icon_color/\",\n          {\n            params: {\n              username: username,\n            },\n          }\n        );\n        if (response.data && response.data.color) {\n          iconColor.value = response.data.color;\n        } else {\n          console.error(\n            `Unexpected response format for ${username}:`,\n            response.data\n          );\n        }\n      } catch (error) {\n        console.error(`Error fetching icon color for ${username}:`, error);\n      }\n    };\n\n    initializeIconColor();\n    const colors = ref([\n      \"primary\",\n      \"secondary\",\n      \"success\",\n      \"info\",\n      \"danger\",\n      \"warning\",\n    ]);\n\n    const { getColor } = useColors();\n    const cssColor = computed(() => getColor(iconColor.value));\n\n    const changeIconColor = (colorName) => {\n      const color = getColor(colorName);\n      if (!color) {\n        console.error(`Color \"${colorName}\" not found in Vuestic config.`);\n        return;\n      }\n      if (ws.value) {\n        ws.value.send(\n          JSON.stringify({ type: \"icon_color_change\", color: color })\n        );\n      }\n      iconColor.value = color;\n      store.dispatch(\"updateIconColor\", color);\n    };\n\n    onMounted(() => {\n      initializeWebSocket();\n    });\n\n    onUnmounted(() => {\n      if (ws.value) {\n        ws.value.close();\n      }\n    });\n\n    const fetchIconColor = async () => {\n      const fetchedColor = await store.dispatch(\"fetchIconColor\");\n      console.log(fetchedColor);\n      if (fetchedColor) {\n        iconColor.value = fetchedColor;\n      }\n    };\n    fetchIconColor();\n\n    return {\n      iconColor,\n      colors,\n      changeIconColor,\n      cssColor,\n    };\n  },\n  methods: {\n    ...mapActions([\"updateIconColor\"]),\n    updateIconColor(color) {\n      this.changeIconColor(color);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.alert-spacing {\n  margin-bottom: 30px; /* ここで各要素間の距離を設定します */\n}\n\n.icon-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100px; /* Adjust this value as needed */\n}\n\n.icon {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n}\n\n.button-spacing {\n  margin-right: 10px;\n}\n</style>\n","import { render } from \"./UserProfile.vue?vue&type=template&id=54222cfc&scoped=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=54222cfc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54222cfc\"]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-full-width\"\n    >\n      Chatting Room\n    </VaAlert>\n    <div class=\"chat-container\">\n      <div class=\"chat-section\">\n        <message-list\n          :messages=\"messages\"\n          @quote=\"quoteMessage\"\n          @update-messages=\"updateMessages\"\n        ></message-list>\n        <message-input :value=\"inputMessage\" @send=\"addMessage\"></message-input>\n      </div>\n      <prompt-display></prompt-display>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MessageList from \"@/components/MessageList.vue\";\nimport PromptDisplay from \"@/components/PromptDisplay.vue\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"RoomPage\",\n  components: {\n    MessageList,\n    PromptDisplay,\n  },\n  data() {\n    return {\n      inputMessage: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\"messages\", \"currentRoom\", \"currentUser\", \"iconColor\"]),\n  },\n  watch: {\n    \"$route.params.id\": {\n      immediate: true,\n      handler(newId) {\n        this.initializeRoom(newId);\n      },\n    },\n  },\n  methods: {\n    ...mapActions([\n      \"fetchMessages\",\n      \"fetchCurrentUser\",\n      \"initWebSocket\",\n      \"addMessage\",\n      \"closeWebSocket\",\n    ]),\n    async initializeRoom(roomId) {\n      await this.closeWebSocket();\n      this.$store.commit(\"setMessages\", []);\n      await this.$store.commit(\"setCurrentRoom\", roomId);\n      await this.fetchMessages(roomId);\n      await this.fetchCurrentUser();\n      this.initWebSocket();\n    },\n    sendMessage() {\n      if (this.inputMessage.trim()) {\n        this.addMessage(this.inputMessage);\n        this.inputMessage = \"\";\n      }\n    },\n    quoteMessage(message) {\n      this.inputMessage = `> ${message}\\n`;\n    },\n    updateMessages(newMessages) {\n      this.$store.commit(\"SET_MESSAGES\", newMessages);\n    },\n  },\n  created() {\n    this.$store.dispatch(\"fetchIconColor\");\n  },\n  mounted() {\n    this.initializeRoom(this.$route.params.id);\n    this.initWebSocket();\n  },\n  beforeUnmount() {\n    this.closeWebSocket();\n  },\n};\n</script>\n<style>\n.home {\n  display: flex;\n  flex-direction: column;\n}\n\n.alert-full-width {\n  width: 100%; /* VaAlertコンポーネントの幅を100%に設定 */\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: row;\n}\n\n.chat-section {\n  max-height: 500px;\n  flex: 1;\n}\n</style>\n","import { render } from \"./RoomPage.vue?vue&type=template&id=73c0ddc6\"\nimport script from \"./RoomPage.vue?vue&type=script&lang=js\"\nexport * from \"./RoomPage.vue?vue&type=script&lang=js\"\n\nimport \"./RoomPage.vue?vue&type=style&index=0&id=73c0ddc6&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\nimport HomePage from \"@/components/HomePage.vue\";\nimport LoginPage from \"@/components/LoginPage.vue\";\nimport RegisterPage from \"@/components/RegisterPage.vue\";\nimport UserProfile from \"@/components/UserProfile.vue\";\nimport RoomPage from \"@/components/RoomPage.vue\";\n\nconst routes = [\n  { path: \"/\", component: LoginPage },\n  { path: \"/home\", component: HomePage },\n  { path: \"/room/:id\", component: RoomPage, props: true },\n  { path: \"/login\", component: LoginPage },\n  { path: \"/register\", component: RegisterPage },\n  { path: \"/user-profile\", component: UserProfile },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.STATIC_URL),\n  routes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\nimport axios from \"axios\";\n\nconst store = createStore({\n  state() {\n    return {\n      messages: [],\n      rooms: [],\n      currentRoom: null,\n      currentUser: null,\n      filteredMessages: [],\n      isUsernameValid: false,\n      isPasswordValid: false,\n      isLoggedIn: false,\n      socket: null,\n      roomId: null,\n      iconColor: \"primary\",\n      chatSocket: null,\n      roomListSocket: null,\n    };\n  },\n  mutations: {\n    setIconColor(state, color) {\n      state.iconColor = color;\n    },\n    setRooms(state, rooms) {\n      state.rooms = rooms;\n    },\n    setLoggedIn(state, status) {\n      state.isLoggedIn = status;\n    },\n    setCurrentUser(state, user) {\n      state.currentUser = user;\n    },\n    setCurrentRoom(state, room) {\n      state.currentRoom = room;\n    },\n    setMessages(state, messages) {\n      state.messages = messages;\n    },\n    setSocket(state, socket) {\n      state.socket = socket;\n    },\n    setRoomListSocket(state, socket) {\n      state.roomListSocket = socket;\n    },\n    addRoom(state, room) {\n      state.rooms = [...state.rooms, room];\n    },\n    addMessage(state, message) {\n      if (!state.messages.some((m) => m.id === message.id)) {\n        state.messages.push(message);\n      }\n    },\n    updateUsernameValidation(state, isValid) {\n      state.isUsernameValid = isValid;\n    },\n    updatePasswordValidation(state, isValid) {\n      state.isPasswordValid = isValid;\n    },\n    SET_ROOM_ID(state, roomId) {\n      state.roomId = roomId;\n    },\n    SET_CHAT_SOCKET(state, socket) {\n      if (state.chatSocket) {\n        state.chatSocket.close();\n      }\n      state.chatSocket = socket;\n    },\n    SET_ROOM_LIST_SOCKET(state, socket) {\n      if (state.roomListSocket) {\n        state.roomListSocket.close();\n      }\n      state.roomListSocket = socket;\n    },\n  },\n  actions: {\n    fetchIconColor({ commit, state }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"get_icon_color/\", {\n          params: { username: state.currentUser.username },\n        })\n        .then((response) => {\n          commit(\"setIconColor\", response.data.color);\n          return response.data.color;\n        })\n        .catch((error) => {\n          console.error(\"Error fetching icon color:\", error);\n        });\n    },\n    updateIconColor({ commit, state }, color) {\n      const username = state.currentUser.username;\n      return axios\n        .post(process.env.VUE_APP_BASE_URL + \"update_icon_color/\", {\n          username: username,\n          color: color,\n        })\n        .then(() => {\n          commit(\"setIconColor\", color);\n        })\n        .catch((error) => {\n          console.error(\"Error updating icon color:\", error);\n        });\n    },\n    fetchRooms({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"room/\")\n        .then((response) => {\n          const rooms = response.data.map((room) => ({\n            id: room.id,\n            name: room.name,\n          }));\n          commit(\"setRooms\", rooms);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching rooms:\", error);\n        });\n    },\n    fetchAuthentication({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"check_login_status/\")\n        .then((response) => {\n          commit(\"setLoggedIn\", response.data.isLoggedIn);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching authentication status:\", error);\n          commit(\"setLoggedIn\", false);\n        });\n    },\n    fetchCurrentUser({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"get_current_user/\")\n        .then((response) => {\n          commit(\"setCurrentUser\", response.data);\n          localStorage.setItem(\"username\", response.data.username);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching current user:\", error);\n        });\n    },\n    fetchMessages({ state, commit }) {\n      if (state.currentRoom === null) {\n        console.error(\"currentRoom is not set\");\n        return Promise.reject(\"currentRoom is not set\");\n      }\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"messages/\", {\n          params: { room_id: state.currentRoom },\n        })\n        .then((response) => {\n          commit(\"setMessages\", response.data);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching messages:\", error);\n        });\n    },\n    initRoomListWebSocket({ commit, dispatch }) {\n      const wsUrl = `${process.env.VUE_APP_WS_URL}ws/room_list/`;\n      const socket = new WebSocket(wsUrl);\n\n      socket.onopen = () => {\n        console.log(\"Room List WebSocket connected\");\n      };\n\n      socket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"room_list_update\") {\n          dispatch(\"updateRoomList\", data.rooms);\n        }\n      };\n\n      socket.onclose = () => {\n        console.log(\"Room List WebSocket disconnected\");\n        setTimeout(() => dispatch(\"initRoomListWebSocket\"), 3000);\n      };\n\n      commit(\"SET_ROOM_LIST_SOCKET\", socket);\n    },\n\n    updateRoomList({ commit }, rooms) {\n      commit(\"setRooms\", rooms);\n    },\n\n    closeWebSocket({ state, commit }) {\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        state.socket.close();\n      }\n      commit(\"setSocket\", null);\n    },\n\n    initWebSocket({ state, commit }) {\n      if (!state.currentUser) {\n        console.error(\"Cannot initialize WebSocket: User not authenticated\");\n        return;\n      }\n      if (state.currentRoom === null) {\n        console.error(\"Cannot initialize WebSocket: Room not selected\");\n        return;\n      }\n\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        state.socket.close();\n      }\n\n      const wsUrl = `${process.env.VUE_APP_WS_URL}ws/chat/${state.currentRoom}/`;\n      console.log(\"Connecting to WebSocket:\", wsUrl);\n\n      const socket = new WebSocket(wsUrl);\n\n      socket.onopen = () => {\n        console.log(\"WebSocket connected successfully\");\n      };\n\n      socket.onmessage = (event) => {\n        console.log(\"WebSocket message received:\", event.data);\n        try {\n          const data = JSON.parse(event.data);\n          if (data.type === \"chat_message\") {\n            store.dispatch(\"addMessage\", data.message);\n          }\n        } catch (error) {\n          console.error(\"Error processing WebSocket message:\", error);\n        }\n      };\n\n      socket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      socket.onclose = (event) => {\n        console.log(\n          \"WebSocket closed. Code:\",\n          event.code,\n          \"Reason:\",\n          event.reason\n        );\n        commit(\"setSocket\", null);\n        /*\n        setTimeout(() => {\n          console.log(\"Attempting to reconnect...\");\n          store.dispatch(\"initWebSocket\");\n        }, 5000);\n        */\n      };\n      commit(\"setSocket\", socket);\n    },\n    switchRoom({ commit, state }, newRoomId) {\n      if (state.chatSocket) {\n        state.chatSocket.close();\n        commit(\"SET_CHAT_SOCKET\", null);\n      }\n\n      if (state.roomListSocket) {\n        state.roomListSocket.close();\n        commit(\"SET_ROOM_LIST_SOCKET\", null);\n      }\n\n      commit(\"SET_ROOM_ID\", newRoomId);\n\n      store.dispatch(\"initChatWebSocket\", newRoomId);\n\n      store.dispatch(\"initRoomListWebSocket\");\n    },\n    addMessage({ commit }, message) {\n      commit(\"addMessage\", message);\n    },\n    sendMessage({ state }, messageData) {\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        const message = {\n          type: \"chat_message\",\n          message: messageData,\n          username: state.currentUser.username,\n          room: state.currentRoom,\n        };\n        state.socket.send(JSON.stringify(message));\n      } else {\n        console.error(\"WebSocket is not open. Unable to send message.\");\n      }\n    },\n    logIn({ commit }) {\n      commit(\"setLoggedIn\", true);\n    },\n    logOut({ commit }) {\n      commit(\"setLoggedIn\", false);\n    },\n    addRoom({ commit }, room) {\n      commit(\"addRoom\", room);\n    },\n    selectRoom({ commit, dispatch }, room) {\n      commit(\"setCurrentRoom\", room);\n      dispatch(\"initWebSocket\");\n    },\n    updateUsernameValidation({ commit }, isValid) {\n      commit(\"updateUsernameValidation\", isValid);\n    },\n    updatePasswordValidation({ commit }, isValid) {\n      commit(\"updatePasswordValidation\", isValid);\n    },\n    setRoomId({ commit }, roomId) {\n      commit(\"SET_ROOM_ID\", roomId);\n    },\n  },\n});\n\nexport default store;\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport axios from \"axios\";\nimport { createVuestic } from \"vuestic-ui\";\nimport \"vuestic-ui/styles/essential.css\";\nimport \"vuestic-ui/styles/grid.css\";\nimport \"vuestic-ui/styles/reset.css\";\nimport \"vuestic-ui/styles/typography.css\";\nimport mdiVue from \"mdi-vue/v3\";\nimport * as mdijs from \"@mdi/js\";\n// import 'vuestic-admin/src/scss/icon-fonts/fontelico/fontelico.scss';\n\naxios.interceptors.request.use((config) => {\n  config.headers[\"X-CSRFToken\"] = window.csrfToken;\n  return config;\n});\n\ncreateApp(App)\n  .use(mdiVue, {\n    icons: mdijs,\n  })\n  .use(router)\n  .use(store)\n  .use(\n    createVuestic({\n      config: {\n        colors: {\n          variables: {\n            primary: \"#154EC1\",\n            secondary: \"#666E75\",\n            success: \"#3D9209\",\n            info: \"#158DE3\",\n            danger: \"#E42222\",\n            warning: \"#FFD43A\",\n            backgroundPrimary: \"#FFFFFF\",\n            backgroundSecondary: \"#FFFFFF\",\n            backgroundElement: \"#ECF0F1\",\n            backgroundBorder: \"#DEE5F2\",\n            textPrimary: \"#262824\",\n            textInverted: \"#FFFFFF\",\n            shadow: \"rgba(0, 0, 0, 0.12)\",\n            focus: \"#49A8FF\",\n            transparent: \"rgba(0, 0, 0, 0)\",\n            backgroundLanding: \"#f4f9fc\",\n            backgroundLandingBorder: \"rgba(155, 179, 206, 0.8)\",\n            button: \"#000\",\n          },\n        },\n        components: {\n          VaButton: {\n            color: \"button\",\n          },\n        },\n      },\n    })\n  )\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/static/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchat\"] = self[\"webpackChunkchat\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(9165); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_ctx","isAuthenticated","_createBlock","_component_va_sidebar","key","collapsed","$data","isCollapsed","_cache","$event","default","_withCtx","_createVNode","_component_va_list","_component_va_sidebar_item","onClick","$options","goToHome","_component_va_sidebar_item_content","_component_va_icon","name","size","_component_va_sidebar_item_title","_createTextVNode","_","goToProfile","createNewRoom","_Fragment","_renderList","rooms","room","selectRoom","_toDisplayString","logout","_createCommentVNode","_hoisted_3","_component_router_view","computed","mapState","state","isLoggedIn","data","created","this","initializeApp","methods","mapActions","fetchAuthentication","fetchRooms","initRoomListWebSocket","$route","params","roomId","$router","push","then","location","reload","$store","commit","initWebSocket","csrfToken","getCookie","console","log","axios","post","process","headers","socket","close","logOut","catch","error","alert","response","detail","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","roomName","prompt","window","addRoom","__exports__","render","_component_VaAlert","color","border","_component_message_list","messages","onQuote","quoteMessage","onUpdateMessages","updateMessages","_component_message_input","value","inputMessage","onSend","addMessage","_component_prompt_display","msg","_component_VaCard","onMouseover","$setup","handleMouseOver","onMouseleave","handleMouseLeave","_component_VaCardTitle","style","_normalizeStyle","backgroundColor","getIconColor","user__username","_component_VaCardContent","text","innerHTML","_component_VaButton","_component_Return32","showQuoteButton","_hoisted_4","_component_CommandPalette","quotedMessage","handleSend","onClearQuote","clearQuotedMessage","$props","args","clearQuote","_component_ckeditor","editor","modelValue","content","config","editorConfig","sendMessage","components","ckeditor","CKEditor","props","String","ClassicEditor","toolbar","items","shouldNotGroupWhenFull","messageContent","$emit","Return32","CommandPalette","setup","store","useStore","reactive","iconColors","currentRoom","async","updateIconColor","username","get","messageText","dispatch","onMounted","onBeforeUnmount","readyState","WebSocket","OPEN","watch","newRoom","oldRoom","newMessages","oldMessages","deep","toRefs","API_KEY","http","create","baseURL","Authorization","askChatGPT","purpose","requestData","model","role","generatePrompt","max_tokens","temperature","result","makeRequestWithRetry","choices","message","currentUser","question","answer","input","basePrompt","url","retries","delay","status","Promise","resolve","setTimeout","Math","pow","MessageList","PromptDisplay","mounted","createDefaultRoom","wsUrl","onopen","onmessage","event","receivedMessage","JSON","parse","onclose","onerror","beforeUnmount","send","stringify","room_name","room_id","messageData","src","_imports_0","alt","_component_va_card","onSubmit","_withModifiers","onLogin","_component_va_input","placeholder","_hoisted_5","type","password","_hoisted_6","_hoisted_7","_component_VaBadge","goToRegister","router","useRouter","ref","find","row","startsWith","_component_VaInput","onInput","checkUsername","success","isUsernameValid","usernameError","label","checkPassword","isPasswordValid","passwordError","isFormValid","registerUser","isValid","updateUsernameValidation","updatePasswordValidation","icon","_component_VaIcon","cssColor","colors","changeIconColor","iconColor","ws","initializeWebSocket","initializeIconColor","getColor","useColors","colorName","onUnmounted","fetchIconColor","fetchedColor","immediate","handler","newId","initializeRoom","closeWebSocket","fetchMessages","fetchCurrentUser","routes","path","component","LoginPage","HomePage","RoomPage","RegisterPage","UserProfile","createRouter","history","createWebHistory","STATIC_URL","createStore","filteredMessages","chatSocket","roomListSocket","mutations","setIconColor","setRooms","setLoggedIn","setCurrentUser","user","setCurrentRoom","setMessages","setSocket","setRoomListSocket","some","m","SET_ROOM_ID","SET_CHAT_SOCKET","SET_ROOM_LIST_SOCKET","actions","map","localStorage","setItem","reject","updateRoomList","code","reason","switchRoom","newRoomId","logIn","setRoomId","interceptors","request","use","createApp","App","mdiVue","icons","mdijs","createVuestic","variables","primary","secondary","info","danger","warning","backgroundPrimary","backgroundSecondary","backgroundElement","backgroundBorder","textPrimary","textInverted","shadow","focus","transparent","backgroundLanding","backgroundLandingBorder","button","VaButton","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}
=======
{"version":3,"file":"js/app.js","mappings":"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","sources":["webpack://chat/./src/App.vue","webpack://chat/./src/App.vue?7ccd","webpack://chat/./src/components/HomePage.vue","webpack://chat/./src/components/MessageList.vue","webpack://chat/./src/components/CommandPalette.vue","webpack://chat/./src/components/CommandPalette.vue?c72f","webpack://chat/./src/components/MessageList.vue?2e85","webpack://chat/./src/components/PromptDisplay.vue","webpack://chat/./src/components/PromptDisplay.vue?acf6","webpack://chat/./src/components/HomePage.vue?8b1a","webpack://chat/./src/components/LoginPage.vue","webpack://chat/./src/components/LoginPage.vue?8d24","webpack://chat/./src/components/RegisterPage.vue","webpack://chat/./src/components/RegisterPage.vue?471c","webpack://chat/./src/components/UserProfile.vue","webpack://chat/./src/components/UserProfile.vue?6e82","webpack://chat/./src/components/RoomPage.vue","webpack://chat/./src/components/RoomPage.vue?6017","webpack://chat/./src/router/index.js","webpack://chat/./src/store/index.js","webpack://chat/./src/main.js","webpack://chat/webpack/bootstrap","webpack://chat/webpack/runtime/chunk loaded","webpack://chat/webpack/runtime/compat get default export","webpack://chat/webpack/runtime/define property getters","webpack://chat/webpack/runtime/global","webpack://chat/webpack/runtime/hasOwnProperty shorthand","webpack://chat/webpack/runtime/make namespace object","webpack://chat/webpack/runtime/node module decorator","webpack://chat/webpack/runtime/publicPath","webpack://chat/webpack/runtime/jsonp chunk loading","webpack://chat/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"container\">\n      <va-sidebar v-model:collapsed=\"isCollapsed\" v-if=\"isAuthenticated\">\n        <va-list>\n          <va-sidebar-item @click=\"goToHome\">\n            <va-sidebar-item-content>\n              <va-icon name=\"home\" size=\"large\" />\n              <va-sidebar-item-title>Home</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"goToProfile\">\n            <va-sidebar-item-content>\n              <va-icon name=\"person\" size=\"large\" />\n              <va-sidebar-item-title>Profile</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"createNewRoom\">\n            <va-sidebar-item-content>\n              <va-icon name=\"add\" size=\"large\" />\n              <va-sidebar-item-title>Create New Room</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item\n            v-for=\"room in rooms\"\n            :key=\"room.name\"\n            @click=\"selectRoom(room)\"\n          >\n            <va-sidebar-item-content>\n              <va-icon name=\"chat\" size=\"large\" />\n              <va-sidebar-item-title>{{ room.name }}</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"logout\">\n            <va-sidebar-item-content>\n              <va-icon name=\"logout\" size=\"large\" />\n              <va-sidebar-item-title>Log Out</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n        </va-list>\n      </va-sidebar>\n      <main class=\"main-content\">\n        <router-view />\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  computed: {\n    ...mapState({\n      isAuthenticated: (state) => state.isLoggedIn,\n      rooms: (state) => state.rooms,\n    }),\n  },\n  data() {\n    return {\n      isCollapsed: false,\n    };\n  },\n  created() {\n    this.initializeApp();\n  },\n  methods: {\n    ...mapActions([\n      \"logOut\",\n      \"addRoom\",\n      \"fetchAuthentication\",\n      \"fetchRooms\",\n      \"fetchMessages\",\n      \"initWebSocket\",\n      \"initRoomListWebSocket\",\n      \"initRoomListWebSocket\",\n      \"selectRoom\",\n    ]),\n    async initializeApp() {\n      await this.fetchAuthentication();\n      if (this.isAuthenticated) {\n        await this.fetchRooms();\n        this.initRoomListWebSocket();\n        if (this.$route.params.roomId) {\n          this.selectRoom({ id: this.$route.params.roomId });\n        }\n      }\n    },\n    goToHome() {\n      this.$router.push(\"/home\").then(() => {\n        location.reload();\n      });\n    },\n    goToProfile() {\n      this.$router.push(\"/user-profile\");\n    },\n    selectRoom(room) {\n      this.$router.push(`/room/${room.id}`);\n      this.$store.commit(\"setCurrentRoom\", room.id);\n      this.initWebSocket(); // WebSocket接続を初期化\n      // this.fetchMessages();\n    },\n    logout() {\n      const csrfToken = this.getCookie(\"csrftoken\");\n      console.log(\"CSRF Token:\", csrfToken);\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"logout/\",\n          {},\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken,\n            },\n            withCredentials: true,\n          }\n        )\n        .then(() => {\n          if (this.$store.state.socket) {\n            this.$store.state.socket.close();\n          }\n          this.$store.dispatch(\"logOut\");\n          this.$router.push(\"/login\");\n        })\n        .catch((error) => {\n          console.error(\"Failed to log out:\", error);\n          alert(\n            `Logout failed: ${error.response.data.detail || \"Please try again.\"}`\n          );\n        });\n    },\n    getCookie(name) {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== \"\") {\n        const cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + \"=\") {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    },\n    createNewRoom() {\n      const roomName = prompt(\"Enter a name for the new chat room:\");\n      if (roomName) {\n        axios\n          .post(\n            process.env.VUE_APP_BASE_URL + \"create-room/\",\n            { roomName: roomName },\n            {\n              headers: {\n                \"X-CSRFToken\": window.csrfToken,\n              },\n            }\n          )\n          .then((response) => {\n            const roomId = response.data.roomId;\n            this.addRoom({ name: roomName, id: roomId });\n            this.selectRoom({ id: roomId });\n            this.$router.push(`/room/${roomId}`);\n          })\n          .catch((error) => {\n            console.error(\"Failed to create room:\", error);\n            console.error(\"Server response:\", error.response.data);\n            alert(\n              `Room creation failed: ${error.response.data.detail || \"Please try again.\"}`\n            );\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  text-align: center;\n}\n.container {\n  display: flex;\n}\n.sidebar {\n  flex: 0 0 250px;\n}\n.main-content {\n  flex: 1;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=8483c558\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=8483c558&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-full-width\"\n    >\n      Chatting Room\n    </VaAlert>\n    <div class=\"chat-container\">\n      <!-- チャットメッセージのリストとメッセージ入力フィールドを包含するコンテナ -->\n      <div class=\"chat-section\">\n        <message-list\n          :messages=\"messages\"\n          @quote=\"quoteMessage\"\n          @update-messages=\"updateMessages\"\n        ></message-list>\n        <message-input :value=\"inputMessage\" @send=\"addMessage\"></message-input>\n      </div>\n      <prompt-display v-if=\"userType === 'NNS'\"></prompt-display>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MessageList from \"@/components/MessageList.vue\";\nimport PromptDisplay from \"@/components/PromptDisplay.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"HomePage\",\n  components: {\n    MessageList,\n    PromptDisplay,\n  },\n  data() {\n    return {\n      inputMessage: \"\",\n    };\n  },\n  async mounted() {\n    try {\n      await this.$store.dispatch(\"fetchCurrentUser\");\n      if (this.currentUser) {\n        console.log(\"Current user:\", this.currentUser);\n        console.log(\"User type:\", this.userType);\n        // ローカルストレージからユーザータイプを取得して設定\n        const storedUserType = localStorage.getItem(\"userType\");\n        if (storedUserType) {\n          this.$store.commit(\"setUserType\", storedUserType);\n        }\n        await this.$store.dispatch(\"fetchIconColor\");\n        const csrfToken = this.getCookie(\"csrftoken\");\n        await this.createDefaultRoom(csrfToken);\n        // メッセージを取得\n        await this.$store.dispatch(\"fetchMessages\");\n      } else {\n        console.error(\"Current user is null\");\n      }\n    } catch (error) {\n      console.error(\"Error in mounted hook:\", error);\n    }\n  },\n\n  computed: {\n    messages() {\n      return this.$store.state.messages;\n    },\n    currentRoom() {\n      return this.$store.state.currentRoom;\n    },\n    currentUser() {\n      return this.$store.state.currentUser;\n    },\n    userType() {\n      return this.$store.state.userType;\n    },\n  },\n\n  created() {\n    this.$store.dispatch(\"fetchIconColor\");\n  },\n  methods: {\n    initWebSocket() {\n      const wsUrl = \"YOUR_WEBSOCKET_ENDPOINT\";\n      this.socket = new WebSocket(wsUrl);\n\n      // WebSocket接続が開かれた時のイベントハンドラ\n      this.socket.onopen = () => {\n        console.log(\"WebSocket connection opened\");\n      };\n\n      // メッセージを受信した時のイベントハンドラ\n      this.socket.onmessage = (event) => {\n        console.log(\"Message from server \", event.data);\n        const receivedMessage = JSON.parse(event.data);\n        // 受信したメッセージを処理\n        this.updateMessages(receivedMessage);\n      };\n\n      // WebSocket接続が閉じられた時のイベントハンドラ\n      this.socket.onclose = () => {\n        console.log(\"WebSocket connection closed\");\n      };\n\n      // エラーが発生した時のイベントハンドラ\n      this.socket.onerror = (error) => {\n        console.error(\"WebSocket error: \", error);\n      };\n    },\n    beforeUnmount() {\n      // WebSocket接続をクローズ\n      if (this.socket) {\n        this.socket.close();\n      }\n    },\n    sendMessage() {\n      if (this.inputMessage.trim() && this.socket) {\n        // メッセージをサーバーに送信\n        this.socket.send(JSON.stringify({ message: this.inputMessage }));\n        this.inputMessage = \"\"; // 入力フィールドをクリア\n      }\n    },\n    async createDefaultRoom(csrfToken) {\n      try {\n        const response = await axios.post(\n          `${process.env.VUE_APP_BASE_URL}create_default_room/`,\n          {\n            room_name: \"HomePage\",\n            room_id: 1,\n          },\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken,\n            },\n          }\n        );\n        console.log(response.data);\n        this.$store.commit(\"setCurrentRoom\", 0);\n        await this.$store.dispatch(\"fetchMessages\");\n      } catch (error) {\n        console.error(\"Error creating default room:\", error);\n      }\n    },\n    getCookie(name) {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== \"\") {\n        const cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + \"=\") {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    },\n    async addMessage() {\n      if (!this.currentRoom) {\n        console.error(\"currentRoom is not set\");\n        return;\n      }\n      console.log(this.inputMessage);\n      const messageData = this.inputMessage;\n      try {\n        await this.$store.dispatch(\"addMessage\", messageData);\n        this.inputMessage = \"\";\n      } catch (error) {\n        console.error(\"Error sending message:\", error);\n      }\n    },\n    quoteMessage(message) {\n      this.inputMessage = `> ${message}\\n`;\n    },\n    updateMessages(newMessages) {\n      this.$store.commit(\"SET_MESSAGES\", newMessages);\n    },\n  },\n};\n</script>\n\n<!-- スタイル -->\n<style>\n.home {\n  /* フレックスコンテナとして設定 */\n  display: flex;\n  flex-direction: column;\n}\n\n.alert-full-width {\n  width: 100%; /* VaAlertコンポーネントの幅を100%に設定 */\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: row; /* 横並びにする */\n}\n\n.chat-section {\n  max-height: 500px;\n  flex: 1; /* チャットセクションを適切に伸縮させる */\n}\n</style>\n","<template>\n  <div class=\"message-list\">\n    <VaCard\n      v-for=\"msg in messages\"\n      :key=\"msg.id\"\n      class=\"mb-2 message-card\"\n      @mouseover=\"handleMouseOver(msg.id)\"\n      @mouseleave=\"handleMouseLeave(msg.id)\"\n    >\n      <VaCardTitle>\n        <div\n          class=\"icon\"\n          :style=\"{ backgroundColor: getIconColor(msg.user__username) }\"\n        ></div>\n        <span class=\"message-user\">{{ msg.user__username }}</span>\n      </VaCardTitle>\n      <VaCardContent>\n        <div v-if=\"msg.text\" v-html=\"msg.text\"></div>\n        <VaButton\n          v-show=\"showQuoteButton[msg.id]\"\n          @click=\"quoteMessage(msg.text, msg.id)\"\n          class=\"quote-button\"\n        >\n          <Return32 />\n        </VaButton>\n      </VaCardContent>\n    </VaCard>\n  </div>\n  <div class=\"command-palette-wrapper\">\n    <CommandPalette\n      v-if=\"isAuthenticated\"\n      :quotedMessage=\"quotedMessage\"\n      @send=\"handleSend\"\n      @clear-quote=\"clearQuotedMessage\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Return32 } from \"@carbon/icons-vue\";\nimport CommandPalette from \"./CommandPalette.vue\";\nimport { mapState, useStore } from \"vuex\";\nimport axios from \"axios\";\nimport {\n  reactive,\n  toRefs,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n} from \"vue\";\n\nexport default {\n  name: \"MessageList\",\n  components: {\n    Return32,\n    CommandPalette,\n  },\n  props: {\n    roomName: String,\n  },\n  computed: {\n    ...mapState([\"messages\"]),\n  },\n  setup() {\n    const store = useStore();\n    const state = reactive({\n      showQuoteButton: {},\n      quotedMessage: \"\",\n    });\n    const iconColors = reactive({});\n\n    const isAuthenticated = computed(() => store.state.isLoggedIn);\n    // const currentUser = computed(() => store.state.currentUser);\n    const currentRoom = computed(() => store.state.currentRoom);\n\n    onMounted(() => {\n      if (currentRoom.value) {\n        store.dispatch(\"initWebSocket\");\n      }\n    });\n\n    onBeforeUnmount(() => {\n      if (\n        store.state.socket &&\n        store.state.socket.readyState === WebSocket.OPEN\n      ) {\n        store.state.socket.close();\n        store.commit(\"setSocket\", null);\n      }\n    });\n\n    watch(currentRoom, (newRoom, oldRoom) => {\n      if (newRoom !== oldRoom) {\n        if (\n          store.state.socket &&\n          store.state.socket.readyState === WebSocket.OPEN\n        ) {\n          store.state.socket.close();\n          store.commit(\"setSocket\", null);\n        }\n        store.dispatch(\"initWebSocket\");\n      }\n    });\n\n    watch(\n      () => store.state.messages,\n      (newMessages, oldMessages) => {\n        // ここでUIの更新処理を行う\n        // 例: 新しいメッセージが追加されたことをユーザーに通知する\n        console.log(\n          \"Messages updated\",\n          newMessages.length - oldMessages.length,\n          \"new messages added\"\n        );\n      },\n      { deep: true }\n    );\n\n    /*function connectWebSocket() {\n      if (!currentRoom.value) {\n        console.error(\"Cannot connect WebSocket: Room is not set\");\n        return;\n      }\n\n      const wsUrl =\n        `${process.env.VUE_APP_WS_URL}/ws/chat/${currentRoom.value}/`.replace(\n          /\\/\\//g,\n          \"/\"\n        );\n      state.websocket = new WebSocket(wsUrl);\n\n      state.websocket.onopen = () => {\n        console.log(\"WebSocket connected\");\n      };\n\n      state.websocket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"chat_message\") {\n          state.messages.unshift(data.message);\n          updateIconColor(data.message.user__username);\n        }\n      };\n\n      state.websocket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      state.websocket.onclose = () => {\n        console.log(\"WebSocket disconnected\");\n      };\n    }\n\n    function disconnectWebSocket() {\n      if (state.websocket && state.websocket.readyState === WebSocket.OPEN) {\n        state.websocket.close();\n        console.log(\"WebSocket is safely closed.\");\n      }\n    }\n    */\n\n    async function updateIconColor(username) {\n      try {\n        const response = await axios.get(\n          `${process.env.VUE_APP_BASE_URL}get_icon_color/`,\n          {\n            params: { username: username },\n          }\n        );\n        if (response.data && response.data.color) {\n          iconColors[username] = response.data.color;\n        }\n      } catch (error) {\n        console.error(`Error fetching icon color for ${username}:`, error);\n      }\n    }\n\n    watch(\n      () => store.state.messages,\n      async (newMessages) => {\n        for (const msg of newMessages) {\n          if (!iconColors[msg.user__username]) {\n            await updateIconColor(msg.user__username);\n          }\n        }\n      },\n      { deep: true }\n    );\n\n    function getIconColor(username) {\n      return iconColors[username] || \"#000000\";\n    }\n\n    function handleMouseOver(id) {\n      state.showQuoteButton[id] = true;\n    }\n\n    function handleMouseLeave(id) {\n      state.showQuoteButton[id] = false;\n    }\n\n    function quoteMessage(messageText, id) {\n      state.quotedMessage = messageText;\n      state.showQuoteButton[id] = false;\n    }\n\n    function clearQuotedMessage() {\n      state.quotedMessage = \"\";\n    }\n\n    function handleSend(content) {\n      if (!content || content.trim() === \"\") {\n        return;\n      }\n      store.dispatch(\"sendMessage\", content);\n    }\n\n    return {\n      ...toRefs(state),\n      quoteMessage,\n      clearQuotedMessage,\n      handleSend,\n      isAuthenticated,\n      getIconColor,\n      handleMouseOver,\n      handleMouseLeave,\n    };\n  },\n};\n</script>\n\n<style>\n.message-card {\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  position: relative;\n  z-index: 1;\n}\n\n.icon {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n}\n\n.quote-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: none;\n  padding: 5px;\n}\n\n.message-card:hover .quote-button {\n  display: block;\n}\n\n.message-card ul {\n  list-style-type: disc;\n  padding-left: 20px;\n}\n\n.message-card li {\n  margin-bottom: 10px;\n}\n\n.message-card ol {\n  list-style-type: decimal;\n  padding-left: 20px;\n}\n\n/* 引用のスタイル */\n.message-card blockquote {\n  border-left: 4px solid #ddd;\n  padding-left: 15px;\n  color: #666;\n}\n\n.message-icon {\n  margin-right: 10px;\n}\n\n.message-user {\n  font-weight: bold;\n  margin-right: 10px;\n  margin-left: 10px;\n}\n\n.message-list {\n  max-height: calc(100vh - 200px);\n  overflow-y: auto;\n  position: relative;\n}\n.command-palette-wrapper {\n  position: sticky;\n  bottom: 0;\n}\n\n.command-palette {\n  width: 100%;\n  height: 100px;\n  z-index: 2;\n}\n</style>\n","<template>\n  <div class=\"command-palette\">\n    <div v-if=\"quotedMessage\" class=\"quoted-message\">\n      <blockquote>{{ quotedMessage }}</blockquote>\n      <button @click=\"clearQuote\">x</button>\n    </div>\n    <ckeditor\n      :editor=\"editor\"\n      v-model=\"content\"\n      :config=\"editorConfig\"\n    ></ckeditor>\n    <div class=\"va-title\">Type your Message:</div>\n    <VaButton @click=\"sendMessage\">Send</VaButton>\n  </div>\n</template>\n\n<script>\nimport CKEditor from \"@ckeditor/ckeditor5-vue\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\n\nexport default {\n  name: \"CommandPalette\",\n  components: {\n    ckeditor: CKEditor.component,\n  },\n  props: {\n    quotedMessage: String,\n  },\n  data() {\n    return {\n      editor: ClassicEditor,\n      content: \"\",\n      editorConfig: {\n        toolbar: {\n          items: [\n            \"undo\",\n            \"redo\",\n            \"|\",\n            \"bold\",\n            \"italic\",\n            \"|\",\n            \"link\",\n            // \"uploadImage\",\n            \"blockQuote\",\n            \"|\",\n            \"bulletedList\",\n            \"numberedList\",\n          ],\n          shouldNotGroupWhenFull: false,\n        },\n      },\n    };\n  },\n  methods: {\n    sendMessage() {\n      if (this.content.trim() !== \"\") {\n        let messageContent = this.content;\n        if (this.quotedMessage) {\n          messageContent = `<blockquote>${this.quotedMessage}</blockquote>${messageContent}`;\n        }\n        this.$emit(\"send\", messageContent);\n        this.content = \"\"; // 送信後にエディタをクリア\n        this.$emit(\"clear-quote\");\n      }\n    },\n    clearQuote() {\n      this.$emit(\"clear-quote\");\n    },\n  },\n};\n</script>\n\n<style>\n.command-palette {\n  border: 1px solid #ccc;\n  padding: 10px;\n}\n.ck-content {\n  padding: 20px;\n}\n.va-title {\n  margin-top: 10px;\n  font-weight: bold;\n}\nbutton {\n  cursor: pointer;\n}\n.quoted-message {\n  border-left: 4px solid #ccc;\n  padding-left: 10px;\n  margin-bottom: 10px;\n  position: relative;\n}\n.quoted-message button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 16px;\n}\n</style>\n","import { render } from \"./CommandPalette.vue?vue&type=template&id=f3f5b1c0\"\nimport script from \"./CommandPalette.vue?vue&type=script&lang=js\"\nexport * from \"./CommandPalette.vue?vue&type=script&lang=js\"\n\nimport \"./CommandPalette.vue?vue&type=style&index=0&id=f3f5b1c0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MessageList.vue?vue&type=template&id=98e6e668\"\nimport script from \"./MessageList.vue?vue&type=script&lang=js\"\nexport * from \"./MessageList.vue?vue&type=script&lang=js\"\n\nimport \"./MessageList.vue?vue&type=style&index=0&id=98e6e668&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"prompt-display\">\n    <h2>🧑 Ask ChatGPT!</h2>\n    <div class=\"input-group\">\n      <textarea\n        class=\"input\"\n        placeholder=\"Please type in your questions.\"\n        v-model=\"state.prompt\"\n      ></textarea>\n    </div>\n    <div class=\"va-title\">\n      Please click the button that best suits your purpose:\n    </div>\n    <div class=\"input-group\">\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('translate')\">\n        Translation\n      </VaButton>\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('decision')\">\n        Decision\n      </VaButton>\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('opinion')\">\n        Opinion\n      </VaButton>\n      <VaButton class=\"mr-6 mb-2\" @click=\"() => askChatGPT('keywords')\">\n        Keyword\n      </VaButton>\n    </div>\n    <div class=\"response\">\n      <pre>{{ state.response }}</pre>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, computed } from \"vue\";\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\n\nconst store = useStore();\n\nconst state = reactive({\n  prompt: \"\",\n  response:\n    \"✅ Answer from ChatGPT will appear here. You can type in any languages!\",\n  isCollapsed: false,\n});\n\nconst API_KEY = process.env.VUE_APP_API_KEY;\nconst http = axios.create({\n  baseURL: \"https://api.openai.com/v1/\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${API_KEY}`,\n  },\n});\n\nconst currentRoom = computed(() => store.state.currentRoom);\nconst messages = computed(() => store.state.messages);\n\nasync function askChatGPT(purpose) {\n  console.log(\"Messages:\", store.state.messages);\n  if (!state.prompt.trim()) {\n    state.response = \"⚠️ Please enter your question.\";\n    return;\n  }\n\n  const conversationHistory = messages.value\n    .filter((msg) => msg && msg.text)\n    .map((msg) => ({\n      role:\n        msg.user__username === store.state.currentUser.username\n          ? \"user\"\n          : \"assistant\",\n      content: msg.text.replace(/<\\/?p>/g, \"\").trim(),\n    }))\n    .filter((msg) => msg.content !== \"\");\n\n  let requestData = {\n    model: \"gpt-3.5-turbo\",\n    messages: [\n      ...conversationHistory,\n      {\n        role: \"user\",\n        content: generatePrompt(state.prompt, purpose, conversationHistory),\n      },\n    ],\n    max_tokens: 256,\n    temperature: 0.7,\n  };\n\n  console.log(\"Request Data:\", JSON.stringify(requestData, null, 2));\n\n  try {\n    const result = await makeRequestWithRetry(\n      \"chat/completions\",\n      requestData,\n      3,\n      2000\n    );\n    state.response = result.data.choices[0].message.content;\n\n    // ユーザーの質問をメッセージとして追加\n    /* store.dispatch(\"addMessage\", {\n      content: state.prompt,\n      sender: store.state.currentUser.username,\n      room: currentRoom.value,\n    }); */\n\n    // ChatGPTの応答をrecordとして記録\n    await axios.post(process.env.VUE_APP_BASE_URL + \"record/\", {\n      username: store.state.currentUser.username,\n      question: state.prompt,\n      answer: state.response,\n      purpose: purpose,\n      room: currentRoom.value,\n    });\n  } catch (error) {\n    console.error(\"Failed to get response from ChatGPT:\", error);\n    if (error.response && error.response.data && error.response.data.error) {\n      state.response = `⚠️ An error occurred: ${error.response.data.error.message}. Please refer to OpenAI's documentation for details.`;\n    } else if (error.message) {\n      state.response = `⚠️ An error occurred: ${error.message}. Please try again later.`;\n    } else {\n      state.response = \"⚠️ An unknown error occurred. Please contact support.\";\n    }\n  }\n}\n\nfunction generatePrompt(input, purpose, history) {\n  let basePrompt = \"\";\n  const context =\n    history.length > 0\n      ? history.map((msg) => `${msg.role}: ${msg.content}`).join(\"\\n\")\n      : \"No previous conversation.\";\n\n  switch (purpose) {\n    case \"translate\":\n      basePrompt = `Given the following conversation context:\\n\\n${context}\\n\\nPlease translate the following: ${input}`;\n      break;\n    case \"decision\":\n      basePrompt = `Based on this conversation:\\n\\n${context}\\n\\nPlease provide decision-making support for: ${input}`;\n      break;\n    case \"opinion\":\n      basePrompt = `Considering this conversation:\\n\\n${context}\\n\\nPlease provide your opinion on: ${input}`;\n      break;\n    case \"keywords\":\n      basePrompt = `In the context of this conversation:\\n\\n${context}\\n\\nPlease provide ideas or suggestions related to: ${input}`;\n      break;\n  }\n  return basePrompt;\n}\n\nasync function makeRequestWithRetry(url, data, retries, delay) {\n  for (let i = 0; i <= retries; i++) {\n    try {\n      return await http.post(url, data);\n    } catch (error) {\n      if (i < retries && error.response && error.response.status === 429) {\n        await new Promise((resolve) =>\n          setTimeout(resolve, delay * Math.pow(2, i))\n        );\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.prompt-display {\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n  gap: 20px;\n}\n.input-group {\n  display: flex;\n  gap: 10px;\n  justify-content: space-between;\n}\n.input {\n  flex-grow: 1;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  min-height: 100px;\n  resize: vertical;\n}\n.btn {\n  padding: 10px 20px;\n  border: none;\n  background-color: #007bff;\n  color: white;\n  border-radius: 5px;\n  cursor: pointer;\n}\n.btn:hover {\n  background-color: #0056b3;\n}\n.response {\n  background-color: #f8f9fa;\n  padding: 20px;\n  border-radius: 5px;\n  word-wrap: break-word;\n}\n.response > pre {\n  white-space: pre-wrap;\n}\n</style>\n","import script from \"./PromptDisplay.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PromptDisplay.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PromptDisplay.vue?vue&type=style&index=0&id=482dfc96&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-482dfc96\"]])\n\nexport default __exports__","import { render } from \"./HomePage.vue?vue&type=template&id=2cd24444\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=2cd24444&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login\">\n    <va-card class=\"login-card\">\n      <img src=\"@/assets/chat-icon.svg\" alt=\"Chat Icon\" />\n      <h2>Welcome to my chat app!</h2>\n      <form @submit.prevent=\"onLogin\" class=\"login-form\">\n        <div class=\"form-section\">\n          <va-input v-model=\"username\" placeholder=\"Enter your username\" />\n        </div>\n        <div class=\"form-section\">\n          <va-input\n            type=\"password\"\n            v-model=\"password\"\n            placeholder=\"Enter your password\"\n          />\n        </div>\n        <div class=\"form-section\">\n          <va-select\n            v-model=\"userType\"\n            :options=\"userTypes\"\n            label=\"User Type\"\n            placeholder=\"Select NNS or NS\"\n            clearable\n          />\n        </div>\n        <div class=\"form-section\">\n          <VaButton type=\"submit\" class=\"mr-6 mb-2\" color=\"primary\"\n            >Log In</VaButton\n          >\n        </div>\n      </form>\n      <div class=\"register-section\">\n        <VaBadge\n          text=\"If you don't have an account yet...\"\n          color=\"#B3D943\"\n          class=\"mr-2\"\n        />\n      </div>\n      <VaButton color=\"danger\" class=\"mr-6 mb-2\" @click=\"goToRegister\"\n        >Register</VaButton\n      >\n    </va-card>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\nimport { ref, reactive, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { VaSelect } from \"vuestic-ui\";\n\nexport default {\n  name: \"LoginPage\",\n  components: {\n    VaSelect,\n  },\n  setup() {\n    const router = useRouter();\n    const store = useStore();\n    const username = ref(\"\");\n    const password = ref(\"\");\n    const userType = ref(\"\");\n    const csrfToken = ref(\"\");\n    const userTypes = reactive([\n      { text: \"NNS\", value: \"NNS\" },\n      { text: \"NS\", value: \"NS\" },\n    ]);\n\n    onMounted(() => {\n      csrfToken.value = document.cookie\n        .split(\"; \")\n        .find((row) => row.startsWith(\"csrftoken\"))\n        ?.split(\"=\")[1];\n    });\n\n    const onLogin = () => {\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"login/\",\n          {\n            username: username.value,\n            password: password.value,\n          },\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken.value,\n            },\n          }\n        )\n        .then((response) => {\n          if (response.data && response.data.status == \"success\") {\n            const userTypeValue = userType.value.value;\n            store.commit(\"setCurrentUser\", username.value);\n            store.commit(\"setUserType\", userTypeValue);\n            localStorage.setItem(\"userType\", userTypeValue); // ローカルストレージに保存\n            store.dispatch(\"logIn\", {\n              username: username.value,\n              userType: userTypeValue,\n            });\n            alert(\"Login Success!\");\n            router.push(\"/home\").then(() => {\n              location.reload();\n            });\n          } else {\n            alert(\"Login Failed! \" + (response.data?.message || \"\"));\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          alert(\n            \"Incorrect username or password! \" +\n              (error.response?.data?.message || \"Unknown error\")\n          );\n        });\n    };\n\n    const goToRegister = () => {\n      router.push(\"/register\");\n    };\n\n    return {\n      username,\n      password,\n      userType,\n      userTypes,\n      onLogin,\n      goToRegister,\n    };\n  },\n};\n</script>\n\n<style>\n.login img {\n  width: 100px;\n  /* アイコンの幅を設定 */\n  height: auto;\n  /* 高さを自動調整 */\n  margin-bottom: 20px;\n  /* フォームとの間隔を設定 */\n}\n\n.login {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.login-card {\n  width: 300px;\n  padding: 20px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.login-form .form-section {\n  margin-bottom: 10px; /* Adjust this value as needed */\n}\n\n.login-card .register-section {\n  margin-bottom: 10px;\n}\n</style>\n","import { render } from \"./LoginPage.vue?vue&type=template&id=e9ea31ca\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=e9ea31ca&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"register\">\n    <VaInput\n      v-model=\"username\"\n      @input=\"checkUsername\"\n      :success=\"isUsernameValid && !usernameError\"\n      :error=\"usernameError.length > 0\"\n      :error-messages=\"usernameError\"\n      label=\"Username\"\n      placeholder=\"Enter your username\"\n    />\n    <VaInput\n      v-model=\"password\"\n      @input=\"checkPassword\"\n      :success=\"isPasswordValid && !passwordError\"\n      :error=\"passwordError.length > 0\"\n      :error-messages=\"passwordError\"\n      label=\"Password(at least 6 characters)\"\n      placeholder=\"Enter your password\"\n      type=\"password\"\n    />\n    <div></div>\n    <VaButton v-if=\"isFormValid\" @click=\"registerUser\">Register</VaButton>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n// import dummyData from '@/dummyData';\nimport axios from \"axios\";\n\nexport default {\n  name: \"RegisterPage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      usernameError: \"\",\n      passwordError: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\"isUsernameValid\", \"isPasswordValid\"]),\n    isFormValid() {\n      return this.isUsernameValid && this.isPasswordValid;\n    },\n  },\n  methods: {\n    ...mapActions([\"updateUsernameValidation\", \"updatePasswordValidation\"]),\n    checkUsername() {\n      /*\n      const userExists = dummyData.users.some(user => user.username === this.username);\n      if (userExists || !this.username) {\n        this.usernameError = 'This username is already taken or invalid.';\n        this.updateUsernameValidation(false);\n      } else {\n        this.usernameError = '';\n        this.updateUsernameValidation(true);\n      }\n      */\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"check_username/\",\n          { username: this.username },\n          {\n            headers: {\n              \"X-CSRFToken\": window.csrfToken,\n            },\n          }\n        )\n        .then((response) => {\n          if (!response.data.isValid) {\n            this.usernameError = \"This username is already taken or invalid.\";\n            this.updateUsernameValidation(false);\n          } else {\n            this.usernameError = \"\";\n            this.updateUsernameValidation(true);\n          }\n        })\n        .catch((error) => {\n          if (\n            error.response &&\n            error.response.data &&\n            error.response.data.message\n          ) {\n            this.usernameError = error.response.data.message;\n          } else {\n            this.usernameError = \"Network error or server is unreachable.\";\n          }\n        });\n    },\n    checkPassword() {\n      if (this.password.length < 6) {\n        this.passwordError = \"Password must be at least 6 characters long.\";\n        this.updatePasswordValidation(false);\n      } else {\n        this.passwordError = \"\";\n        this.updatePasswordValidation(true);\n      }\n    },\n    registerUser() {\n      /*\n      if (this.isFormValid) {\n        dummyData.users.push({ username: this.username, password: this.password });\n        this.$router.push('/login');\n      }\n      */\n      if (this.isFormValid) {\n        axios\n          .post(\n            process.env.VUE_APP_BASE_URL + \"register/\",\n            {\n              username: this.username,\n              password: this.password,\n            },\n            {\n              headers: {\n                \"X-CSRFToken\": window.csrfToken,\n              },\n            }\n          )\n          .then(() => {\n            this.$router.push(\"/login\");\n          })\n          .catch((error) => {\n            this.passwordError =\n              \"Registration failed: \" +\n              (error.response ? error.response.data.message : \"Server error\");\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.div {\n  margin-top: 10px;\n}\n</style>\n","import { render } from \"./RegisterPage.vue?vue&type=template&id=8b7f4a28\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterPage.vue?vue&type=style&index=0&id=8b7f4a28&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"user-profile\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-spacing\"\n    >\n      User Profile\n    </VaAlert>\n    <VaAlert color=\"info\" class=\"mb-6 alert-spacing\">\n      <template #icon>\n        <VaIcon name=\"info\" />\n      </template>\n      Please choose your icon color!\n    </VaAlert>\n    <div class=\"icon-container alert-spacing\">\n      <div class=\"icon\" :style=\"{ backgroundColor: cssColor }\"></div>\n    </div>\n    <VaButton\n      v-for=\"color in colors\"\n      :key=\"color\"\n      :color=\"color\"\n      class=\"button-spacing mr-6 mb-2\"\n      @click=\"changeIconColor(color)\"\n      >{{ color }}</VaButton\n    >\n  </div>\n</template>\n\n<script>\nimport { mapActions, useStore } from \"vuex\";\nimport { useColors } from \"vuestic-ui\";\nimport { ref, computed, onMounted, onUnmounted } from \"vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"UserProfile\",\n  setup() {\n    const store = useStore();\n    const iconColor = ref(\"primary\");\n    const username = store.state.currentUser.username;\n    const ws = ref(null);\n    const initializeWebSocket = () => {\n      ws.value = new WebSocket(`${process.env.VUE_APP_WS_URL}ws/room_list/`);\n      ws.value.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"icon_color_change\") {\n          iconColor.value = data.color;\n        }\n      };\n    };\n    const initializeIconColor = async () => {\n      try {\n        const response = await axios.get(\n          process.env.VUE_APP_BASE_URL + \"get_icon_color/\",\n          {\n            params: {\n              username: username,\n            },\n          }\n        );\n        if (response.data && response.data.color) {\n          iconColor.value = response.data.color;\n        } else {\n          console.error(\n            `Unexpected response format for ${username}:`,\n            response.data\n          );\n        }\n      } catch (error) {\n        console.error(`Error fetching icon color for ${username}:`, error);\n      }\n    };\n\n    initializeIconColor();\n    const colors = ref([\n      \"primary\",\n      \"secondary\",\n      \"success\",\n      \"info\",\n      \"danger\",\n      \"warning\",\n    ]);\n\n    const { getColor } = useColors();\n    const cssColor = computed(() => getColor(iconColor.value));\n\n    const changeIconColor = (colorName) => {\n      const color = getColor(colorName);\n      if (!color) {\n        console.error(`Color \"${colorName}\" not found in Vuestic config.`);\n        return;\n      }\n      if (ws.value) {\n        ws.value.send(\n          JSON.stringify({ type: \"icon_color_change\", color: color })\n        );\n      }\n      iconColor.value = color;\n      store.dispatch(\"updateIconColor\", color);\n    };\n\n    onMounted(() => {\n      initializeWebSocket();\n    });\n\n    onUnmounted(() => {\n      if (ws.value) {\n        ws.value.close();\n      }\n    });\n\n    const fetchIconColor = async () => {\n      const fetchedColor = await store.dispatch(\"fetchIconColor\");\n      console.log(fetchedColor);\n      if (fetchedColor) {\n        iconColor.value = fetchedColor;\n      }\n    };\n    fetchIconColor();\n\n    return {\n      iconColor,\n      colors,\n      changeIconColor,\n      cssColor,\n    };\n  },\n  methods: {\n    ...mapActions([\"updateIconColor\"]),\n    updateIconColor(color) {\n      this.changeIconColor(color);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.alert-spacing {\n  margin-bottom: 30px; /* ここで各要素間の距離を設定します */\n}\n\n.icon-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100px; /* Adjust this value as needed */\n}\n\n.icon {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n}\n\n.button-spacing {\n  margin-right: 10px;\n}\n</style>\n","import { render } from \"./UserProfile.vue?vue&type=template&id=54222cfc&scoped=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=54222cfc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54222cfc\"]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-full-width\"\n    >\n      Chatting Room\n    </VaAlert>\n    <div class=\"chat-container\">\n      <div class=\"chat-section\">\n        <message-list\n          :messages=\"messages\"\n          @quote=\"quoteMessage\"\n          @update-messages=\"updateMessages\"\n        ></message-list>\n        <message-input :value=\"inputMessage\" @send=\"addMessage\"></message-input>\n      </div>\n      <prompt-display v-if=\"userType === 'NNS'\"></prompt-display>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MessageList from \"@/components/MessageList.vue\";\nimport PromptDisplay from \"@/components/PromptDisplay.vue\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"RoomPage\",\n  components: {\n    MessageList,\n    PromptDisplay,\n  },\n  data() {\n    return {\n      inputMessage: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\n      \"messages\",\n      \"currentRoom\",\n      \"currentUser\",\n      \"iconColor\",\n      \"userType\",\n    ]),\n  },\n  watch: {\n    \"$route.params.id\": {\n      immediate: true,\n      handler(newId) {\n        this.initializeRoom(newId);\n      },\n    },\n  },\n  methods: {\n    ...mapActions([\n      \"fetchMessages\",\n      \"fetchCurrentUser\",\n      \"initWebSocket\",\n      \"addMessage\",\n      \"closeWebSocket\",\n    ]),\n    async initializeRoom(roomId) {\n      await this.closeWebSocket();\n      this.$store.commit(\"setMessages\", []);\n      await this.$store.commit(\"setCurrentRoom\", roomId);\n      await this.fetchMessages(roomId);\n      await this.fetchCurrentUser();\n      this.initWebSocket();\n    },\n    sendMessage() {\n      if (this.inputMessage.trim()) {\n        this.addMessage(this.inputMessage);\n        this.inputMessage = \"\";\n      }\n    },\n    quoteMessage(message) {\n      this.inputMessage = `> ${message}\\n`;\n    },\n    updateMessages(newMessages) {\n      this.$store.commit(\"SET_MESSAGES\", newMessages);\n    },\n  },\n  async created() {\n    await this.$store.dispatch(\"fetchIconColor\");\n    // ローカルストレージからユーザータイプを取得して設定\n    const storedUserType = localStorage.getItem(\"userType\");\n    if (storedUserType) {\n      this.$store.commit(\"setUserType\", storedUserType);\n    }\n  },\n  async mounted() {\n    try {\n      await this.fetchCurrentUser();\n      if (this.currentUser) {\n        console.log(\"Current user:\", this.currentUser);\n        console.log(\"User type:\", this.userType);\n        await this.initializeRoom(this.$route.params.id);\n        this.initWebSocket();\n      } else {\n        console.error(\"Current user is null\");\n      }\n    } catch (error) {\n      console.error(\"Error in mounted hook:\", error);\n    }\n  },\n  beforeUnmount() {\n    this.closeWebSocket();\n  },\n};\n</script>\n\n<style>\n.home {\n  display: flex;\n  flex-direction: column;\n}\n\n.alert-full-width {\n  width: 100%; /* VaAlertコンポーネントの幅を100%に設定 */\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: row;\n}\n\n.chat-section {\n  max-height: 500px;\n  flex: 1;\n}\n</style>\n","import { render } from \"./RoomPage.vue?vue&type=template&id=05b4a74a\"\nimport script from \"./RoomPage.vue?vue&type=script&lang=js\"\nexport * from \"./RoomPage.vue?vue&type=script&lang=js\"\n\nimport \"./RoomPage.vue?vue&type=style&index=0&id=05b4a74a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\nimport HomePage from \"@/components/HomePage.vue\";\nimport LoginPage from \"@/components/LoginPage.vue\";\nimport RegisterPage from \"@/components/RegisterPage.vue\";\nimport UserProfile from \"@/components/UserProfile.vue\";\nimport RoomPage from \"@/components/RoomPage.vue\";\n\nconst routes = [\n  { path: \"/\", component: LoginPage },\n  { path: \"/home\", component: HomePage },\n  { path: \"/room/:id\", component: RoomPage, props: true },\n  { path: \"/login\", component: LoginPage },\n  { path: \"/register\", component: RegisterPage },\n  { path: \"/user-profile\", component: UserProfile },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.STATIC_URL),\n  routes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\nimport axios from \"axios\";\n\nconst store = createStore({\n  state() {\n    return {\n      messages: [],\n      rooms: [],\n      currentRoom: null,\n      currentUser: null,\n      filteredMessages: [],\n      isUsernameValid: false,\n      isPasswordValid: false,\n      isLoggedIn: false,\n      socket: null,\n      roomId: null,\n      iconColor: \"primary\",\n      chatSocket: null,\n      roomListSocket: null,\n      userType: null,\n    };\n  },\n  mutations: {\n    setUserType(state, userType) {\n      state.userType = userType;\n    },\n    setIconColor(state, color) {\n      state.iconColor = color;\n    },\n    setRooms(state, rooms) {\n      state.rooms = rooms;\n    },\n    setLoggedIn(state, status) {\n      state.isLoggedIn = status;\n    },\n    setCurrentUser(state, user) {\n      state.currentUser = user;\n    },\n    setCurrentRoom(state, room) {\n      state.currentRoom = room;\n    },\n    setMessages(state, messages) {\n      state.messages = messages;\n    },\n    setSocket(state, socket) {\n      state.socket = socket;\n    },\n    setRoomListSocket(state, socket) {\n      state.roomListSocket = socket;\n    },\n    addRoom(state, room) {\n      state.rooms = [...state.rooms, room];\n    },\n    addMessage(state, message) {\n      if (!state.messages.some((m) => m.id === message.id)) {\n        state.messages.push(message);\n      }\n    },\n    updateUsernameValidation(state, isValid) {\n      state.isUsernameValid = isValid;\n    },\n    updatePasswordValidation(state, isValid) {\n      state.isPasswordValid = isValid;\n    },\n    SET_ROOM_ID(state, roomId) {\n      state.roomId = roomId;\n    },\n    SET_CHAT_SOCKET(state, socket) {\n      if (state.chatSocket) {\n        state.chatSocket.close();\n      }\n      state.chatSocket = socket;\n    },\n    SET_ROOM_LIST_SOCKET(state, socket) {\n      if (state.roomListSocket) {\n        state.roomListSocket.close();\n      }\n      state.roomListSocket = socket;\n    },\n  },\n  actions: {\n    fetchIconColor({ commit, state }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"get_icon_color/\", {\n          params: { username: state.currentUser.username },\n        })\n        .then((response) => {\n          commit(\"setIconColor\", response.data.color);\n          return response.data.color;\n        })\n        .catch((error) => {\n          console.error(\"Error fetching icon color:\", error);\n        });\n    },\n    updateIconColor({ commit, state }, color) {\n      const username = state.currentUser.username;\n      return axios\n        .post(process.env.VUE_APP_BASE_URL + \"update_icon_color/\", {\n          username: username,\n          color: color,\n        })\n        .then(() => {\n          commit(\"setIconColor\", color);\n        })\n        .catch((error) => {\n          console.error(\"Error updating icon color:\", error);\n        });\n    },\n    fetchRooms({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"room/\")\n        .then((response) => {\n          const rooms = response.data.map((room) => ({\n            id: room.id,\n            name: room.name,\n          }));\n          commit(\"setRooms\", rooms);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching rooms:\", error);\n        });\n    },\n    fetchAuthentication({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"check_login_status/\")\n        .then((response) => {\n          commit(\"setLoggedIn\", response.data.isLoggedIn);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching authentication status:\", error);\n          commit(\"setLoggedIn\", false);\n        });\n    },\n    fetchCurrentUser({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"get_current_user/\")\n        .then((response) => {\n          commit(\"setCurrentUser\", response.data);\n          localStorage.setItem(\"username\", response.data.username);\n          if (response.data.userType) {\n            commit(\"setUserType\", response.data.userType);\n            localStorage.setItem(\"userType\", response.data.userType);\n          }\n        })\n        .catch((error) => {\n          console.error(\"Error fetching current user:\", error);\n        });\n    },\n    fetchMessages({ state, commit }) {\n      if (state.currentRoom === null) {\n        console.error(\"currentRoom is not set\");\n        return Promise.reject(\"currentRoom is not set\");\n      }\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"messages/\", {\n          params: { room_id: state.currentRoom },\n        })\n        .then((response) => {\n          commit(\"setMessages\", response.data);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching messages:\", error);\n        });\n    },\n    initRoomListWebSocket({ commit, dispatch }) {\n      const wsUrl = `${process.env.VUE_APP_WS_URL}ws/room_list/`;\n      const socket = new WebSocket(wsUrl);\n\n      socket.onopen = () => {\n        console.log(\"Room List WebSocket connected\");\n      };\n\n      socket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"room_list_update\") {\n          dispatch(\"updateRoomList\", data.rooms);\n        }\n      };\n\n      socket.onclose = () => {\n        console.log(\"Room List WebSocket disconnected\");\n        setTimeout(() => dispatch(\"initRoomListWebSocket\"), 3000);\n      };\n\n      commit(\"SET_ROOM_LIST_SOCKET\", socket);\n    },\n\n    updateRoomList({ commit }, rooms) {\n      commit(\"setRooms\", rooms);\n    },\n\n    closeWebSocket({ state, commit }) {\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        state.socket.close();\n      }\n      commit(\"setSocket\", null);\n    },\n\n    initWebSocket({ state, commit }) {\n      if (!state.currentUser) {\n        console.error(\"Cannot initialize WebSocket: User not authenticated\");\n        return;\n      }\n      if (state.currentRoom === null) {\n        console.error(\"Cannot initialize WebSocket: Room not selected\");\n        return;\n      }\n\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        state.socket.close();\n      }\n\n      const wsUrl = `${process.env.VUE_APP_WS_URL}ws/chat/${state.currentRoom}/`;\n      console.log(\"Connecting to WebSocket:\", wsUrl);\n\n      const socket = new WebSocket(wsUrl);\n\n      socket.onopen = () => {\n        console.log(\"WebSocket connected successfully\");\n      };\n\n      socket.onmessage = (event) => {\n        console.log(\"WebSocket message received:\", event.data);\n        try {\n          const data = JSON.parse(event.data);\n          if (data.type === \"chat_message\") {\n            store.dispatch(\"addMessage\", data.message);\n          }\n        } catch (error) {\n          console.error(\"Error processing WebSocket message:\", error);\n        }\n      };\n\n      socket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      socket.onclose = (event) => {\n        console.log(\n          \"WebSocket closed. Code:\",\n          event.code,\n          \"Reason:\",\n          event.reason\n        );\n        commit(\"setSocket\", null);\n        /*\n        setTimeout(() => {\n          console.log(\"Attempting to reconnect...\");\n          store.dispatch(\"initWebSocket\");\n        }, 5000);\n        */\n      };\n      commit(\"setSocket\", socket);\n    },\n    switchRoom({ commit, state }, newRoomId) {\n      if (state.chatSocket) {\n        state.chatSocket.close();\n        commit(\"SET_CHAT_SOCKET\", null);\n      }\n\n      if (state.roomListSocket) {\n        state.roomListSocket.close();\n        commit(\"SET_ROOM_LIST_SOCKET\", null);\n      }\n\n      commit(\"SET_ROOM_ID\", newRoomId);\n\n      store.dispatch(\"initChatWebSocket\", newRoomId);\n\n      store.dispatch(\"initRoomListWebSocket\");\n    },\n    addMessage({ commit }, message) {\n      commit(\"addMessage\", message);\n    },\n    sendMessage({ state }, messageData) {\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        const message = {\n          type: \"chat_message\",\n          message: messageData,\n          username: state.currentUser.username,\n          room: state.currentRoom,\n        };\n        state.socket.send(JSON.stringify(message));\n      } else {\n        console.error(\"WebSocket is not open. Unable to send message.\");\n      }\n    },\n    logIn({ commit }, { username, userType }) {\n      commit(\"setLoggedIn\", true);\n      commit(\"setCurrentUser\", username);\n      commit(\"setUserType\", userType);\n      localStorage.setItem(\"username\", username);\n      localStorage.setItem(\"userType\", userType);\n    },\n    logOut({ commit }) {\n      commit(\"setLoggedIn\", false);\n      commit(\"setCurrentUser\", null);\n      commit(\"setUserType\", null);\n      localStorage.removeItem(\"username\");\n      localStorage.removeItem(\"userType\");\n    },\n    initializeApp({ commit }) {\n      const username = localStorage.getItem(\"username\");\n      const userType = localStorage.getItem(\"userType\");\n      if (username) {\n        commit(\"setCurrentUser\", username);\n      }\n      if (userType) {\n        commit(\"setUserType\", userType);\n      }\n    },\n    addRoom({ commit }, room) {\n      commit(\"addRoom\", room);\n    },\n    selectRoom({ commit, dispatch }, room) {\n      commit(\"setCurrentRoom\", room);\n      dispatch(\"initWebSocket\");\n    },\n    updateUsernameValidation({ commit }, isValid) {\n      commit(\"updateUsernameValidation\", isValid);\n    },\n    updatePasswordValidation({ commit }, isValid) {\n      commit(\"updatePasswordValidation\", isValid);\n    },\n    setRoomId({ commit }, roomId) {\n      commit(\"SET_ROOM_ID\", roomId);\n    },\n  },\n});\n\nexport default store;\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport axios from \"axios\";\nimport { createVuestic } from \"vuestic-ui\";\nimport \"vuestic-ui/styles/essential.css\";\nimport \"vuestic-ui/styles/grid.css\";\nimport \"vuestic-ui/styles/reset.css\";\nimport \"vuestic-ui/styles/typography.css\";\nimport mdiVue from \"mdi-vue/v3\";\nimport * as mdijs from \"@mdi/js\";\n// import 'vuestic-admin/src/scss/icon-fonts/fontelico/fontelico.scss';\n\naxios.interceptors.request.use((config) => {\n  config.headers[\"X-CSRFToken\"] = window.csrfToken;\n  return config;\n});\n\ncreateApp(App)\n  .use(mdiVue, {\n    icons: mdijs,\n  })\n  .use(router)\n  .use(store)\n  .use(\n    createVuestic({\n      config: {\n        colors: {\n          variables: {\n            primary: \"#154EC1\",\n            secondary: \"#666E75\",\n            success: \"#3D9209\",\n            info: \"#158DE3\",\n            danger: \"#E42222\",\n            warning: \"#FFD43A\",\n            backgroundPrimary: \"#FFFFFF\",\n            backgroundSecondary: \"#FFFFFF\",\n            backgroundElement: \"#ECF0F1\",\n            backgroundBorder: \"#DEE5F2\",\n            textPrimary: \"#262824\",\n            textInverted: \"#FFFFFF\",\n            shadow: \"rgba(0, 0, 0, 0.12)\",\n            focus: \"#49A8FF\",\n            transparent: \"rgba(0, 0, 0, 0)\",\n            backgroundLanding: \"#f4f9fc\",\n            backgroundLandingBorder: \"rgba(155, 179, 206, 0.8)\",\n            button: \"#000\",\n          },\n        },\n        components: {\n          VaButton: {\n            color: \"button\",\n          },\n        },\n      },\n    })\n  )\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/static/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchat\"] = self[\"webpackChunkchat\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8162); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_ctx","isAuthenticated","_createBlock","_component_va_sidebar","key","collapsed","$data","isCollapsed","_cache","$event","default","_withCtx","_createVNode","_component_va_list","_component_va_sidebar_item","onClick","$options","goToHome","_component_va_sidebar_item_content","_component_va_icon","name","size","_component_va_sidebar_item_title","_createTextVNode","_","goToProfile","createNewRoom","_Fragment","_renderList","rooms","room","selectRoom","_toDisplayString","logout","_createCommentVNode","_hoisted_3","_component_router_view","computed","mapState","state","isLoggedIn","data","created","this","initializeApp","methods","mapActions","fetchAuthentication","fetchRooms","initRoomListWebSocket","$route","params","roomId","$router","push","then","location","reload","$store","commit","initWebSocket","csrfToken","getCookie","console","log","axios","post","process","headers","withCredentials","socket","close","dispatch","catch","error","alert","response","detail","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","roomName","prompt","window","addRoom","__exports__","render","_component_VaAlert","color","border","_component_message_list","messages","onQuote","quoteMessage","onUpdateMessages","updateMessages","_component_message_input","value","inputMessage","onSend","addMessage","userType","_component_prompt_display","msg","_component_VaCard","onMouseover","$setup","handleMouseOver","onMouseleave","handleMouseLeave","_component_VaCardTitle","style","_normalizeStyle","backgroundColor","getIconColor","user__username","_component_VaCardContent","text","innerHTML","_component_VaButton","_component_Return32","showQuoteButton","_hoisted_4","_component_CommandPalette","quotedMessage","handleSend","onClearQuote","clearQuotedMessage","$props","args","clearQuote","_component_ckeditor","editor","modelValue","content","config","editorConfig","sendMessage","components","ckeditor","CKEditor","props","String","ClassicEditor","toolbar","items","shouldNotGroupWhenFull","messageContent","$emit","Return32","CommandPalette","setup","store","useStore","reactive","iconColors","currentRoom","async","updateIconColor","username","get","messageText","onMounted","onBeforeUnmount","readyState","WebSocket","OPEN","watch","newRoom","oldRoom","newMessages","oldMessages","deep","toRefs","API_KEY","http","create","baseURL","Authorization","askChatGPT","purpose","conversationHistory","filter","map","role","currentUser","replace","requestData","model","generatePrompt","max_tokens","temperature","JSON","stringify","result","makeRequestWithRetry","choices","message","question","answer","input","history","basePrompt","context","join","url","retries","delay","status","Promise","resolve","setTimeout","Math","pow","MessageList","PromptDisplay","mounted","storedUserType","localStorage","getItem","createDefaultRoom","wsUrl","onopen","onmessage","event","receivedMessage","parse","onclose","onerror","beforeUnmount","send","room_name","room_id","messageData","src","_imports_0","alt","_component_va_card","onSubmit","_withModifiers","onLogin","_component_va_input","placeholder","_hoisted_5","type","password","_hoisted_6","_component_va_select","options","userTypes","label","clearable","_hoisted_7","_hoisted_8","_component_VaBadge","goToRegister","VaSelect","router","useRouter","ref","find","row","startsWith","userTypeValue","setItem","_component_VaInput","onInput","checkUsername","success","isUsernameValid","usernameError","checkPassword","isPasswordValid","passwordError","isFormValid","registerUser","isValid","updateUsernameValidation","updatePasswordValidation","icon","_component_VaIcon","cssColor","colors","changeIconColor","iconColor","ws","initializeWebSocket","initializeIconColor","getColor","useColors","colorName","onUnmounted","fetchIconColor","fetchedColor","immediate","handler","newId","initializeRoom","closeWebSocket","fetchMessages","fetchCurrentUser","routes","path","component","LoginPage","HomePage","RoomPage","RegisterPage","UserProfile","createRouter","createWebHistory","STATIC_URL","createStore","filteredMessages","chatSocket","roomListSocket","mutations","setUserType","setIconColor","setRooms","setLoggedIn","setCurrentUser","user","setCurrentRoom","setMessages","setSocket","setRoomListSocket","some","m","SET_ROOM_ID","SET_CHAT_SOCKET","SET_ROOM_LIST_SOCKET","actions","reject","updateRoomList","code","reason","switchRoom","newRoomId","logIn","logOut","removeItem","setRoomId","interceptors","request","use","createApp","App","mdiVue","icons","mdijs","createVuestic","variables","primary","secondary","info","danger","warning","backgroundPrimary","backgroundSecondary","backgroundElement","backgroundBorder","textPrimary","textInverted","shadow","focus","transparent","backgroundLanding","backgroundLandingBorder","button","VaButton","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}
>>>>>>> origin/main
