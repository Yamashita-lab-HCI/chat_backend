{"version":3,"file":"js/app.js","mappings":"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","sources":["webpack://chat/./src/App.vue","webpack://chat/./src/App.vue?7ccd","webpack://chat/./src/components/HomePage.vue","webpack://chat/./src/components/MessageList.vue","webpack://chat/./src/components/CommandPalette.vue","webpack://chat/./src/components/CommandPalette.vue?c72f","webpack://chat/./src/components/MessageList.vue?2e85","webpack://chat/./src/components/PromptDisplay.vue","webpack://chat/./src/components/PromptDisplay.vue?acf6","webpack://chat/./src/components/HomePage.vue?8b1a","webpack://chat/./src/components/LoginPage.vue","webpack://chat/./src/components/LoginPage.vue?8d24","webpack://chat/./src/components/RegisterPage.vue","webpack://chat/./src/components/RegisterPage.vue?471c","webpack://chat/./src/components/UserProfile.vue","webpack://chat/./src/components/UserProfile.vue?6e82","webpack://chat/./src/components/RoomPage.vue","webpack://chat/./src/components/RoomPage.vue?6017","webpack://chat/./src/router/index.js","webpack://chat/./src/store/index.js","webpack://chat/./src/main.js","webpack://chat/webpack/bootstrap","webpack://chat/webpack/runtime/chunk loaded","webpack://chat/webpack/runtime/compat get default export","webpack://chat/webpack/runtime/define property getters","webpack://chat/webpack/runtime/global","webpack://chat/webpack/runtime/hasOwnProperty shorthand","webpack://chat/webpack/runtime/make namespace object","webpack://chat/webpack/runtime/node module decorator","webpack://chat/webpack/runtime/publicPath","webpack://chat/webpack/runtime/jsonp chunk loading","webpack://chat/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"container\">\n      <va-sidebar v-model:collapsed=\"isCollapsed\" v-if=\"isAuthenticated\">\n        <va-list>\n          <va-sidebar-item @click=\"goToHome\">\n            <va-sidebar-item-content>\n              <va-icon name=\"home\" size=\"large\" />\n              <va-sidebar-item-title>Home</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"goToProfile\">\n            <va-sidebar-item-content>\n              <va-icon name=\"person\" size=\"large\" />\n              <va-sidebar-item-title>Profile</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"createNewRoom\">\n            <va-sidebar-item-content>\n              <va-icon name=\"add\" size=\"large\" />\n              <va-sidebar-item-title>Create New Room</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item\n            v-for=\"room in rooms\"\n            :key=\"room.name\"\n            @click=\"selectRoom(room)\"\n          >\n            <va-sidebar-item-content>\n              <va-icon name=\"chat\" size=\"large\" />\n              <va-sidebar-item-title>{{ room.name }}</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n          <va-sidebar-item @click=\"logout\">\n            <va-sidebar-item-content>\n              <va-icon name=\"logout\" size=\"large\" />\n              <va-sidebar-item-title>Log Out</va-sidebar-item-title>\n            </va-sidebar-item-content>\n          </va-sidebar-item>\n        </va-list>\n      </va-sidebar>\n      <main class=\"main-content\">\n        <router-view />\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  computed: {\n    ...mapState({\n      isAuthenticated: (state) => state.isLoggedIn,\n      rooms: (state) => state.rooms,\n    }),\n  },\n  data() {\n    return {\n      isCollapsed: false,\n    };\n  },\n  created() {\n    this.initializeApp();\n  },\n  methods: {\n    ...mapActions([\n      \"logOut\",\n      \"addRoom\",\n      \"fetchAuthentication\",\n      \"fetchRooms\",\n      \"fetchMessages\",\n      \"initWebSocket\",\n      \"initRoomListWebSocket\",\n      \"initRoomListWebSocket\",\n      \"selectRoom\",\n    ]),\n    async initializeApp() {\n      await this.fetchAuthentication();\n      if (this.isAuthenticated) {\n        await this.fetchRooms();\n        this.initRoomListWebSocket();\n        if (this.$route.params.roomId) {\n          this.selectRoom({ id: this.$route.params.roomId });\n        }\n      }\n    },\n    goToHome() {\n      this.$router.push(\"/home\").then(() => {\n        location.reload();\n      });\n    },\n    goToProfile() {\n      this.$router.push(\"/user-profile\");\n    },\n    selectRoom(room) {\n      this.$router.push(`/room/${room.id}`);\n      this.$store.commit(\"setCurrentRoom\", room.id);\n      this.initWebSocket(); // WebSocket接続を初期化\n      // this.fetchMessages();\n    },\n    logout() {\n      const csrfToken = this.getCookie(\"csrftoken\");\n      console.log(\"CSRF Token:\", csrfToken);\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"logout/\",\n          {},\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken,\n            },\n          }\n        )\n        .then(() => {\n          if (this.$store.state.socket) {\n            this.$store.state.socket.close();\n          }\n          this.logOut();\n          this.$router.push(\"/login\");\n        })\n        .catch((error) => {\n          console.error(\"Failed to log out:\", error);\n          alert(\n            `Logout failed: ${error.response.data.detail || \"Please try again.\"}`\n          );\n        });\n    },\n    getCookie(name) {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== \"\") {\n        const cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + \"=\") {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    },\n    createNewRoom() {\n      const roomName = prompt(\"Enter a name for the new chat room:\");\n      if (roomName) {\n        axios\n          .post(\n            process.env.VUE_APP_BASE_URL + \"create-room/\",\n            { roomName: roomName },\n            {\n              headers: {\n                \"X-CSRFToken\": window.csrfToken,\n              },\n            }\n          )\n          .then((response) => {\n            const roomId = response.data.roomId;\n            this.addRoom({ name: roomName, id: roomId });\n            this.selectRoom({ id: roomId });\n            this.$router.push(`/room/${roomId}`);\n          })\n          .catch((error) => {\n            console.error(\"Failed to create room:\", error);\n            console.error(\"Server response:\", error.response.data);\n            alert(\n              `Room creation failed: ${error.response.data.detail || \"Please try again.\"}`\n            );\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n#app {\n  text-align: center;\n}\n.container {\n  display: flex;\n}\n.sidebar {\n  flex: 0 0 250px;\n}\n.main-content {\n  flex: 1;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=0ca49823\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0ca49823&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-full-width\"\n    >\n      Chatting Room\n    </VaAlert>\n    <div class=\"chat-container\">\n      <!-- チャットメッセージのリストとメッセージ入力フィールドを包含するコンテナ -->\n      <div class=\"chat-section\">\n        <message-list\n          :messages=\"messages\"\n          @quote=\"quoteMessage\"\n          @update-messages=\"updateMessages\"\n        ></message-list>\n        <message-input :value=\"inputMessage\" @send=\"addMessage\"></message-input>\n      </div>\n      <!-- プロンプト表示部分 -->\n      <prompt-display></prompt-display>\n    </div>\n  </div>\n</template>\n\n<script>\n// import dummyData from '@/dummyData';\nimport MessageList from \"@/components/MessageList.vue\";\n// import MessageInput from \"@/components/MessageInput.vue\";\nimport PromptDisplay from \"@/components/PromptDisplay.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"HomePage\",\n  components: {\n    MessageList,\n    PromptDisplay,\n  },\n  data() {\n    return {\n      inputMessage: \"\",\n    };\n  },\n  async mounted() {\n    try {\n      await this.$store.dispatch(\"fetchCurrentUser\");\n      if (this.currentUser) {\n        console.log(\"Current user:\", this.currentUser);\n        await this.$store.dispatch(\"fetchIconColor\");\n        const csrfToken = this.getCookie(\"csrftoken\");\n        await this.createDefaultRoom(csrfToken);\n      } else {\n        console.error(\"Current user is null\");\n      }\n    } catch (error) {\n      console.error(\"Error in mounted hook:\", error);\n    }\n  },\n\n  computed: {\n    messages() {\n      return this.$store.state.messages;\n    },\n    currentRoom() {\n      return this.$store.state.currentRoom;\n    },\n    currentUser() {\n      return this.$store.state.currentUser;\n    },\n  },\n\n  created() {\n    this.$store.dispatch(\"fetchIconColor\");\n  },\n  methods: {\n    initWebSocket() {\n      // WebSocketのURLを指定します。例: ws://localhost:3000\n      const wsUrl = \"YOUR_WEBSOCKET_ENDPOINT\";\n      this.socket = new WebSocket(wsUrl);\n\n      // WebSocket接続が開かれた時のイベントハンドラ\n      this.socket.onopen = () => {\n        console.log(\"WebSocket connection opened\");\n        // 必要に応じてサーバーにメッセージを送信\n        // this.socket.send(\"Hello Server!\");\n      };\n\n      // メッセージを受信した時のイベントハンドラ\n      this.socket.onmessage = (event) => {\n        console.log(\"Message from server \", event.data);\n        const receivedMessage = JSON.parse(event.data);\n        // 受信したメッセージを処理\n        this.updateMessages(receivedMessage);\n      };\n\n      // WebSocket接続が閉じられた時のイベントハンドラ\n      this.socket.onclose = () => {\n        console.log(\"WebSocket connection closed\");\n      };\n\n      // エラーが発生した時のイベントハンドラ\n      this.socket.onerror = (error) => {\n        console.error(\"WebSocket error: \", error);\n      };\n    },\n    beforeUnmount() {\n      // WebSocket接続をクローズ\n      if (this.socket) {\n        this.socket.close();\n      }\n    },\n    sendMessage() {\n      if (this.inputMessage.trim() && this.socket) {\n        // メッセージをサーバーに送信\n        this.socket.send(JSON.stringify({ message: this.inputMessage }));\n        this.inputMessage = \"\"; // 入力フィールドをクリア\n      }\n    },\n    async createDefaultRoom(csrfToken) {\n      try {\n        const response = await axios.post(\n          `${process.env.VUE_APP_BASE_URL}create_default_room/`,\n          {\n            room_name: \"HomePage\",\n            room_id: 0,\n          },\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken,\n            },\n          }\n        );\n        console.log(response.data);\n        this.$store.commit(\"setCurrentRoom\", 0);\n        await this.$store.dispatch(\"fetchMessages\");\n      } catch (error) {\n        console.error(\"Error creating default room:\", error);\n      }\n    },\n    getCookie(name) {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== \"\") {\n        const cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + \"=\") {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    },\n    async addMessage() {\n      if (!this.currentRoom) {\n        console.error(\"currentRoom is not set\");\n        return;\n      }\n      console.log(this.inputMessage);\n      const messageData = this.inputMessage;\n      try {\n        await this.$store.dispatch(\"addMessage\", messageData);\n        this.inputMessage = \"\";\n      } catch (error) {\n        console.error(\"Error sending message:\", error);\n      }\n    },\n    quoteMessage(message) {\n      this.inputMessage = `> ${message}\\n`;\n    },\n    updateMessages(newMessages) {\n      this.$store.commit(\"SET_MESSAGES\", newMessages);\n    },\n  },\n};\n</script>\n\n<!-- スタイル -->\n<style>\n.home {\n  /* フレックスコンテナとして設定 */\n  display: flex;\n  flex-direction: column;\n}\n\n.alert-full-width {\n  width: 100%; /* VaAlertコンポーネントの幅を100%に設定 */\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: row; /* 横並びにする */\n}\n\n.chat-section {\n  max-height: 500px;\n  flex: 1; /* チャットセクションを適切に伸縮させる */\n}\n</style>\n","<template>\n  <div class=\"message-list\">\n    <VaCard\n      v-for=\"msg in messages\"\n      :key=\"msg.id\"\n      class=\"mb-2 message-card\"\n      @mouseover=\"handleMouseOver(msg.id)\"\n      @mouseleave=\"handleMouseLeave(msg.id)\"\n    >\n      <VaCardTitle>\n        <div\n          class=\"icon\"\n          :style=\"{ backgroundColor: getIconColor(msg.user__username) }\"\n        ></div>\n        <span class=\"message-user\">{{ msg.user__username }}</span>\n      </VaCardTitle>\n      <VaCardContent>\n        <div v-if=\"msg.text\" v-html=\"msg.text\"></div>\n        <VaButton\n          v-show=\"showQuoteButton[msg.id]\"\n          @click=\"quoteMessage(msg.text, msg.id)\"\n          class=\"quote-button\"\n        >\n          <Return32 />\n        </VaButton>\n      </VaCardContent>\n    </VaCard>\n  </div>\n  <div class=\"command-palette-wrapper\">\n    <CommandPalette\n      v-if=\"isAuthenticated\"\n      :quotedMessage=\"quotedMessage\"\n      @send=\"handleSend\"\n      @clear-quote=\"clearQuotedMessage\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Return32 } from \"@carbon/icons-vue\";\nimport CommandPalette from \"./CommandPalette.vue\";\nimport { mapState, useStore } from \"vuex\";\nimport axios from \"axios\";\nimport {\n  reactive,\n  toRefs,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  computed,\n} from \"vue\";\n\nexport default {\n  name: \"MessageList\",\n  components: {\n    Return32,\n    CommandPalette,\n  },\n  props: {\n    roomName: String,\n  },\n  computed: {\n    ...mapState([\"messages\"]),\n  },\n  setup() {\n    const store = useStore();\n    const state = reactive({\n      showQuoteButton: {},\n      quotedMessage: \"\",\n    });\n    const iconColors = reactive({});\n\n    const isAuthenticated = computed(() => store.state.isLoggedIn);\n    // const currentUser = computed(() => store.state.currentUser);\n    const currentRoom = computed(() => store.state.currentRoom);\n\n    onMounted(() => {\n      if (currentRoom.value) {\n        store.dispatch(\"initWebSocket\");\n      }\n    });\n\n    onBeforeUnmount(() => {\n      if (\n        store.state.socket &&\n        store.state.socket.readyState === WebSocket.OPEN\n      ) {\n        store.state.socket.close();\n        store.commit(\"setSocket\", null);\n      }\n    });\n\n    watch(currentRoom, (newRoom, oldRoom) => {\n      if (newRoom !== oldRoom) {\n        if (\n          store.state.socket &&\n          store.state.socket.readyState === WebSocket.OPEN\n        ) {\n          store.state.socket.close();\n          store.commit(\"setSocket\", null);\n        }\n        store.dispatch(\"initWebSocket\");\n      }\n    });\n\n    watch(\n      () => store.state.messages,\n      (newMessages, oldMessages) => {\n        // ここでUIの更新処理を行う\n        // 例: 新しいメッセージが追加されたことをユーザーに通知する\n        console.log(\n          \"Messages updated\",\n          newMessages.length - oldMessages.length,\n          \"new messages added\"\n        );\n      },\n      { deep: true }\n    );\n\n    /*function connectWebSocket() {\n      if (!currentRoom.value) {\n        console.error(\"Cannot connect WebSocket: Room is not set\");\n        return;\n      }\n\n      const wsUrl =\n        `${process.env.VUE_APP_WS_URL}/ws/chat/${currentRoom.value}/`.replace(\n          /\\/\\//g,\n          \"/\"\n        );\n      state.websocket = new WebSocket(wsUrl);\n\n      state.websocket.onopen = () => {\n        console.log(\"WebSocket connected\");\n      };\n\n      state.websocket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"chat_message\") {\n          state.messages.unshift(data.message);\n          updateIconColor(data.message.user__username);\n        }\n      };\n\n      state.websocket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      state.websocket.onclose = () => {\n        console.log(\"WebSocket disconnected\");\n      };\n    }\n\n    function disconnectWebSocket() {\n      if (state.websocket && state.websocket.readyState === WebSocket.OPEN) {\n        state.websocket.close();\n        console.log(\"WebSocket is safely closed.\");\n      }\n    }\n    */\n\n    async function updateIconColor(username) {\n      try {\n        const response = await axios.get(\n          `${process.env.VUE_APP_BASE_URL}get_icon_color/`,\n          {\n            params: { username: username },\n          }\n        );\n        if (response.data && response.data.color) {\n          iconColors[username] = response.data.color;\n        }\n      } catch (error) {\n        console.error(`Error fetching icon color for ${username}:`, error);\n      }\n    }\n\n    watch(\n      () => store.state.messages,\n      async (newMessages) => {\n        for (const msg of newMessages) {\n          if (!iconColors[msg.user__username]) {\n            await updateIconColor(msg.user__username);\n          }\n        }\n      },\n      { deep: true }\n    );\n\n    function getIconColor(username) {\n      return iconColors[username] || \"#000000\";\n    }\n\n    function handleMouseOver(id) {\n      state.showQuoteButton[id] = true;\n    }\n\n    function handleMouseLeave(id) {\n      state.showQuoteButton[id] = false;\n    }\n\n    function quoteMessage(messageText, id) {\n      state.quotedMessage = messageText;\n      state.showQuoteButton[id] = false;\n    }\n\n    function clearQuotedMessage() {\n      state.quotedMessage = \"\";\n    }\n\n    function handleSend(content) {\n      if (!content || content.trim() === \"\") {\n        return;\n      }\n      store.dispatch(\"sendMessage\", content);\n    }\n\n    return {\n      ...toRefs(state),\n      quoteMessage,\n      clearQuotedMessage,\n      handleSend,\n      isAuthenticated,\n      getIconColor,\n      handleMouseOver,\n      handleMouseLeave,\n    };\n  },\n};\n</script>\n\n<style>\n.message-card {\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  position: relative;\n  z-index: 1;\n}\n\n.icon {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n}\n\n.quote-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: none;\n  padding: 5px;\n}\n\n.message-card:hover .quote-button {\n  display: block;\n}\n\n.message-card ul {\n  list-style-type: disc;\n  padding-left: 20px;\n}\n\n.message-card li {\n  margin-bottom: 10px;\n}\n\n.message-card ol {\n  list-style-type: decimal;\n  padding-left: 20px;\n}\n\n/* 引用のスタイル */\n.message-card blockquote {\n  border-left: 4px solid #ddd;\n  padding-left: 15px;\n  color: #666;\n}\n\n.message-icon {\n  margin-right: 10px;\n}\n\n.message-user {\n  font-weight: bold;\n  margin-right: 10px;\n  margin-left: 10px;\n}\n\n.message-list {\n  max-height: calc(100vh - 200px);\n  overflow-y: auto;\n  position: relative;\n}\n.command-palette-wrapper {\n  position: sticky;\n  bottom: 0;\n}\n\n.command-palette {\n  width: 100%;\n  height: 100px;\n  z-index: 2;\n}\n</style>\n","<template>\n  <div class=\"command-palette\">\n    <div v-if=\"quotedMessage\" class=\"quoted-message\">\n      <blockquote>{{ quotedMessage }}</blockquote>\n      <button @click=\"clearQuote\">x</button>\n    </div>\n    <ckeditor\n      :editor=\"editor\"\n      v-model=\"content\"\n      :config=\"editorConfig\"\n    ></ckeditor>\n    <div class=\"va-title\">Type your Message:</div>\n    <VaButton @click=\"sendMessage\">Send</VaButton>\n  </div>\n</template>\n\n<script>\nimport CKEditor from \"@ckeditor/ckeditor5-vue\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\n\nexport default {\n  name: \"CommandPalette\",\n  components: {\n    ckeditor: CKEditor.component,\n  },\n  props: {\n    quotedMessage: String,\n  },\n  data() {\n    return {\n      editor: ClassicEditor,\n      content: \"\",\n      editorConfig: {\n        toolbar: {\n          items: [\n            \"undo\",\n            \"redo\",\n            \"|\",\n            \"bold\",\n            \"italic\",\n            \"|\",\n            \"link\",\n            // \"uploadImage\",\n            \"blockQuote\",\n            \"|\",\n            \"bulletedList\",\n            \"numberedList\",\n          ],\n          shouldNotGroupWhenFull: false,\n        },\n      },\n    };\n  },\n  methods: {\n    sendMessage() {\n      if (this.content.trim() !== \"\") {\n        let messageContent = this.content;\n        if (this.quotedMessage) {\n          messageContent = `<blockquote>${this.quotedMessage}</blockquote>${messageContent}`;\n        }\n        this.$emit(\"send\", messageContent);\n        this.content = \"\"; // 送信後にエディタをクリア\n        this.$emit(\"clear-quote\");\n      }\n    },\n    clearQuote() {\n      this.$emit(\"clear-quote\");\n    },\n  },\n};\n</script>\n\n<style>\n.command-palette {\n  border: 1px solid #ccc;\n  padding: 10px;\n}\n.ck-content {\n  padding: 20px;\n}\n.va-title {\n  margin-top: 10px;\n  font-weight: bold;\n}\nbutton {\n  cursor: pointer;\n}\n.quoted-message {\n  border-left: 4px solid #ccc;\n  padding-left: 10px;\n  margin-bottom: 10px;\n  position: relative;\n}\n.quoted-message button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 16px;\n}\n</style>\n","import { render } from \"./CommandPalette.vue?vue&type=template&id=f3f5b1c0\"\nimport script from \"./CommandPalette.vue?vue&type=script&lang=js\"\nexport * from \"./CommandPalette.vue?vue&type=script&lang=js\"\n\nimport \"./CommandPalette.vue?vue&type=style&index=0&id=f3f5b1c0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MessageList.vue?vue&type=template&id=98e6e668\"\nimport script from \"./MessageList.vue?vue&type=script&lang=js\"\nexport * from \"./MessageList.vue?vue&type=script&lang=js\"\n\nimport \"./MessageList.vue?vue&type=style&index=0&id=98e6e668&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"prompt-display\">\n    <h2>🧑 Ask ChatGPT!</h2>\n    <div class=\"input-group\">\n      <input\n        class=\"input\"\n        placeholder=\"Please type in your questions.\"\n        v-model=\"state.prompt\"\n      />\n      <button @click=\"askChatGPT\" class=\"btn\">Send</button>\n    </div>\n    <div class=\"response\">\n      <pre>{{ state.response }}</pre>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive } from \"vue\";\nimport axios from \"axios\";\nimport { useStore } from \"vuex\";\n\nconst state = reactive({\n  prompt: \"\",\n  response:\n    \"✅ Answer from ChatGPT will appear here. You can type in any languages!\",\n  isCollapsed: false,\n});\n\nconst API_KEY = process.env.VUE_APP_API_KEY;\nconst http = axios.create({\n  baseURL: \"https://api.openai.com/v1/\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${API_KEY}`,\n  },\n});\n\nconst store = useStore();\n\nasync function askChatGPT() {\n  if (!state.prompt.trim()) {\n    state.response = \"⚠️ 質問を入力してください。\";\n    return;\n  }\n\n  try {\n    const result = await makeRequestWithRetry(\n      \"chat/completions\",\n      {\n        model: \"gpt-3.5-turbo\",\n        messages: [{ role: \"user\", content: state.prompt }],\n        max_tokens: 256,\n        temperature: 0.7,\n      },\n      3,\n      2000\n    ); // 最大3回のリトライ、リトライ間隔2000ミリ秒\n    state.response = result.data.choices[0].message.content;\n\n    // GPTからの応答を取得した後、その質問と回答をバックエンドに送信\n    await axios.post(process.env.VUE_APP_BASE_URL + \"record/\", {\n      username: store.state.currentUser,\n      question: state.prompt,\n      answer: state.response,\n    });\n  } catch (error) {\n    console.error(\"ChatGPTからの応答の取得に失敗しました:\", error);\n    if (error.response && error.response.data && error.response.data.error) {\n      state.response = `⚠️ エラーが発生しました: ${error.response.data.error.message}. 詳細はOpenAIのドキュメントを参照してください。`;\n    } else {\n      state.response =\n        \"⚠️ 不明なエラーが発生しました。サポートに連絡してください。\";\n    }\n  }\n}\n\nasync function makeRequestWithRetry(url, data, retries, delay) {\n  for (let i = 0; i <= retries; i++) {\n    try {\n      return await http.post(url, data);\n    } catch (error) {\n      if (i < retries && error.response && error.response.status === 429) {\n        await new Promise((resolve) =>\n          setTimeout(resolve, delay * Math.pow(2, i))\n        ); // 指数的バックオフ\n      } else {\n        throw error;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.prompt-display {\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n  gap: 20px;\n}\n.input-group {\n  display: flex;\n  gap: 10px;\n}\n.input {\n  flex-grow: 1;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n.btn {\n  padding: 10px 20px;\n  border: none;\n  background-color: #007bff;\n  color: white;\n  border-radius: 5px;\n  cursor: pointer;\n}\n.btn:hover {\n  background-color: #0056b3;\n}\n.response {\n  background-color: #f8f9fa;\n  padding: 20px;\n  border-radius: 5px;\n}\n</style>\n","import script from \"./PromptDisplay.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PromptDisplay.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PromptDisplay.vue?vue&type=style&index=0&id=7c28b68c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c28b68c\"]])\n\nexport default __exports__","import { render } from \"./HomePage.vue?vue&type=template&id=273f965a\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=273f965a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login\">\n    <va-card class=\"login-card\">\n      <img src=\"@/assets/chat-icon.svg\" alt=\"Chat Icon\" />\n      <h2>Welcome to my chat app!</h2>\n      <form @submit.prevent=\"onLogin\" class=\"login-form\">\n        <div class=\"form-section\">\n          <va-input v-model=\"username\" placeholder=\"Enter your username\" />\n        </div>\n        <div class=\"form-section\">\n          <va-input\n            type=\"password\"\n            v-model=\"password\"\n            placeholder=\"Enter your password\"\n          />\n        </div>\n        <div class=\"form-section\">\n          <VaButton type=\"submit\" class=\"mr-6 mb-2\" color=\"primary\"\n            >Log In</VaButton\n          >\n        </div>\n      </form>\n      <div class=\"register-section\">\n        <VaBadge\n          text=\"If you don't have an account yet...\"\n          color=\"#B3D943\"\n          class=\"mr-2\"\n        />\n      </div>\n      <VaButton color=\"danger\" class=\"mr-6 mb-2\" @click=\"goToRegister\"\n        >Register</VaButton\n      >\n    </va-card>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\n\nexport default {\n  name: \"LoginPage\",\n  setup() {\n    const router = useRouter();\n    const store = useStore();\n    const username = ref(\"\");\n    const password = ref(\"\");\n    const csrfToken = ref(\"\");\n\n    onMounted(() => {\n      csrfToken.value = document.cookie\n        .split(\"; \")\n        .find((row) => row.startsWith(\"csrftoken\"))\n        ?.split(\"=\")[1];\n    });\n\n    const onLogin = () => {\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"login/\",\n          {\n            username: username.value,\n            password: password.value,\n          },\n          {\n            headers: {\n              \"X-CSRFToken\": csrfToken.value,\n            },\n          }\n        )\n        .then((response) => {\n          if (response.data && response.data.status == \"success\") {\n            store.commit(\"setCurrentUser\", username.value);\n            store.dispatch(\"logIn\");\n            alert(\"Login Success!\");\n            router.push(\"/home\").then(() => {\n              location.reload();\n            });\n          } else {\n            alert(\"Login Failed! \" + (response.data?.message || \"\"));\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          alert(\n            \"Incorrect username or password! \" +\n              (error.response?.data?.message || \"Unknown error\")\n          );\n        });\n    };\n\n    const goToRegister = () => {\n      router.push(\"/register\");\n    };\n\n    return {\n      username,\n      password,\n      onLogin,\n      goToRegister,\n    };\n  },\n};\n</script>\n\n<style>\n.login img {\n  width: 100px;\n  /* アイコンの幅を設定 */\n  height: auto;\n  /* 高さを自動調整 */\n  margin-bottom: 20px;\n  /* フォームとの間隔を設定 */\n}\n\n.login {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.login-card {\n  width: 300px;\n  padding: 20px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.login-form .form-section {\n  margin-bottom: 10px; /* Adjust this value as needed */\n}\n\n.login-card .register-section {\n  margin-bottom: 10px;\n}\n</style>\n","import { render } from \"./LoginPage.vue?vue&type=template&id=6ce154bf\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=6ce154bf&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"register\">\n    <VaInput\n      v-model=\"username\"\n      @input=\"checkUsername\"\n      :success=\"isUsernameValid && !usernameError\"\n      :error=\"usernameError.length > 0\"\n      :error-messages=\"usernameError\"\n      label=\"Username\"\n      placeholder=\"Enter your username\"\n    />\n    <VaInput\n      v-model=\"password\"\n      @input=\"checkPassword\"\n      :success=\"isPasswordValid && !passwordError\"\n      :error=\"passwordError.length > 0\"\n      :error-messages=\"passwordError\"\n      label=\"Password(at least 6 characters)\"\n      placeholder=\"Enter your password\"\n      type=\"password\"\n    />\n    <div></div>\n    <VaButton v-if=\"isFormValid\" @click=\"registerUser\">Register</VaButton>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n// import dummyData from '@/dummyData';\nimport axios from \"axios\";\n\nexport default {\n  name: \"RegisterPage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      usernameError: \"\",\n      passwordError: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\"isUsernameValid\", \"isPasswordValid\"]),\n    isFormValid() {\n      return this.isUsernameValid && this.isPasswordValid;\n    },\n  },\n  methods: {\n    ...mapActions([\"updateUsernameValidation\", \"updatePasswordValidation\"]),\n    checkUsername() {\n      /*\n      const userExists = dummyData.users.some(user => user.username === this.username);\n      if (userExists || !this.username) {\n        this.usernameError = 'This username is already taken or invalid.';\n        this.updateUsernameValidation(false);\n      } else {\n        this.usernameError = '';\n        this.updateUsernameValidation(true);\n      }\n      */\n      axios\n        .post(\n          process.env.VUE_APP_BASE_URL + \"check_username/\",\n          { username: this.username },\n          {\n            headers: {\n              \"X-CSRFToken\": window.csrfToken,\n            },\n          }\n        )\n        .then((response) => {\n          if (!response.data.isValid) {\n            this.usernameError = \"This username is already taken or invalid.\";\n            this.updateUsernameValidation(false);\n          } else {\n            this.usernameError = \"\";\n            this.updateUsernameValidation(true);\n          }\n        })\n        .catch((error) => {\n          if (\n            error.response &&\n            error.response.data &&\n            error.response.data.message\n          ) {\n            this.usernameError = error.response.data.message;\n          } else {\n            this.usernameError = \"Network error or server is unreachable.\";\n          }\n        });\n    },\n    checkPassword() {\n      if (this.password.length < 6) {\n        this.passwordError = \"Password must be at least 6 characters long.\";\n        this.updatePasswordValidation(false);\n      } else {\n        this.passwordError = \"\";\n        this.updatePasswordValidation(true);\n      }\n    },\n    registerUser() {\n      /*\n      if (this.isFormValid) {\n        dummyData.users.push({ username: this.username, password: this.password });\n        this.$router.push('/login');\n      }\n      */\n      if (this.isFormValid) {\n        axios\n          .post(\n            process.env.VUE_APP_BASE_URL + \"register/\",\n            {\n              username: this.username,\n              password: this.password,\n            },\n            {\n              headers: {\n                \"X-CSRFToken\": window.csrfToken,\n              },\n            }\n          )\n          .then(() => {\n            this.$router.push(\"/login\");\n          })\n          .catch((error) => {\n            this.passwordError =\n              \"Registration failed: \" +\n              (error.response ? error.response.data.message : \"Server error\");\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.div {\n  margin-top: 10px;\n}\n</style>\n","import { render } from \"./RegisterPage.vue?vue&type=template&id=8b7f4a28\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterPage.vue?vue&type=style&index=0&id=8b7f4a28&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"user-profile\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-spacing\"\n    >\n      User Profile\n    </VaAlert>\n    <VaAlert color=\"info\" class=\"mb-6 alert-spacing\">\n      <template #icon>\n        <VaIcon name=\"info\" />\n      </template>\n      Please choose your icon color!\n    </VaAlert>\n    <div class=\"icon-container alert-spacing\">\n      <div class=\"icon\" :style=\"{ backgroundColor: cssColor }\"></div>\n    </div>\n    <VaButton\n      v-for=\"color in colors\"\n      :key=\"color\"\n      :color=\"color\"\n      class=\"button-spacing mr-6 mb-2\"\n      @click=\"changeIconColor(color)\"\n      >{{ color }}</VaButton\n    >\n  </div>\n</template>\n\n<script>\nimport { mapActions, useStore } from \"vuex\";\nimport { useColors } from \"vuestic-ui\";\nimport { ref, computed, onMounted, onUnmounted } from \"vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"UserProfile\",\n  setup() {\n    const store = useStore();\n    const iconColor = ref(\"primary\");\n    const username = store.state.currentUser.username;\n    const ws = ref(null);\n    const initializeWebSocket = () => {\n      ws.value = new WebSocket(`${process.env.VUE_APP_WS_URL}ws/room_list/`);\n      ws.value.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"icon_color_change\") {\n          iconColor.value = data.color;\n        }\n      };\n    };\n    const initializeIconColor = async () => {\n      try {\n        const response = await axios.get(\n          process.env.VUE_APP_BASE_URL + \"get_icon_color/\",\n          {\n            params: {\n              username: username,\n            },\n          }\n        );\n        if (response.data && response.data.color) {\n          iconColor.value = response.data.color;\n        } else {\n          console.error(\n            `Unexpected response format for ${username}:`,\n            response.data\n          );\n        }\n      } catch (error) {\n        console.error(`Error fetching icon color for ${username}:`, error);\n      }\n    };\n\n    initializeIconColor();\n    const colors = ref([\n      \"primary\",\n      \"secondary\",\n      \"success\",\n      \"info\",\n      \"danger\",\n      \"warning\",\n    ]);\n\n    const { getColor } = useColors();\n    const cssColor = computed(() => getColor(iconColor.value));\n\n    const changeIconColor = (colorName) => {\n      const color = getColor(colorName);\n      if (!color) {\n        console.error(`Color \"${colorName}\" not found in Vuestic config.`);\n        return;\n      }\n      if (ws.value) {\n        ws.value.send(\n          JSON.stringify({ type: \"icon_color_change\", color: color })\n        );\n      }\n      iconColor.value = color;\n      store.dispatch(\"updateIconColor\", color);\n    };\n\n    onMounted(() => {\n      initializeWebSocket();\n    });\n\n    onUnmounted(() => {\n      if (ws.value) {\n        ws.value.close();\n      }\n    });\n\n    const fetchIconColor = async () => {\n      const fetchedColor = await store.dispatch(\"fetchIconColor\");\n      console.log(fetchedColor);\n      if (fetchedColor) {\n        iconColor.value = fetchedColor;\n      }\n    };\n    fetchIconColor();\n\n    return {\n      iconColor,\n      colors,\n      changeIconColor,\n      cssColor,\n    };\n  },\n  methods: {\n    ...mapActions([\"updateIconColor\"]),\n    updateIconColor(color) {\n      this.changeIconColor(color);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.alert-spacing {\n  margin-bottom: 30px; /* ここで各要素間の距離を設定します */\n}\n\n.icon-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100px; /* Adjust this value as needed */\n}\n\n.icon {\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n}\n\n.button-spacing {\n  margin-right: 10px;\n}\n</style>\n","import { render } from \"./UserProfile.vue?vue&type=template&id=54222cfc&scoped=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=54222cfc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54222cfc\"]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <VaAlert\n      color=\"primary\"\n      border=\"top\"\n      border-color=\"primary\"\n      class=\"mb-6 alert-full-width\"\n    >\n      Chatting Room\n    </VaAlert>\n    <div class=\"chat-container\">\n      <div class=\"chat-section\">\n        <message-list\n          :messages=\"messages\"\n          @quote=\"quoteMessage\"\n          @update-messages=\"updateMessages\"\n        ></message-list>\n        <message-input :value=\"inputMessage\" @send=\"addMessage\"></message-input>\n      </div>\n      <prompt-display></prompt-display>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MessageList from \"@/components/MessageList.vue\";\nimport PromptDisplay from \"@/components/PromptDisplay.vue\";\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"RoomPage\",\n  components: {\n    MessageList,\n    PromptDisplay,\n  },\n  data() {\n    return {\n      inputMessage: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\"messages\", \"currentRoom\", \"currentUser\", \"iconColor\"]),\n  },\n  watch: {\n    \"$route.params.id\": {\n      immediate: true,\n      handler(newId) {\n        this.initializeRoom(newId);\n      },\n    },\n  },\n  methods: {\n    ...mapActions([\n      \"fetchMessages\",\n      \"fetchCurrentUser\",\n      \"initWebSocket\",\n      \"addMessage\",\n      \"closeWebSocket\",\n    ]),\n    async initializeRoom(roomId) {\n      await this.closeWebSocket();\n      this.$store.commit(\"setMessages\", []);\n      await this.$store.commit(\"setCurrentRoom\", roomId);\n      await this.fetchMessages(roomId);\n      await this.fetchCurrentUser();\n      this.initWebSocket();\n    },\n    sendMessage() {\n      if (this.inputMessage.trim()) {\n        this.addMessage(this.inputMessage);\n        this.inputMessage = \"\";\n      }\n    },\n    quoteMessage(message) {\n      this.inputMessage = `> ${message}\\n`;\n    },\n    updateMessages(newMessages) {\n      this.$store.commit(\"SET_MESSAGES\", newMessages);\n    },\n  },\n  created() {\n    this.$store.dispatch(\"fetchIconColor\");\n  },\n  mounted() {\n    this.initializeRoom(this.$route.params.id);\n    this.initWebSocket();\n  },\n  beforeUnmount() {\n    this.closeWebSocket();\n  },\n};\n</script>\n<style>\n.home {\n  display: flex;\n  flex-direction: column;\n}\n\n.alert-full-width {\n  width: 100%; /* VaAlertコンポーネントの幅を100%に設定 */\n}\n\n.chat-container {\n  display: flex;\n  flex-direction: row;\n}\n\n.chat-section {\n  max-height: 500px;\n  flex: 1;\n}\n</style>\n","import { render } from \"./RoomPage.vue?vue&type=template&id=73c0ddc6\"\nimport script from \"./RoomPage.vue?vue&type=script&lang=js\"\nexport * from \"./RoomPage.vue?vue&type=script&lang=js\"\n\nimport \"./RoomPage.vue?vue&type=style&index=0&id=73c0ddc6&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\nimport HomePage from \"@/components/HomePage.vue\";\nimport LoginPage from \"@/components/LoginPage.vue\";\nimport RegisterPage from \"@/components/RegisterPage.vue\";\nimport UserProfile from \"@/components/UserProfile.vue\";\nimport RoomPage from \"@/components/RoomPage.vue\";\n\nconst routes = [\n  { path: \"/\", component: LoginPage },\n  { path: \"/home\", component: HomePage },\n  { path: \"/room/:id\", component: RoomPage, props: true },\n  { path: \"/login\", component: LoginPage },\n  { path: \"/register\", component: RegisterPage },\n  { path: \"/user-profile\", component: UserProfile },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.STATIC_URL),\n  routes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\nimport axios from \"axios\";\n\nconst store = createStore({\n  state() {\n    return {\n      messages: [],\n      rooms: [],\n      currentRoom: null,\n      currentUser: null,\n      filteredMessages: [],\n      isUsernameValid: false,\n      isPasswordValid: false,\n      isLoggedIn: false,\n      socket: null,\n      roomId: null,\n      iconColor: \"primary\",\n      chatSocket: null,\n      roomListSocket: null,\n    };\n  },\n  mutations: {\n    setIconColor(state, color) {\n      state.iconColor = color;\n    },\n    setRooms(state, rooms) {\n      state.rooms = rooms;\n    },\n    setLoggedIn(state, status) {\n      state.isLoggedIn = status;\n    },\n    setCurrentUser(state, user) {\n      state.currentUser = user;\n    },\n    setCurrentRoom(state, room) {\n      state.currentRoom = room;\n    },\n    setMessages(state, messages) {\n      state.messages = messages;\n    },\n    setSocket(state, socket) {\n      state.socket = socket;\n    },\n    setRoomListSocket(state, socket) {\n      state.roomListSocket = socket;\n    },\n    addRoom(state, room) {\n      state.rooms = [...state.rooms, room];\n    },\n    addMessage(state, message) {\n      if (!state.messages.some((m) => m.id === message.id)) {\n        state.messages.push(message);\n      }\n    },\n    updateUsernameValidation(state, isValid) {\n      state.isUsernameValid = isValid;\n    },\n    updatePasswordValidation(state, isValid) {\n      state.isPasswordValid = isValid;\n    },\n    SET_ROOM_ID(state, roomId) {\n      state.roomId = roomId;\n    },\n    SET_CHAT_SOCKET(state, socket) {\n      if (state.chatSocket) {\n        state.chatSocket.close();\n      }\n      state.chatSocket = socket;\n    },\n    SET_ROOM_LIST_SOCKET(state, socket) {\n      if (state.roomListSocket) {\n        state.roomListSocket.close();\n      }\n      state.roomListSocket = socket;\n    },\n  },\n  actions: {\n    fetchIconColor({ commit, state }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"get_icon_color/\", {\n          params: { username: state.currentUser.username },\n        })\n        .then((response) => {\n          commit(\"setIconColor\", response.data.color);\n          return response.data.color;\n        })\n        .catch((error) => {\n          console.error(\"Error fetching icon color:\", error);\n        });\n    },\n    updateIconColor({ commit, state }, color) {\n      const username = state.currentUser.username;\n      return axios\n        .post(process.env.VUE_APP_BASE_URL + \"update_icon_color/\", {\n          username: username,\n          color: color,\n        })\n        .then(() => {\n          commit(\"setIconColor\", color);\n        })\n        .catch((error) => {\n          console.error(\"Error updating icon color:\", error);\n        });\n    },\n    fetchRooms({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"room/\")\n        .then((response) => {\n          const rooms = response.data.map((room) => ({\n            id: room.id,\n            name: room.name,\n          }));\n          commit(\"setRooms\", rooms);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching rooms:\", error);\n        });\n    },\n    fetchAuthentication({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"check_login_status/\")\n        .then((response) => {\n          commit(\"setLoggedIn\", response.data.isLoggedIn);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching authentication status:\", error);\n          commit(\"setLoggedIn\", false);\n        });\n    },\n    fetchCurrentUser({ commit }) {\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"get_current_user/\")\n        .then((response) => {\n          commit(\"setCurrentUser\", response.data);\n          localStorage.setItem(\"username\", response.data.username);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching current user:\", error);\n        });\n    },\n    fetchMessages({ state, commit }) {\n      if (state.currentRoom === null) {\n        console.error(\"currentRoom is not set\");\n        return Promise.reject(\"currentRoom is not set\");\n      }\n      return axios\n        .get(process.env.VUE_APP_BASE_URL + \"messages/\", {\n          params: { room_id: state.currentRoom },\n        })\n        .then((response) => {\n          commit(\"setMessages\", response.data);\n        })\n        .catch((error) => {\n          console.error(\"Error fetching messages:\", error);\n        });\n    },\n    initRoomListWebSocket({ commit, dispatch }) {\n      const wsUrl = `${process.env.VUE_APP_WS_URL}ws/room_list/`;\n      const socket = new WebSocket(wsUrl);\n\n      socket.onopen = () => {\n        console.log(\"Room List WebSocket connected\");\n      };\n\n      socket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.type === \"room_list_update\") {\n          dispatch(\"updateRoomList\", data.rooms);\n        }\n      };\n\n      socket.onclose = () => {\n        console.log(\"Room List WebSocket disconnected\");\n        setTimeout(() => dispatch(\"initRoomListWebSocket\"), 3000);\n      };\n\n      commit(\"SET_ROOM_LIST_SOCKET\", socket);\n    },\n\n    updateRoomList({ commit }, rooms) {\n      commit(\"setRooms\", rooms);\n    },\n\n    closeWebSocket({ state, commit }) {\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        state.socket.close();\n      }\n      commit(\"setSocket\", null);\n    },\n\n    initWebSocket({ state, commit }) {\n      if (!state.currentUser) {\n        console.error(\"Cannot initialize WebSocket: User not authenticated\");\n        return;\n      }\n      if (state.currentRoom === null) {\n        console.error(\"Cannot initialize WebSocket: Room not selected\");\n        return;\n      }\n\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        state.socket.close();\n      }\n\n      const wsUrl = `${process.env.VUE_APP_WS_URL}ws/chat/${state.currentRoom}/`;\n      console.log(\"Connecting to WebSocket:\", wsUrl);\n\n      const socket = new WebSocket(wsUrl);\n\n      socket.onopen = () => {\n        console.log(\"WebSocket connected successfully\");\n      };\n\n      socket.onmessage = (event) => {\n        console.log(\"WebSocket message received:\", event.data);\n        try {\n          const data = JSON.parse(event.data);\n          if (data.type === \"chat_message\") {\n            store.dispatch(\"addMessage\", data.message);\n          }\n        } catch (error) {\n          console.error(\"Error processing WebSocket message:\", error);\n        }\n      };\n\n      socket.onerror = (error) => {\n        console.error(\"WebSocket error:\", error);\n      };\n\n      socket.onclose = (event) => {\n        console.log(\n          \"WebSocket closed. Code:\",\n          event.code,\n          \"Reason:\",\n          event.reason\n        );\n        commit(\"setSocket\", null);\n        /*\n        setTimeout(() => {\n          console.log(\"Attempting to reconnect...\");\n          store.dispatch(\"initWebSocket\");\n        }, 5000);\n        */\n      };\n      commit(\"setSocket\", socket);\n    },\n    switchRoom({ commit, state }, newRoomId) {\n      if (state.chatSocket) {\n        state.chatSocket.close();\n        commit(\"SET_CHAT_SOCKET\", null);\n      }\n\n      if (state.roomListSocket) {\n        state.roomListSocket.close();\n        commit(\"SET_ROOM_LIST_SOCKET\", null);\n      }\n\n      commit(\"SET_ROOM_ID\", newRoomId);\n\n      store.dispatch(\"initChatWebSocket\", newRoomId);\n\n      store.dispatch(\"initRoomListWebSocket\");\n    },\n    addMessage({ commit }, message) {\n      commit(\"addMessage\", message);\n    },\n    sendMessage({ state }, messageData) {\n      if (state.socket && state.socket.readyState === WebSocket.OPEN) {\n        const message = {\n          type: \"chat_message\",\n          message: messageData,\n          username: state.currentUser.username,\n          room: state.currentRoom,\n        };\n        state.socket.send(JSON.stringify(message));\n      } else {\n        console.error(\"WebSocket is not open. Unable to send message.\");\n      }\n    },\n    logIn({ commit }) {\n      commit(\"setLoggedIn\", true);\n    },\n    logOut({ commit }) {\n      commit(\"setLoggedIn\", false);\n    },\n    addRoom({ commit }, room) {\n      commit(\"addRoom\", room);\n    },\n    selectRoom({ commit, dispatch }, room) {\n      commit(\"setCurrentRoom\", room);\n      dispatch(\"initWebSocket\");\n    },\n    updateUsernameValidation({ commit }, isValid) {\n      commit(\"updateUsernameValidation\", isValid);\n    },\n    updatePasswordValidation({ commit }, isValid) {\n      commit(\"updatePasswordValidation\", isValid);\n    },\n    setRoomId({ commit }, roomId) {\n      commit(\"SET_ROOM_ID\", roomId);\n    },\n  },\n});\n\nexport default store;\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport axios from \"axios\";\nimport { createVuestic } from \"vuestic-ui\";\nimport \"vuestic-ui/styles/essential.css\";\nimport \"vuestic-ui/styles/grid.css\";\nimport \"vuestic-ui/styles/reset.css\";\nimport \"vuestic-ui/styles/typography.css\";\nimport mdiVue from \"mdi-vue/v3\";\nimport * as mdijs from \"@mdi/js\";\n// import 'vuestic-admin/src/scss/icon-fonts/fontelico/fontelico.scss';\n\naxios.interceptors.request.use((config) => {\n  config.headers[\"X-CSRFToken\"] = window.csrfToken;\n  return config;\n});\n\ncreateApp(App)\n  .use(mdiVue, {\n    icons: mdijs,\n  })\n  .use(router)\n  .use(store)\n  .use(\n    createVuestic({\n      config: {\n        colors: {\n          variables: {\n            primary: \"#154EC1\",\n            secondary: \"#666E75\",\n            success: \"#3D9209\",\n            info: \"#158DE3\",\n            danger: \"#E42222\",\n            warning: \"#FFD43A\",\n            backgroundPrimary: \"#FFFFFF\",\n            backgroundSecondary: \"#FFFFFF\",\n            backgroundElement: \"#ECF0F1\",\n            backgroundBorder: \"#DEE5F2\",\n            textPrimary: \"#262824\",\n            textInverted: \"#FFFFFF\",\n            shadow: \"rgba(0, 0, 0, 0.12)\",\n            focus: \"#49A8FF\",\n            transparent: \"rgba(0, 0, 0, 0)\",\n            backgroundLanding: \"#f4f9fc\",\n            backgroundLandingBorder: \"rgba(155, 179, 206, 0.8)\",\n            button: \"#000\",\n          },\n        },\n        components: {\n          VaButton: {\n            color: \"button\",\n          },\n        },\n      },\n    })\n  )\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/static/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchat\"] = self[\"webpackChunkchat\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8625); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_ctx","isAuthenticated","_createBlock","_component_va_sidebar","key","collapsed","$data","isCollapsed","_cache","$event","default","_withCtx","_createVNode","_component_va_list","_component_va_sidebar_item","onClick","$options","goToHome","_component_va_sidebar_item_content","_component_va_icon","name","size","_component_va_sidebar_item_title","_createTextVNode","_","goToProfile","createNewRoom","_Fragment","_renderList","rooms","room","selectRoom","_toDisplayString","logout","_createCommentVNode","_hoisted_3","_component_router_view","computed","mapState","state","isLoggedIn","data","created","this","initializeApp","methods","mapActions","fetchAuthentication","fetchRooms","initRoomListWebSocket","$route","params","roomId","$router","push","then","location","reload","$store","commit","initWebSocket","csrfToken","getCookie","console","log","axios","post","process","headers","socket","close","logOut","catch","error","alert","response","detail","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","roomName","prompt","window","addRoom","__exports__","render","_component_VaAlert","color","border","_component_message_list","messages","onQuote","quoteMessage","onUpdateMessages","updateMessages","_component_message_input","value","inputMessage","onSend","addMessage","_component_prompt_display","msg","_component_VaCard","onMouseover","$setup","handleMouseOver","onMouseleave","handleMouseLeave","_component_VaCardTitle","style","_normalizeStyle","backgroundColor","getIconColor","user__username","_component_VaCardContent","text","innerHTML","_component_VaButton","_component_Return32","showQuoteButton","_hoisted_4","_component_CommandPalette","quotedMessage","handleSend","onClearQuote","clearQuotedMessage","$props","args","clearQuote","_component_ckeditor","editor","modelValue","content","config","editorConfig","sendMessage","components","ckeditor","CKEditor","props","String","ClassicEditor","toolbar","items","shouldNotGroupWhenFull","messageContent","$emit","Return32","CommandPalette","setup","store","useStore","reactive","iconColors","currentRoom","async","updateIconColor","username","get","messageText","dispatch","onMounted","onBeforeUnmount","readyState","WebSocket","OPEN","watch","newRoom","oldRoom","newMessages","oldMessages","deep","toRefs","API_KEY","http","create","baseURL","Authorization","askChatGPT","result","makeRequestWithRetry","model","role","max_tokens","temperature","choices","message","currentUser","question","answer","url","retries","delay","status","Promise","resolve","setTimeout","Math","pow","MessageList","PromptDisplay","mounted","createDefaultRoom","wsUrl","onopen","onmessage","event","receivedMessage","JSON","parse","onclose","onerror","beforeUnmount","send","stringify","room_name","room_id","messageData","src","_imports_0","alt","_component_va_card","onSubmit","_withModifiers","onLogin","_component_va_input","placeholder","_hoisted_5","type","password","_hoisted_6","_hoisted_7","_component_VaBadge","goToRegister","router","useRouter","ref","find","row","startsWith","_component_VaInput","onInput","checkUsername","success","isUsernameValid","usernameError","label","checkPassword","isPasswordValid","passwordError","isFormValid","registerUser","isValid","updateUsernameValidation","updatePasswordValidation","icon","_component_VaIcon","cssColor","colors","changeIconColor","iconColor","ws","initializeWebSocket","initializeIconColor","getColor","useColors","colorName","onUnmounted","fetchIconColor","fetchedColor","immediate","handler","newId","initializeRoom","closeWebSocket","fetchMessages","fetchCurrentUser","routes","path","component","LoginPage","HomePage","RoomPage","RegisterPage","UserProfile","createRouter","history","createWebHistory","STATIC_URL","createStore","filteredMessages","chatSocket","roomListSocket","mutations","setIconColor","setRooms","setLoggedIn","setCurrentUser","user","setCurrentRoom","setMessages","setSocket","setRoomListSocket","some","m","SET_ROOM_ID","SET_CHAT_SOCKET","SET_ROOM_LIST_SOCKET","actions","map","localStorage","setItem","reject","updateRoomList","code","reason","switchRoom","newRoomId","logIn","setRoomId","interceptors","request","use","createApp","App","mdiVue","icons","mdijs","createVuestic","variables","primary","secondary","info","danger","warning","backgroundPrimary","backgroundSecondary","backgroundElement","backgroundBorder","textPrimary","textInverted","shadow","focus","transparent","backgroundLanding","backgroundLandingBorder","button","VaButton","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}